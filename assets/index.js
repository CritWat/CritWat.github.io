function Yx(i,c){for(var f=0;f<c.length;f++){const m=c[f];if(typeof m!="string"&&!Array.isArray(m)){for(const y in m)if(y!=="default"&&!(y in i)){const b=Object.getOwnPropertyDescriptor(m,y);b&&Object.defineProperty(i,y,b.get?b:{enumerable:!0,get:()=>m[y]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))m(y);new MutationObserver(y=>{for(const b of y)if(b.type==="childList")for(const M of b.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&m(M)}).observe(document,{childList:!0,subtree:!0});function f(y){const b={};return y.integrity&&(b.integrity=y.integrity),y.referrerPolicy&&(b.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?b.credentials="include":y.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function m(y){if(y.ep)return;y.ep=!0;const b=f(y);fetch(y.href,b)}})();Number.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},init=function(){if(!window.MSStream){var i=document.currentScript.attributes.src.value,c=i.lastIndexOf("/");c>0&&i.substring(0,c+1)}}();(function(i,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):c((i=typeof globalThis<"u"?globalThis:i||self).THREE={})})(void 0,function(i){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}),Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(n!=null)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r});var c=100,f=300,m=301,y=302,b=303,M=304,R=306,L=307,N=1e3,I=1001,F=1002,D=1003,W=1004,X=1005,$=1006,j=1007,oe=1008,de=1009,he=1012,fe=1014,xe=1015,Oe=1016,Ge=1020,ze=1022,Xe=1023,it=1026,st=1027,gt=33776,_t=33777,It=33778,nn=33779,Dt=35840,Rt=35841,De=35842,pe=35843,Re=37492,le=37496,Te=2300,Lt=2301,At=2302,Bt=2400,Gt=2401,rn=2402,qt=2500,pn=2501,He=3e3,Pt=3001,un=3007,pt=3002,Sn=3004,Yn=3005,lr=3006,jt=7680,mn=35044,Yt=35048,In="300 es";function Kt(){}Object.assign(Kt.prototype,{addEventListener:function(e,r){this._listeners===void 0&&(this._listeners={});var t=this._listeners;t[e]===void 0&&(t[e]=[]),t[e].indexOf(r)===-1&&t[e].push(r)},hasEventListener:function(e,r){if(this._listeners===void 0)return!1;var t=this._listeners;return t[e]!==void 0&&t[e].indexOf(r)!==-1},removeEventListener:function(e,r){if(this._listeners!==void 0){var t=this._listeners[e];if(t!==void 0){var n=t.indexOf(r);n!==-1&&t.splice(n,1)}}},dispatchEvent:function(e){if(this._listeners!==void 0){var r=this._listeners[e.type];if(r!==void 0){e.target=this;for(var t=r.slice(0),n=0,o=t.length;n<o;n++)t[n].call(this,e)}}}});for(var Qe=[],bn=0;bn<256;bn++)Qe[bn]=(bn<16?"0":"")+bn.toString(16);var Qr=1234567,Ct={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Qe[255&e]+Qe[e>>8&255]+Qe[e>>16&255]+Qe[e>>24&255]+"-"+Qe[255&r]+Qe[r>>8&255]+"-"+Qe[r>>16&15|64]+Qe[r>>24&255]+"-"+Qe[63&t|128]+Qe[t>>8&255]+"-"+Qe[t>>16&255]+Qe[t>>24&255]+Qe[255&n]+Qe[n>>8&255]+Qe[n>>16&255]+Qe[n>>24&255]).toUpperCase()},clamp:function(e,r,t){return Math.max(r,Math.min(t,e))},euclideanModulo:function(e,r){return(e%r+r)%r},mapLinear:function(e,r,t,n,o){return n+(e-r)*(o-n)/(t-r)},lerp:function(e,r,t){return(1-t)*e+t*r},smoothstep:function(e,r,t){return e<=r?0:e>=t?1:(e=(e-r)/(t-r))*e*(3-2*e)},smootherstep:function(e,r,t){return e<=r?0:e>=t?1:(e=(e-r)/(t-r))*e*e*(e*(6*e-15)+10)},randInt:function(e,r){return e+Math.floor(Math.random()*(r-e+1))},randFloat:function(e,r){return e+Math.random()*(r-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&(Qr=e%2147483647),((Qr=16807*Qr%2147483647)-1)/2147483646},degToRad:function(e){return e*Ct.DEG2RAD},radToDeg:function(e){return e*Ct.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)==0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,r,t,n,o){var l=Math.cos,u=Math.sin,h=l(t/2),p=u(t/2),v=l((r+n)/2),x=u((r+n)/2),w=l((r-n)/2),T=u((r-n)/2),S=l((n-r)/2),C=u((n-r)/2);switch(o){case"XYX":e.set(h*x,p*w,p*T,h*v);break;case"YZY":e.set(p*T,h*x,p*w,h*v);break;case"ZXZ":e.set(p*w,p*T,h*x,h*v);break;case"XZX":e.set(h*x,p*C,p*S,h*v);break;case"YXY":e.set(p*S,h*x,p*C,h*v);break;case"ZYZ":e.set(p*C,p*S,h*x,h*v);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}};function Xt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gn(e,r,t){return r&&Xt(e.prototype,r),e}function Ve(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}function Ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var an,Ae=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}var r=e.prototype;return r.set=function(t,n){return this.x=t,this.y=n,this},r.setScalar=function(t){return this.x=t,this.y=t,this},r.setX=function(t){return this.x=t,this},r.setY=function(t){return this.y=t,this},r.setComponent=function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this},r.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},r.clone=function(){return new this.constructor(this.x,this.y)},r.copy=function(t){return this.x=t.x,this.y=t.y,this},r.add=function(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)},r.addScalar=function(t){return this.x+=t,this.y+=t,this},r.addVectors=function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this},r.addScaledVector=function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this},r.sub=function(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)},r.subScalar=function(t){return this.x-=t,this.y-=t,this},r.subVectors=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},r.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.divideScalar=function(t){return this.multiplyScalar(1/t)},r.applyMatrix3=function(t){var n=this.x,o=this.y,l=t.elements;return this.x=l[0]*n+l[3]*o+l[6],this.y=l[1]*n+l[4]*o+l[7],this},r.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},r.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},r.clamp=function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this},r.clampScalar=function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this},r.clampLength=function(t,n){var o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(n,o)))},r.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},r.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},r.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},r.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.dot=function(t){return this.x*t.x+this.y*t.y},r.cross=function(t){return this.x*t.y-this.y*t.x},r.lengthSq=function(){return this.x*this.x+this.y*this.y},r.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},r.normalize=function(){return this.divideScalar(this.length()||1)},r.angle=function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t},r.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},r.distanceToSquared=function(t){var n=this.x-t.x,o=this.y-t.y;return n*n+o*o},r.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},r.setLength=function(t){return this.normalize().multiplyScalar(t)},r.lerp=function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this},r.lerpVectors=function(t,n,o){return this.x=t.x+(n.x-t.x)*o,this.y=t.y+(n.y-t.y)*o,this},r.equals=function(t){return t.x===this.x&&t.y===this.y},r.fromArray=function(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t},r.fromBufferAttribute=function(t,n,o){return o!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this},r.rotateAround=function(t,n){var o=Math.cos(n),l=Math.sin(n),u=this.x-t.x,h=this.y-t.y;return this.x=u*o-h*l+t.x,this.y=u*l+h*o+t.y,this},r.random=function(){return this.x=Math.random(),this.y=Math.random(),this},gn(e,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}}]),e}(),Mn=function(){function e(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}var r=e.prototype;return r.set=function(t,n,o,l,u,h,p,v,x){var w=this.elements;return w[0]=t,w[1]=l,w[2]=p,w[3]=n,w[4]=u,w[5]=v,w[6]=o,w[7]=h,w[8]=x,this},r.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},r.clone=function(){return new this.constructor().fromArray(this.elements)},r.copy=function(t){var n=this.elements,o=t.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],this},r.extractBasis=function(t,n,o){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this},r.setFromMatrix4=function(t){var n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this},r.multiply=function(t){return this.multiplyMatrices(this,t)},r.premultiply=function(t){return this.multiplyMatrices(t,this)},r.multiplyMatrices=function(t,n){var o=t.elements,l=n.elements,u=this.elements,h=o[0],p=o[3],v=o[6],x=o[1],w=o[4],T=o[7],S=o[2],C=o[5],P=o[8],A=l[0],O=l[3],H=l[6],k=l[1],B=l[4],G=l[7],Z=l[2],q=l[5],ie=l[8];return u[0]=h*A+p*k+v*Z,u[3]=h*O+p*B+v*q,u[6]=h*H+p*G+v*ie,u[1]=x*A+w*k+T*Z,u[4]=x*O+w*B+T*q,u[7]=x*H+w*G+T*ie,u[2]=S*A+C*k+P*Z,u[5]=S*O+C*B+P*q,u[8]=S*H+C*G+P*ie,this},r.multiplyScalar=function(t){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this},r.determinant=function(){var t=this.elements,n=t[0],o=t[1],l=t[2],u=t[3],h=t[4],p=t[5],v=t[6],x=t[7],w=t[8];return n*h*w-n*p*x-o*u*w+o*p*v+l*u*x-l*h*v},r.getInverse=function(t,n){n!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var o=t.elements,l=this.elements,u=o[0],h=o[1],p=o[2],v=o[3],x=o[4],w=o[5],T=o[6],S=o[7],C=o[8],P=C*x-w*S,A=w*T-C*v,O=S*v-x*T,H=u*P+h*A+p*O;if(H===0)return this.set(0,0,0,0,0,0,0,0,0);var k=1/H;return l[0]=P*k,l[1]=(p*S-C*h)*k,l[2]=(w*h-p*x)*k,l[3]=A*k,l[4]=(C*u-p*T)*k,l[5]=(p*v-w*u)*k,l[6]=O*k,l[7]=(h*T-S*u)*k,l[8]=(x*u-h*v)*k,this},r.transpose=function(){var t,n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this},r.getNormalMatrix=function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},r.transposeIntoArray=function(t){var n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this},r.setUvTransform=function(t,n,o,l,u,h,p){var v=Math.cos(u),x=Math.sin(u);this.set(o*v,o*x,-o*(v*h+x*p)+h+t,-l*x,l*v,-l*(-x*h+v*p)+p+n,0,0,1)},r.scale=function(t,n){var o=this.elements;return o[0]*=t,o[3]*=t,o[6]*=t,o[1]*=n,o[4]*=n,o[7]*=n,this},r.rotate=function(t){var n=Math.cos(t),o=Math.sin(t),l=this.elements,u=l[0],h=l[3],p=l[6],v=l[1],x=l[4],w=l[7];return l[0]=n*u+o*v,l[3]=n*h+o*x,l[6]=n*p+o*w,l[1]=-o*u+n*v,l[4]=-o*h+n*x,l[7]=-o*p+n*w,this},r.translate=function(t,n){var o=this.elements;return o[0]+=t*o[2],o[3]+=t*o[5],o[6]+=t*o[8],o[1]+=n*o[2],o[4]+=n*o[5],o[7]+=n*o[8],this},r.equals=function(t){for(var n=this.elements,o=t.elements,l=0;l<9;l++)if(n[l]!==o[l])return!1;return!0},r.fromArray=function(t,n){n===void 0&&(n=0);for(var o=0;o<9;o++)this.elements[o]=t[o+n];return this},r.toArray=function(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);var o=this.elements;return t[n]=o[0],t[n+1]=o[1],t[n+2]=o[2],t[n+3]=o[3],t[n+4]=o[4],t[n+5]=o[5],t[n+6]=o[6],t[n+7]=o[7],t[n+8]=o[8],t},e}(),Sr={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;var r;if(e instanceof HTMLCanvasElement)r=e;else{an===void 0&&(an=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),an.width=e.width,an.height=e.height;var t=an.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),r=an}return r.width>2048||r.height>2048?r.toDataURL("image/jpeg",.6):r.toDataURL("image/png")}},Gn=0;function cn(e,r,t,n,o,l,u,h,p,v){Object.defineProperty(this,"id",{value:Gn++}),this.uuid=Ct.generateUUID(),this.name="",this.image=e!==void 0?e:cn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=r!==void 0?r:cn.DEFAULT_MAPPING,this.wrapS=t!==void 0?t:I,this.wrapT=n!==void 0?n:I,this.magFilter=o!==void 0?o:$,this.minFilter=l!==void 0?l:oe,this.anisotropy=p!==void 0?p:1,this.format=u!==void 0?u:Xe,this.internalFormat=null,this.type=h!==void 0?h:de,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=v!==void 0?v:He,this.version=0,this.onUpdate=null}cn.DEFAULT_IMAGE=void 0,cn.DEFAULT_MAPPING=f,cn.prototype=Object.assign(Object.create(Kt.prototype),{constructor:cn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var n=this.image;if(n.uuid===void 0&&(n.uuid=Ct.generateUUID()),!r&&e.images[n.uuid]===void 0){var o;if(Array.isArray(n)){o=[];for(var l=0,u=n.length;l<u;l++)o.push(Sr.getDataURL(n[l]))}else o=Sr.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:o}}t.image=n.uuid}return r||(e.textures[this.uuid]=t),t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==f)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case N:e.x=e.x-Math.floor(e.x);break;case I:e.x=e.x<0?0:1;break;case F:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case N:e.y=e.y-Math.floor(e.y);break;case I:e.y=e.y<0?0:1;break;case F:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(cn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});var en=function(){function e(t,n,o,l){t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=1),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=o,this.w=l}var r=e.prototype;return r.set=function(t,n,o,l){return this.x=t,this.y=n,this.z=o,this.w=l,this},r.setScalar=function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},r.setX=function(t){return this.x=t,this},r.setY=function(t){return this.y=t,this},r.setZ=function(t){return this.z=t,this},r.setW=function(t){return this.w=t,this},r.setComponent=function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this},r.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},r.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)},r.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this},r.add=function(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},r.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},r.addVectors=function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this},r.addScaledVector=function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this},r.sub=function(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},r.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},r.subVectors=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this},r.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},r.applyMatrix4=function(t){var n=this.x,o=this.y,l=this.z,u=this.w,h=t.elements;return this.x=h[0]*n+h[4]*o+h[8]*l+h[12]*u,this.y=h[1]*n+h[5]*o+h[9]*l+h[13]*u,this.z=h[2]*n+h[6]*o+h[10]*l+h[14]*u,this.w=h[3]*n+h[7]*o+h[11]*l+h[15]*u,this},r.divideScalar=function(t){return this.multiplyScalar(1/t)},r.setAxisAngleFromQuaternion=function(t){this.w=2*Math.acos(t.w);var n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this},r.setAxisAngleFromRotationMatrix=function(t){var n,o,l,u,h=.01,p=.1,v=t.elements,x=v[0],w=v[4],T=v[8],S=v[1],C=v[5],P=v[9],A=v[2],O=v[6],H=v[10];if(Math.abs(w-S)<h&&Math.abs(T-A)<h&&Math.abs(P-O)<h){if(Math.abs(w+S)<p&&Math.abs(T+A)<p&&Math.abs(P+O)<p&&Math.abs(x+C+H-3)<p)return this.set(1,0,0,0),this;n=Math.PI;var k=(x+1)/2,B=(C+1)/2,G=(H+1)/2,Z=(w+S)/4,q=(T+A)/4,ie=(P+O)/4;return k>B&&k>G?k<h?(o=0,l=.707106781,u=.707106781):(l=Z/(o=Math.sqrt(k)),u=q/o):B>G?B<h?(o=.707106781,l=0,u=.707106781):(o=Z/(l=Math.sqrt(B)),u=ie/l):G<h?(o=.707106781,l=.707106781,u=0):(o=q/(u=Math.sqrt(G)),l=ie/u),this.set(o,l,u,n),this}var ee=Math.sqrt((O-P)*(O-P)+(T-A)*(T-A)+(S-w)*(S-w));return Math.abs(ee)<.001&&(ee=1),this.x=(O-P)/ee,this.y=(T-A)/ee,this.z=(S-w)/ee,this.w=Math.acos((x+C+H-1)/2),this},r.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},r.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},r.clamp=function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this},r.clampScalar=function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this},r.clampLength=function(t,n){var o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(n,o)))},r.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},r.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},r.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},r.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},r.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},r.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},r.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},r.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},r.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},r.normalize=function(){return this.divideScalar(this.length()||1)},r.setLength=function(t){return this.normalize().multiplyScalar(t)},r.lerp=function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this},r.lerpVectors=function(t,n,o){return this.x=t.x+(n.x-t.x)*o,this.y=t.y+(n.y-t.y)*o,this.z=t.z+(n.z-t.z)*o,this.w=t.w+(n.w-t.w)*o,this},r.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},r.fromArray=function(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t},r.fromBufferAttribute=function(t,n,o){return o!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this},r.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},gn(e,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}}]),e}();function mr(e,r,t){this.width=e,this.height=r,this.scissor=new en(0,0,e,r),this.scissorTest=!1,this.viewport=new en(0,0,e,r),t=t||{},this.texture=new cn(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=r,this.texture.generateMipmaps=t.generateMipmaps!==void 0&&t.generateMipmaps,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:$,this.depthBuffer=t.depthBuffer===void 0||t.depthBuffer,this.stencilBuffer=t.stencilBuffer!==void 0&&t.stencilBuffer,this.depthTexture=t.depthTexture!==void 0?t.depthTexture:null}function Ni(e,r,t){mr.call(this,e,r,t),this.samples=4}mr.prototype=Object.assign(Object.create(Kt.prototype),{constructor:mr,isWebGLRenderTarget:!0,setSize:function(e,r){this.width===e&&this.height===r||(this.width=e,this.height=r,this.texture.image.width=e,this.texture.image.height=r,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ni.prototype=Object.assign(Object.create(mr.prototype),{constructor:Ni,isWebGLMultisampleRenderTarget:!0,copy:function(e){return mr.prototype.copy.call(this,e),this.samples=e.samples,this}});var En=function(){function e(t,n,o,l){t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=1),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=o,this._w=l}e.slerp=function(t,n,o,l){return o.copy(t).slerp(n,l)},e.slerpFlat=function(t,n,o,l,u,h,p){var v=o[l+0],x=o[l+1],w=o[l+2],T=o[l+3],S=u[h+0],C=u[h+1],P=u[h+2],A=u[h+3];if(T!==A||v!==S||x!==C||w!==P){var O=1-p,H=v*S+x*C+w*P+T*A,k=H>=0?1:-1,B=1-H*H;if(B>Number.EPSILON){var G=Math.sqrt(B),Z=Math.atan2(G,H*k);O=Math.sin(O*Z)/G,p=Math.sin(p*Z)/G}var q=p*k;if(v=v*O+S*q,x=x*O+C*q,w=w*O+P*q,T=T*O+A*q,O===1-p){var ie=1/Math.sqrt(v*v+x*x+w*w+T*T);v*=ie,x*=ie,w*=ie,T*=ie}}t[n]=v,t[n+1]=x,t[n+2]=w,t[n+3]=T},e.multiplyQuaternionsFlat=function(t,n,o,l,u,h){var p=o[l],v=o[l+1],x=o[l+2],w=o[l+3],T=u[h],S=u[h+1],C=u[h+2],P=u[h+3];return t[n]=p*P+w*T+v*C-x*S,t[n+1]=v*P+w*S+x*T-p*C,t[n+2]=x*P+w*C+p*S-v*T,t[n+3]=w*P-p*T-v*S-x*C,t};var r=e.prototype;return r.set=function(t,n,o,l){return this._x=t,this._y=n,this._z=o,this._w=l,this._onChangeCallback(),this},r.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)},r.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},r.setFromEuler=function(t,n){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var o=t._x,l=t._y,u=t._z,h=t._order,p=Math.cos,v=Math.sin,x=p(o/2),w=p(l/2),T=p(u/2),S=v(o/2),C=v(l/2),P=v(u/2);switch(h){case"XYZ":this._x=S*w*T+x*C*P,this._y=x*C*T-S*w*P,this._z=x*w*P+S*C*T,this._w=x*w*T-S*C*P;break;case"YXZ":this._x=S*w*T+x*C*P,this._y=x*C*T-S*w*P,this._z=x*w*P-S*C*T,this._w=x*w*T+S*C*P;break;case"ZXY":this._x=S*w*T-x*C*P,this._y=x*C*T+S*w*P,this._z=x*w*P+S*C*T,this._w=x*w*T-S*C*P;break;case"ZYX":this._x=S*w*T-x*C*P,this._y=x*C*T+S*w*P,this._z=x*w*P-S*C*T,this._w=x*w*T+S*C*P;break;case"YZX":this._x=S*w*T+x*C*P,this._y=x*C*T+S*w*P,this._z=x*w*P-S*C*T,this._w=x*w*T-S*C*P;break;case"XZY":this._x=S*w*T-x*C*P,this._y=x*C*T-S*w*P,this._z=x*w*P+S*C*T,this._w=x*w*T+S*C*P;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+h)}return n!==!1&&this._onChangeCallback(),this},r.setFromAxisAngle=function(t,n){var o=n/2,l=Math.sin(o);return this._x=t.x*l,this._y=t.y*l,this._z=t.z*l,this._w=Math.cos(o),this._onChangeCallback(),this},r.setFromRotationMatrix=function(t){var n=t.elements,o=n[0],l=n[4],u=n[8],h=n[1],p=n[5],v=n[9],x=n[2],w=n[6],T=n[10],S=o+p+T;if(S>0){var C=.5/Math.sqrt(S+1);this._w=.25/C,this._x=(w-v)*C,this._y=(u-x)*C,this._z=(h-l)*C}else if(o>p&&o>T){var P=2*Math.sqrt(1+o-p-T);this._w=(w-v)/P,this._x=.25*P,this._y=(l+h)/P,this._z=(u+x)/P}else if(p>T){var A=2*Math.sqrt(1+p-o-T);this._w=(u-x)/A,this._x=(l+h)/A,this._y=.25*A,this._z=(v+w)/A}else{var O=2*Math.sqrt(1+T-o-p);this._w=(h-l)/O,this._x=(u+x)/O,this._y=(v+w)/O,this._z=.25*O}return this._onChangeCallback(),this},r.setFromUnitVectors=function(t,n){var o=t.dot(n)+1;return o<1e-6?(o=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=o):(this._x=0,this._y=-t.z,this._z=t.y,this._w=o)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=o),this.normalize()},r.angleTo=function(t){return 2*Math.acos(Math.abs(Ct.clamp(this.dot(t),-1,1)))},r.rotateTowards=function(t,n){var o=this.angleTo(t);if(o===0)return this;var l=Math.min(1,n/o);return this.slerp(t,l),this},r.identity=function(){return this.set(0,0,0,1)},r.inverse=function(){return this.conjugate()},r.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},r.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},r.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},r.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},r.normalize=function(){var t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},r.multiply=function(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)},r.premultiply=function(t){return this.multiplyQuaternions(t,this)},r.multiplyQuaternions=function(t,n){var o=t._x,l=t._y,u=t._z,h=t._w,p=n._x,v=n._y,x=n._z,w=n._w;return this._x=o*w+h*p+l*x-u*v,this._y=l*w+h*v+u*p-o*x,this._z=u*w+h*x+o*v-l*p,this._w=h*w-o*p-l*v-u*x,this._onChangeCallback(),this},r.slerp=function(t,n){if(n===0)return this;if(n===1)return this.copy(t);var o=this._x,l=this._y,u=this._z,h=this._w,p=h*t._w+o*t._x+l*t._y+u*t._z;if(p<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,p=-p):this.copy(t),p>=1)return this._w=h,this._x=o,this._y=l,this._z=u,this;var v=1-p*p;if(v<=Number.EPSILON){var x=1-n;return this._w=x*h+n*this._w,this._x=x*o+n*this._x,this._y=x*l+n*this._y,this._z=x*u+n*this._z,this.normalize(),this._onChangeCallback(),this}var w=Math.sqrt(v),T=Math.atan2(w,p),S=Math.sin((1-n)*T)/w,C=Math.sin(n*T)/w;return this._w=h*S+this._w*C,this._x=o*S+this._x*C,this._y=l*S+this._y*C,this._z=u*S+this._z*C,this._onChangeCallback(),this},r.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},r.fromArray=function(t,n){return n===void 0&&(n=0),this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t},r.fromBufferAttribute=function(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this},r._onChange=function(t){return this._onChangeCallback=t,this},r._onChangeCallback=function(){},gn(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}]),e}(),V=function(){function e(t,n,o){t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=o}var r=e.prototype;return r.set=function(t,n,o){return o===void 0&&(o=this.z),this.x=t,this.y=n,this.z=o,this},r.setScalar=function(t){return this.x=t,this.y=t,this.z=t,this},r.setX=function(t){return this.x=t,this},r.setY=function(t){return this.y=t,this},r.setZ=function(t){return this.z=t,this},r.setComponent=function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this},r.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},r.clone=function(){return new this.constructor(this.x,this.y,this.z)},r.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},r.add=function(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},r.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},r.addVectors=function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this},r.addScaledVector=function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this},r.sub=function(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},r.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},r.subVectors=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this},r.multiply=function(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},r.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},r.multiplyVectors=function(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this},r.applyEuler=function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(lt.setFromEuler(t))},r.applyAxisAngle=function(t,n){return this.applyQuaternion(lt.setFromAxisAngle(t,n))},r.applyMatrix3=function(t){var n=this.x,o=this.y,l=this.z,u=t.elements;return this.x=u[0]*n+u[3]*o+u[6]*l,this.y=u[1]*n+u[4]*o+u[7]*l,this.z=u[2]*n+u[5]*o+u[8]*l,this},r.applyNormalMatrix=function(t){return this.applyMatrix3(t).normalize()},r.applyMatrix4=function(t){var n=this.x,o=this.y,l=this.z,u=t.elements,h=1/(u[3]*n+u[7]*o+u[11]*l+u[15]);return this.x=(u[0]*n+u[4]*o+u[8]*l+u[12])*h,this.y=(u[1]*n+u[5]*o+u[9]*l+u[13])*h,this.z=(u[2]*n+u[6]*o+u[10]*l+u[14])*h,this},r.applyQuaternion=function(t){var n=this.x,o=this.y,l=this.z,u=t.x,h=t.y,p=t.z,v=t.w,x=v*n+h*l-p*o,w=v*o+p*n-u*l,T=v*l+u*o-h*n,S=-u*n-h*o-p*l;return this.x=x*v+S*-u+w*-p-T*-h,this.y=w*v+S*-h+T*-u-x*-p,this.z=T*v+S*-p+x*-h-w*-u,this},r.project=function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},r.unproject=function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},r.transformDirection=function(t){var n=this.x,o=this.y,l=this.z,u=t.elements;return this.x=u[0]*n+u[4]*o+u[8]*l,this.y=u[1]*n+u[5]*o+u[9]*l,this.z=u[2]*n+u[6]*o+u[10]*l,this.normalize()},r.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},r.divideScalar=function(t){return this.multiplyScalar(1/t)},r.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},r.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},r.clamp=function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this},r.clampScalar=function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this},r.clampLength=function(t,n){var o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(n,o)))},r.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},r.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},r.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},r.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},r.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},r.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},r.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},r.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},r.normalize=function(){return this.divideScalar(this.length()||1)},r.setLength=function(t){return this.normalize().multiplyScalar(t)},r.lerp=function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this},r.lerpVectors=function(t,n,o){return this.x=t.x+(n.x-t.x)*o,this.y=t.y+(n.y-t.y)*o,this.z=t.z+(n.z-t.z)*o,this},r.cross=function(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)},r.crossVectors=function(t,n){var o=t.x,l=t.y,u=t.z,h=n.x,p=n.y,v=n.z;return this.x=l*v-u*p,this.y=u*h-o*v,this.z=o*p-l*h,this},r.projectOnVector=function(t){var n=t.lengthSq();if(n===0)return this.set(0,0,0);var o=t.dot(this)/n;return this.copy(t).multiplyScalar(o)},r.projectOnPlane=function(t){return Ce.copy(this).projectOnVector(t),this.sub(Ce)},r.reflect=function(t){return this.sub(Ce.copy(t).multiplyScalar(2*this.dot(t)))},r.angleTo=function(t){var n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;var o=this.dot(t)/n;return Math.acos(Ct.clamp(o,-1,1))},r.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},r.distanceToSquared=function(t){var n=this.x-t.x,o=this.y-t.y,l=this.z-t.z;return n*n+o*o+l*l},r.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},r.setFromSpherical=function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},r.setFromSphericalCoords=function(t,n,o){var l=Math.sin(n)*t;return this.x=l*Math.sin(o),this.y=Math.cos(n)*t,this.z=l*Math.cos(o),this},r.setFromCylindrical=function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},r.setFromCylindricalCoords=function(t,n,o){return this.x=t*Math.sin(n),this.y=o,this.z=t*Math.cos(n),this},r.setFromMatrixPosition=function(t){var n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this},r.setFromMatrixScale=function(t){var n=this.setFromMatrixColumn(t,0).length(),o=this.setFromMatrixColumn(t,1).length(),l=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=o,this.z=l,this},r.setFromMatrixColumn=function(t,n){return this.fromArray(t.elements,4*n)},r.setFromMatrix3Column=function(t,n){return this.fromArray(t.elements,3*n)},r.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},r.fromArray=function(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t},r.fromBufferAttribute=function(t,n,o){return o!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this},r.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},e}(),Ce=new V,lt=new En,ot=function(){function e(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new V(1/0,1/0,1/0),this.max=n!==void 0?n:new V(-1/0,-1/0,-1/0)}var r=e.prototype;return r.set=function(t,n){return this.min.copy(t),this.max.copy(n),this},r.setFromArray=function(t){for(var n=1/0,o=1/0,l=1/0,u=-1/0,h=-1/0,p=-1/0,v=0,x=t.length;v<x;v+=3){var w=t[v],T=t[v+1],S=t[v+2];w<n&&(n=w),T<o&&(o=T),S<l&&(l=S),w>u&&(u=w),T>h&&(h=T),S>p&&(p=S)}return this.min.set(n,o,l),this.max.set(u,h,p),this},r.setFromBufferAttribute=function(t){for(var n=1/0,o=1/0,l=1/0,u=-1/0,h=-1/0,p=-1/0,v=0,x=t.count;v<x;v++){var w=t.getX(v),T=t.getY(v),S=t.getZ(v);w<n&&(n=w),T<o&&(o=T),S<l&&(l=S),w>u&&(u=w),T>h&&(h=T),S>p&&(p=S)}return this.min.set(n,o,l),this.max.set(u,h,p),this},r.setFromPoints=function(t){this.makeEmpty();for(var n=0,o=t.length;n<o;n++)this.expandByPoint(t[n]);return this},r.setFromCenterAndSize=function(t,n){var o=xt.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this},r.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},r.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},r.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},r.getCenter=function(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new V),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},r.getSize=function(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new V),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},r.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},r.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},r.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},r.expandByObject=function(t){t.updateWorldMatrix(!1,!1);var n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),ft.copy(n.boundingBox),ft.applyMatrix4(t.matrixWorld),this.union(ft));for(var o=t.children,l=0,u=o.length;l<u;l++)this.expandByObject(o[l]);return this},r.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},r.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},r.getParameter=function(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new V),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},r.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},r.intersectsSphere=function(t){return this.clampPoint(t.center,xt),xt.distanceToSquared(t.center)<=t.radius*t.radius},r.intersectsPlane=function(t){var n,o;return t.normal.x>0?(n=t.normal.x*this.min.x,o=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,o=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,o+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,o+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,o+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,o+=t.normal.z*this.min.z),n<=-t.constant&&o>=-t.constant},r.intersectsTriangle=function(t){if(this.isEmpty())return!1;this.getCenter(Mr),$r.subVectors(this.max,Mr),Ze.subVectors(t.a,Mr),Tn.subVectors(t.b,Mr),Un.subVectors(t.c,Mr),Zn.subVectors(Tn,Ze),jn.subVectors(Un,Tn),Hn.subVectors(Ze,Un);var n=[0,-Zn.z,Zn.y,0,-jn.z,jn.y,0,-Hn.z,Hn.y,Zn.z,0,-Zn.x,jn.z,0,-jn.x,Hn.z,0,-Hn.x,-Zn.y,Zn.x,0,-jn.y,jn.x,0,-Hn.y,Hn.x,0];return!!mt(n,Ze,Tn,Un,$r)&&!!mt(n=[1,0,0,0,1,0,0,0,1],Ze,Tn,Un,$r)&&(_i.crossVectors(Zn,jn),mt(n=[_i.x,_i.y,_i.z],Ze,Tn,Un,$r))},r.clampPoint=function(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new V),n.copy(t).clamp(this.min,this.max)},r.distanceToPoint=function(t){return xt.copy(t).clamp(this.min,this.max).sub(t).length()},r.getBoundingSphere=function(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(xt).length(),t},r.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},r.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},r.applyMatrix4=function(t){return this.isEmpty()||(Vt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Vt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Vt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Vt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Vt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Vt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Vt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Vt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Vt)),this},r.translate=function(t){return this.min.add(t),this.max.add(t),this},r.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},e}();function mt(e,r,t,n,o){for(var l=0,u=e.length-3;l<=u;l+=3){Dr.fromArray(e,l);var h=o.x*Math.abs(Dr.x)+o.y*Math.abs(Dr.y)+o.z*Math.abs(Dr.z),p=r.dot(Dr),v=t.dot(Dr),x=n.dot(Dr);if(Math.max(-Math.max(p,v,x),Math.min(p,v,x))>h)return!1}return!0}var Vt=[new V,new V,new V,new V,new V,new V,new V,new V],xt=new V,ft=new ot,Ze=new V,Tn=new V,Un=new V,Zn=new V,jn=new V,Hn=new V,Mr=new V,$r=new V,_i=new V,Dr=new V,Da=new ot,Kr=function(){function e(t,n){this.center=t!==void 0?t:new V,this.radius=n!==void 0?n:-1}var r=e.prototype;return r.set=function(t,n){return this.center.copy(t),this.radius=n,this},r.setFromPoints=function(t,n){var o=this.center;n!==void 0?o.copy(n):Da.setFromPoints(t).getCenter(o);for(var l=0,u=0,h=t.length;u<h;u++)l=Math.max(l,o.distanceToSquared(t[u]));return this.radius=Math.sqrt(l),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},r.isEmpty=function(){return this.radius<0},r.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},r.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},r.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},r.intersectsSphere=function(t){var n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n},r.intersectsBox=function(t){return t.intersectsSphere(this)},r.intersectsPlane=function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},r.clampPoint=function(t,n){var o=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new V),n.copy(t),o>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},r.getBoundingBox=function(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ot),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)},r.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},r.translate=function(t){return this.center.add(t),this},r.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius},e}(),Zi=new V,Oi=new V,pa=new V,Di=new V,xs=new V,eo=new V,Do=new V,ws=function(){function e(t,n){this.origin=t!==void 0?t:new V,this.direction=n!==void 0?n:new V(0,0,-1)}var r=e.prototype;return r.set=function(t,n){return this.origin.copy(t),this.direction.copy(n),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},r.at=function(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new V),n.copy(this.direction).multiplyScalar(t).add(this.origin)},r.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},r.recast=function(t){return this.origin.copy(this.at(t,Zi)),this},r.closestPointToPoint=function(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new V),n.subVectors(t,this.origin);var o=n.dot(this.direction);return o<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(o).add(this.origin)},r.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},r.distanceSqToPoint=function(t){var n=Zi.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(Zi.copy(this.direction).multiplyScalar(n).add(this.origin),Zi.distanceToSquared(t))},r.distanceSqToSegment=function(t,n,o,l){Oi.copy(t).add(n).multiplyScalar(.5),pa.copy(n).sub(t).normalize(),Di.copy(this.origin).sub(Oi);var u,h,p,v,x=.5*t.distanceTo(n),w=-this.direction.dot(pa),T=Di.dot(this.direction),S=-Di.dot(pa),C=Di.lengthSq(),P=Math.abs(1-w*w);if(P>0)if(h=w*T-S,v=x*P,(u=w*S-T)>=0)if(h>=-v)if(h<=v){var A=1/P;p=(u*=A)*(u+w*(h*=A)+2*T)+h*(w*u+h+2*S)+C}else h=x,p=-(u=Math.max(0,-(w*h+T)))*u+h*(h+2*S)+C;else h=-x,p=-(u=Math.max(0,-(w*h+T)))*u+h*(h+2*S)+C;else h<=-v?p=-(u=Math.max(0,-(-w*x+T)))*u+(h=u>0?-x:Math.min(Math.max(-x,-S),x))*(h+2*S)+C:h<=v?(u=0,p=(h=Math.min(Math.max(-x,-S),x))*(h+2*S)+C):p=-(u=Math.max(0,-(w*x+T)))*u+(h=u>0?x:Math.min(Math.max(-x,-S),x))*(h+2*S)+C;else h=w>0?-x:x,p=-(u=Math.max(0,-(w*h+T)))*u+h*(h+2*S)+C;return o&&o.copy(this.direction).multiplyScalar(u).add(this.origin),l&&l.copy(pa).multiplyScalar(h).add(Oi),p},r.intersectSphere=function(t,n){Zi.subVectors(t.center,this.origin);var o=Zi.dot(this.direction),l=Zi.dot(Zi)-o*o,u=t.radius*t.radius;if(l>u)return null;var h=Math.sqrt(u-l),p=o-h,v=o+h;return p<0&&v<0?null:p<0?this.at(v,n):this.at(p,n)},r.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},r.distanceToPlane=function(t){var n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;var o=-(this.origin.dot(t.normal)+t.constant)/n;return o>=0?o:null},r.intersectPlane=function(t,n){var o=this.distanceToPlane(t);return o===null?null:this.at(o,n)},r.intersectsPlane=function(t){var n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0},r.intersectBox=function(t,n){var o,l,u,h,p,v,x=1/this.direction.x,w=1/this.direction.y,T=1/this.direction.z,S=this.origin;return x>=0?(o=(t.min.x-S.x)*x,l=(t.max.x-S.x)*x):(o=(t.max.x-S.x)*x,l=(t.min.x-S.x)*x),w>=0?(u=(t.min.y-S.y)*w,h=(t.max.y-S.y)*w):(u=(t.max.y-S.y)*w,h=(t.min.y-S.y)*w),o>h||u>l?null:((u>o||o!=o)&&(o=u),(h<l||l!=l)&&(l=h),T>=0?(p=(t.min.z-S.z)*T,v=(t.max.z-S.z)*T):(p=(t.max.z-S.z)*T,v=(t.min.z-S.z)*T),o>v||p>l?null:((p>o||o!=o)&&(o=p),(v<l||l!=l)&&(l=v),l<0?null:this.at(o>=0?o:l,n)))},r.intersectsBox=function(t){return this.intersectBox(t,Zi)!==null},r.intersectTriangle=function(t,n,o,l,u){xs.subVectors(n,t),eo.subVectors(o,t),Do.crossVectors(xs,eo);var h,p=this.direction.dot(Do);if(p>0){if(l)return null;h=1}else{if(!(p<0))return null;h=-1,p=-p}Di.subVectors(this.origin,t);var v=h*this.direction.dot(eo.crossVectors(Di,eo));if(v<0)return null;var x=h*this.direction.dot(xs.cross(Di));if(x<0||v+x>p)return null;var w=-h*Di.dot(Do);return w<0?null:this.at(w/p,u)},r.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},r.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},e}(),on=function(){function e(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}var r=e.prototype;return r.set=function(t,n,o,l,u,h,p,v,x,w,T,S,C,P,A,O){var H=this.elements;return H[0]=t,H[4]=n,H[8]=o,H[12]=l,H[1]=u,H[5]=h,H[9]=p,H[13]=v,H[2]=x,H[6]=w,H[10]=T,H[14]=S,H[3]=C,H[7]=P,H[11]=A,H[15]=O,this},r.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},r.clone=function(){return new e().fromArray(this.elements)},r.copy=function(t){var n=this.elements,o=t.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],this},r.copyPosition=function(t){var n=this.elements,o=t.elements;return n[12]=o[12],n[13]=o[13],n[14]=o[14],this},r.extractBasis=function(t,n,o){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this},r.makeBasis=function(t,n,o){return this.set(t.x,n.x,o.x,0,t.y,n.y,o.y,0,t.z,n.z,o.z,0,0,0,0,1),this},r.extractRotation=function(t){var n=this.elements,o=t.elements,l=1/ml.setFromMatrixColumn(t,0).length(),u=1/ml.setFromMatrixColumn(t,1).length(),h=1/ml.setFromMatrixColumn(t,2).length();return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n[3]=0,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=0,n[8]=o[8]*h,n[9]=o[9]*h,n[10]=o[10]*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},r.makeRotationFromEuler=function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=this.elements,o=t.x,l=t.y,u=t.z,h=Math.cos(o),p=Math.sin(o),v=Math.cos(l),x=Math.sin(l),w=Math.cos(u),T=Math.sin(u);if(t.order==="XYZ"){var S=h*w,C=h*T,P=p*w,A=p*T;n[0]=v*w,n[4]=-v*T,n[8]=x,n[1]=C+P*x,n[5]=S-A*x,n[9]=-p*v,n[2]=A-S*x,n[6]=P+C*x,n[10]=h*v}else if(t.order==="YXZ"){var O=v*w,H=v*T,k=x*w,B=x*T;n[0]=O+B*p,n[4]=k*p-H,n[8]=h*x,n[1]=h*T,n[5]=h*w,n[9]=-p,n[2]=H*p-k,n[6]=B+O*p,n[10]=h*v}else if(t.order==="ZXY"){var G=v*w,Z=v*T,q=x*w,ie=x*T;n[0]=G-ie*p,n[4]=-h*T,n[8]=q+Z*p,n[1]=Z+q*p,n[5]=h*w,n[9]=ie-G*p,n[2]=-h*x,n[6]=p,n[10]=h*v}else if(t.order==="ZYX"){var ee=h*w,se=h*T,ce=p*w,J=p*T;n[0]=v*w,n[4]=ce*x-se,n[8]=ee*x+J,n[1]=v*T,n[5]=J*x+ee,n[9]=se*x-ce,n[2]=-x,n[6]=p*v,n[10]=h*v}else if(t.order==="YZX"){var Se=h*v,Me=h*x,ve=p*v,Ne=p*x;n[0]=v*w,n[4]=Ne-Se*T,n[8]=ve*T+Me,n[1]=T,n[5]=h*w,n[9]=-p*w,n[2]=-x*w,n[6]=Me*T+ve,n[10]=Se-Ne*T}else if(t.order==="XZY"){var $e=h*v,we=h*x,Le=p*v,Ee=p*x;n[0]=v*w,n[4]=-T,n[8]=x*w,n[1]=$e*T+Ee,n[5]=h*w,n[9]=we*T-Le,n[2]=Le*T-we,n[6]=p*w,n[10]=Ee*T+$e}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},r.makeRotationFromQuaternion=function(t){return this.compose(gr,t,Dm)},r.lookAt=function(t,n,o){var l=this.elements;return ei.subVectors(t,n),ei.lengthSq()===0&&(ei.z=1),ei.normalize(),Ia.crossVectors(o,ei),Ia.lengthSq()===0&&(Math.abs(o.z)===1?ei.x+=1e-4:ei.z+=1e-4,ei.normalize(),Ia.crossVectors(o,ei)),Ia.normalize(),yu.crossVectors(ei,Ia),l[0]=Ia.x,l[4]=yu.x,l[8]=ei.x,l[1]=Ia.y,l[5]=yu.y,l[9]=ei.y,l[2]=Ia.z,l[6]=yu.z,l[10]=ei.z,this},r.multiply=function(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)},r.premultiply=function(t){return this.multiplyMatrices(t,this)},r.multiplyMatrices=function(t,n){var o=t.elements,l=n.elements,u=this.elements,h=o[0],p=o[4],v=o[8],x=o[12],w=o[1],T=o[5],S=o[9],C=o[13],P=o[2],A=o[6],O=o[10],H=o[14],k=o[3],B=o[7],G=o[11],Z=o[15],q=l[0],ie=l[4],ee=l[8],se=l[12],ce=l[1],J=l[5],Se=l[9],Me=l[13],ve=l[2],Ne=l[6],$e=l[10],we=l[14],Le=l[3],Ee=l[7],We=l[11],bt=l[15];return u[0]=h*q+p*ce+v*ve+x*Le,u[4]=h*ie+p*J+v*Ne+x*Ee,u[8]=h*ee+p*Se+v*$e+x*We,u[12]=h*se+p*Me+v*we+x*bt,u[1]=w*q+T*ce+S*ve+C*Le,u[5]=w*ie+T*J+S*Ne+C*Ee,u[9]=w*ee+T*Se+S*$e+C*We,u[13]=w*se+T*Me+S*we+C*bt,u[2]=P*q+A*ce+O*ve+H*Le,u[6]=P*ie+A*J+O*Ne+H*Ee,u[10]=P*ee+A*Se+O*$e+H*We,u[14]=P*se+A*Me+O*we+H*bt,u[3]=k*q+B*ce+G*ve+Z*Le,u[7]=k*ie+B*J+G*Ne+Z*Ee,u[11]=k*ee+B*Se+G*$e+Z*We,u[15]=k*se+B*Me+G*we+Z*bt,this},r.multiplyScalar=function(t){var n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this},r.determinant=function(){var t=this.elements,n=t[0],o=t[4],l=t[8],u=t[12],h=t[1],p=t[5],v=t[9],x=t[13],w=t[2],T=t[6],S=t[10],C=t[14];return t[3]*(+u*v*T-l*x*T-u*p*S+o*x*S+l*p*C-o*v*C)+t[7]*(+n*v*C-n*x*S+u*h*S-l*h*C+l*x*w-u*v*w)+t[11]*(+n*x*T-n*p*C-u*h*T+o*h*C+u*p*w-o*x*w)+t[15]*(-l*p*w-n*v*T+n*p*S+l*h*T-o*h*S+o*v*w)},r.transpose=function(){var t,n=this.elements;return t=n[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},r.setPosition=function(t,n,o){var l=this.elements;return t.isVector3?(l[12]=t.x,l[13]=t.y,l[14]=t.z):(l[12]=t,l[13]=n,l[14]=o),this},r.getInverse=function(t,n){n!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var o=this.elements,l=t.elements,u=l[0],h=l[1],p=l[2],v=l[3],x=l[4],w=l[5],T=l[6],S=l[7],C=l[8],P=l[9],A=l[10],O=l[11],H=l[12],k=l[13],B=l[14],G=l[15],Z=P*B*S-k*A*S+k*T*O-w*B*O-P*T*G+w*A*G,q=H*A*S-C*B*S-H*T*O+x*B*O+C*T*G-x*A*G,ie=C*k*S-H*P*S+H*w*O-x*k*O-C*w*G+x*P*G,ee=H*P*T-C*k*T-H*w*A+x*k*A+C*w*B-x*P*B,se=u*Z+h*q+p*ie+v*ee;if(se===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var ce=1/se;return o[0]=Z*ce,o[1]=(k*A*v-P*B*v-k*p*O+h*B*O+P*p*G-h*A*G)*ce,o[2]=(w*B*v-k*T*v+k*p*S-h*B*S-w*p*G+h*T*G)*ce,o[3]=(P*T*v-w*A*v-P*p*S+h*A*S+w*p*O-h*T*O)*ce,o[4]=q*ce,o[5]=(C*B*v-H*A*v+H*p*O-u*B*O-C*p*G+u*A*G)*ce,o[6]=(H*T*v-x*B*v-H*p*S+u*B*S+x*p*G-u*T*G)*ce,o[7]=(x*A*v-C*T*v+C*p*S-u*A*S-x*p*O+u*T*O)*ce,o[8]=ie*ce,o[9]=(H*P*v-C*k*v-H*h*O+u*k*O+C*h*G-u*P*G)*ce,o[10]=(x*k*v-H*w*v+H*h*S-u*k*S-x*h*G+u*w*G)*ce,o[11]=(C*w*v-x*P*v-C*h*S+u*P*S+x*h*O-u*w*O)*ce,o[12]=ee*ce,o[13]=(C*k*p-H*P*p+H*h*A-u*k*A-C*h*B+u*P*B)*ce,o[14]=(H*w*p-x*k*p-H*h*T+u*k*T+x*h*B-u*w*B)*ce,o[15]=(x*P*p-C*w*p+C*h*T-u*P*T-x*h*A+u*w*A)*ce,this},r.scale=function(t){var n=this.elements,o=t.x,l=t.y,u=t.z;return n[0]*=o,n[4]*=l,n[8]*=u,n[1]*=o,n[5]*=l,n[9]*=u,n[2]*=o,n[6]*=l,n[10]*=u,n[3]*=o,n[7]*=l,n[11]*=u,this},r.getMaxScaleOnAxis=function(){var t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],l=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,o,l))},r.makeTranslation=function(t,n,o){return this.set(1,0,0,t,0,1,0,n,0,0,1,o,0,0,0,1),this},r.makeRotationX=function(t){var n=Math.cos(t),o=Math.sin(t);return this.set(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1),this},r.makeRotationY=function(t){var n=Math.cos(t),o=Math.sin(t);return this.set(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1),this},r.makeRotationZ=function(t){var n=Math.cos(t),o=Math.sin(t);return this.set(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1),this},r.makeRotationAxis=function(t,n){var o=Math.cos(n),l=Math.sin(n),u=1-o,h=t.x,p=t.y,v=t.z,x=u*h,w=u*p;return this.set(x*h+o,x*p-l*v,x*v+l*p,0,x*p+l*v,w*p+o,w*v-l*h,0,x*v-l*p,w*v+l*h,u*v*v+o,0,0,0,0,1),this},r.makeScale=function(t,n,o){return this.set(t,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1),this},r.makeShear=function(t,n,o){return this.set(1,n,o,0,t,1,o,0,t,n,1,0,0,0,0,1),this},r.compose=function(t,n,o){var l=this.elements,u=n._x,h=n._y,p=n._z,v=n._w,x=u+u,w=h+h,T=p+p,S=u*x,C=u*w,P=u*T,A=h*w,O=h*T,H=p*T,k=v*x,B=v*w,G=v*T,Z=o.x,q=o.y,ie=o.z;return l[0]=(1-(A+H))*Z,l[1]=(C+G)*Z,l[2]=(P-B)*Z,l[3]=0,l[4]=(C-G)*q,l[5]=(1-(S+H))*q,l[6]=(O+k)*q,l[7]=0,l[8]=(P+B)*ie,l[9]=(O-k)*ie,l[10]=(1-(S+A))*ie,l[11]=0,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=1,this},r.decompose=function(t,n,o){var l=this.elements,u=ml.set(l[0],l[1],l[2]).length(),h=ml.set(l[4],l[5],l[6]).length(),p=ml.set(l[8],l[9],l[10]).length();this.determinant()<0&&(u=-u),t.x=l[12],t.y=l[13],t.z=l[14],ma.copy(this);var v=1/u,x=1/h,w=1/p;return ma.elements[0]*=v,ma.elements[1]*=v,ma.elements[2]*=v,ma.elements[4]*=x,ma.elements[5]*=x,ma.elements[6]*=x,ma.elements[8]*=w,ma.elements[9]*=w,ma.elements[10]*=w,n.setFromRotationMatrix(ma),o.x=u,o.y=h,o.z=p,this},r.makePerspective=function(t,n,o,l,u,h){h===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var p=this.elements,v=2*u/(n-t),x=2*u/(o-l),w=(n+t)/(n-t),T=(o+l)/(o-l),S=-(h+u)/(h-u),C=-2*h*u/(h-u);return p[0]=v,p[4]=0,p[8]=w,p[12]=0,p[1]=0,p[5]=x,p[9]=T,p[13]=0,p[2]=0,p[6]=0,p[10]=S,p[14]=C,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this},r.makeOrthographic=function(t,n,o,l,u,h){var p=this.elements,v=1/(n-t),x=1/(o-l),w=1/(h-u),T=(n+t)*v,S=(o+l)*x,C=(h+u)*w;return p[0]=2*v,p[4]=0,p[8]=0,p[12]=-T,p[1]=0,p[5]=2*x,p[9]=0,p[13]=-S,p[2]=0,p[6]=0,p[10]=-2*w,p[14]=-C,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this},r.equals=function(t){for(var n=this.elements,o=t.elements,l=0;l<16;l++)if(n[l]!==o[l])return!1;return!0},r.fromArray=function(t,n){n===void 0&&(n=0);for(var o=0;o<16;o++)this.elements[o]=t[o+n];return this},r.toArray=function(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);var o=this.elements;return t[n]=o[0],t[n+1]=o[1],t[n+2]=o[2],t[n+3]=o[3],t[n+4]=o[4],t[n+5]=o[5],t[n+6]=o[6],t[n+7]=o[7],t[n+8]=o[8],t[n+9]=o[9],t[n+10]=o[10],t[n+11]=o[11],t[n+12]=o[12],t[n+13]=o[13],t[n+14]=o[14],t[n+15]=o[15],t},e}(),ml=new V,ma=new on,gr=new V(0,0,0),Dm=new V(1,1,1),Ia=new V,yu=new V,ei=new V,Pc=function(){function e(t,n,o,l){t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=e.DefaultOrder),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=o,this._order=l}var r=e.prototype;return r.set=function(t,n,o,l){return this._x=t,this._y=n,this._z=o,this._order=l||this._order,this._onChangeCallback(),this},r.clone=function(){return new this.constructor(this._x,this._y,this._z,this._order)},r.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},r.setFromRotationMatrix=function(t,n,o){var l=Ct.clamp,u=t.elements,h=u[0],p=u[4],v=u[8],x=u[1],w=u[5],T=u[9],S=u[2],C=u[6],P=u[10];switch(n=n||this._order){case"XYZ":this._y=Math.asin(l(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-T,P),this._z=Math.atan2(-p,h)):(this._x=Math.atan2(C,w),this._z=0);break;case"YXZ":this._x=Math.asin(-l(T,-1,1)),Math.abs(T)<.9999999?(this._y=Math.atan2(v,P),this._z=Math.atan2(x,w)):(this._y=Math.atan2(-S,h),this._z=0);break;case"ZXY":this._x=Math.asin(l(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(-S,P),this._z=Math.atan2(-p,w)):(this._y=0,this._z=Math.atan2(x,h));break;case"ZYX":this._y=Math.asin(-l(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(C,P),this._z=Math.atan2(x,h)):(this._x=0,this._z=Math.atan2(-p,w));break;case"YZX":this._z=Math.asin(l(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(-T,w),this._y=Math.atan2(-S,h)):(this._x=0,this._y=Math.atan2(v,P));break;case"XZY":this._z=Math.asin(-l(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(C,w),this._y=Math.atan2(v,h)):(this._x=Math.atan2(-T,P),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,o!==!1&&this._onChangeCallback(),this},r.setFromQuaternion=function(t,n,o){return sf.makeRotationFromQuaternion(t),this.setFromRotationMatrix(sf,n,o)},r.setFromVector3=function(t,n){return this.set(t.x,t.y,t.z,n||this._order)},r.reorder=function(t){return xu.setFromEuler(this),this.setFromQuaternion(xu,t)},r.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},r.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t},r.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new V(this._x,this._y,this._z)},r._onChange=function(t){return this._onChangeCallback=t,this},r._onChangeCallback=function(){},gn(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}]),e}();Pc.DefaultOrder="XYZ",Pc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var sf=new on,xu=new En,Ji=function(){function e(){this.mask=1}var r=e.prototype;return r.set=function(t){this.mask=1<<t|0},r.enable=function(t){this.mask|=1<<t|0},r.enableAll=function(){this.mask=-1},r.toggle=function(t){this.mask^=1<<t|0},r.disable=function(t){this.mask&=~(1<<t|0)},r.disableAll=function(){this.mask=0},r.test=function(t){return(this.mask&t.mask)!=0},e}(),Im=0,Qi=new V,gl=new En,to=new on,Nc=new V,Io=new V,Oc=new V,wu=new En,bu=new V(1,0,0),Bh=new V(0,1,0),Fh=new V(0,0,1),lf={type:"added"},uf={type:"removed"};function Mt(){Object.defineProperty(this,"id",{value:Im++}),this.uuid=Ct.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DefaultUp.clone();var e=new V,r=new Pc,t=new En,n=new V(1,1,1);r._onChange(function(){t.setFromEuler(r,!1)}),t._onChange(function(){r.setFromQuaternion(t,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:t},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new on},normalMatrix:{value:new Mn}}),this.matrix=new on,this.matrixWorld=new on,this.matrixAutoUpdate=Mt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ji,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Mt.DefaultUp=new V(0,1,0),Mt.DefaultMatrixAutoUpdate=!0,Mt.prototype=Object.assign(Object.create(Kt.prototype),{constructor:Mt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,r){this.quaternion.setFromAxisAngle(e,r)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,r){return gl.setFromAxisAngle(e,r),this.quaternion.multiply(gl),this},rotateOnWorldAxis:function(e,r){return gl.setFromAxisAngle(e,r),this.quaternion.premultiply(gl),this},rotateX:function(e){return this.rotateOnAxis(bu,e)},rotateY:function(e){return this.rotateOnAxis(Bh,e)},rotateZ:function(e){return this.rotateOnAxis(Fh,e)},translateOnAxis:function(e,r){return Qi.copy(e).applyQuaternion(this.quaternion),this.position.add(Qi.multiplyScalar(r)),this},translateX:function(e){return this.translateOnAxis(bu,e)},translateY:function(e){return this.translateOnAxis(Bh,e)},translateZ:function(e){return this.translateOnAxis(Fh,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(to.getInverse(this.matrixWorld))},lookAt:function(e,r,t){e.isVector3?Nc.copy(e):Nc.set(e,r,t);var n=this.parent;this.updateWorldMatrix(!0,!1),Io.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?to.lookAt(Io,Nc,this.up):to.lookAt(Nc,Io,this.up),this.quaternion.setFromRotationMatrix(to),n&&(to.extractRotation(n.matrixWorld),gl.setFromRotationMatrix(to),this.quaternion.premultiply(gl.inverse()))},add:function(e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(lf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}var t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(uf)),this},clear:function(){for(var e=0;e<this.children.length;e++){var r=this.children[e];r.parent=null,r.dispatchEvent(uf)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),to.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),to.multiply(e.parent.matrixWorld)),e.applyMatrix4(to),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,r){if(this[e]===r)return this;for(var t=0,n=this.children.length;t<n;t++){var o=this.children[t].getObjectByProperty(e,r);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new V),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new En),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Io,e,Oc),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new V),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Io,wu,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new V),this.updateWorldMatrix(!0,!1);var r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var r=this.children,t=0,n=r.length;t<n;t++)r[t].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var r=this.children,t=0,n=r.length;t<n;t++)r[t].traverseVisible(e)}},traverseAncestors:function(e){var r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var r=this.children,t=0,n=r.length;t<n;t++)r[t].updateMatrixWorld(e)},updateWorldMatrix:function(e,r){var t=this.parent;if(e===!0&&t!==null&&t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0)for(var n=this.children,o=0,l=n.length;o<l;o++)n[o].updateWorldMatrix(!1,!0)},toJSON:function(e){var r=e===void 0||typeof e=="string",t={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function o(B,G){return B[G.uuid]===void 0&&(B[G.uuid]=G.toJSON(e)),G.uuid}if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=o(e.geometries,this.geometry);var l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){var u=l.shapes;if(Array.isArray(u))for(var h=0,p=u.length;h<p;h++){var v=u[h];o(e.shapes,v)}else o(e.shapes,u)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var x=[],w=0,T=this.material.length;w<T;w++)x.push(o(e.materials,this.material[w]));n.material=x}else n.material=o(e.materials,this.material);if(this.children.length>0){n.children=[];for(var S=0;S<this.children.length;S++)n.children.push(this.children[S].toJSON(e).object)}if(r){var C=k(e.geometries),P=k(e.materials),A=k(e.textures),O=k(e.images),H=k(e.shapes);C.length>0&&(t.geometries=C),P.length>0&&(t.materials=P),A.length>0&&(t.textures=A),O.length>0&&(t.images=O),H.length>0&&(t.shapes=H)}return t.object=n,t;function k(B){var G=[];for(var Z in B){var q=B[Z];delete q.metadata,G.push(q)}return G}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,r){if(r===void 0&&(r=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(var t=0;t<e.children.length;t++){var n=e.children[t];this.add(n.clone())}return this}});var bs=new V,km=new V,cf=new Mn,ln=function(){function e(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new V(1,0,0),this.constant=n!==void 0?n:0}var r=e.prototype;return r.set=function(t,n){return this.normal.copy(t),this.constant=n,this},r.setComponents=function(t,n,o,l){return this.normal.set(t,n,o),this.constant=l,this},r.setFromNormalAndCoplanarPoint=function(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this},r.setFromCoplanarPoints=function(t,n,o){var l=bs.subVectors(o,n).cross(km.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(l,t),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},r.normalize=function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},r.negate=function(){return this.constant*=-1,this.normal.negate(),this},r.distanceToPoint=function(t){return this.normal.dot(t)+this.constant},r.distanceToSphere=function(t){return this.distanceToPoint(t.center)-t.radius},r.projectPoint=function(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new V),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},r.intersectLine=function(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new V);var o=t.delta(bs),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;var u=-(t.start.dot(this.normal)+this.constant)/l;return u<0||u>1?void 0:n.copy(o).multiplyScalar(u).add(t.start)},r.intersectsLine=function(t){var n=this.distanceToPoint(t.start),o=this.distanceToPoint(t.end);return n<0&&o>0||o<0&&n>0},r.intersectsBox=function(t){return t.intersectsPlane(this)},r.intersectsSphere=function(t){return t.intersectsPlane(this)},r.coplanarPoint=function(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new V),t.copy(this.normal).multiplyScalar(-this.constant)},r.applyMatrix4=function(t,n){var o=n||cf.getNormalMatrix(t),l=this.coplanarPoint(bs).applyMatrix4(t),u=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(u),this},r.translate=function(t){return this.constant-=t.dot(this.normal),this},r.equals=function(t){return t.normal.equals(this.normal)&&t.constant===this.constant},e}(),Ki=new V,ka=new V,_u=new V,za=new V,_s=new V,Ss=new V,Dc=new V,vl=new V,Ba=new V,Fa=new V,Ir=function(){function e(t,n,o){this.a=t!==void 0?t:new V,this.b=n!==void 0?n:new V,this.c=o!==void 0?o:new V}e.getNormal=function(t,n,o,l){l===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),l=new V),l.subVectors(o,n),Ki.subVectors(t,n),l.cross(Ki);var u=l.lengthSq();return u>0?l.multiplyScalar(1/Math.sqrt(u)):l.set(0,0,0)},e.getBarycoord=function(t,n,o,l,u){Ki.subVectors(l,n),ka.subVectors(o,n),_u.subVectors(t,n);var h=Ki.dot(Ki),p=Ki.dot(ka),v=Ki.dot(_u),x=ka.dot(ka),w=ka.dot(_u),T=h*x-p*p;if(u===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),u=new V),T===0)return u.set(-2,-1,-1);var S=1/T,C=(x*v-p*w)*S,P=(h*w-p*v)*S;return u.set(1-C-P,P,C)},e.containsPoint=function(t,n,o,l){return this.getBarycoord(t,n,o,l,za),za.x>=0&&za.y>=0&&za.x+za.y<=1},e.getUV=function(t,n,o,l,u,h,p,v){return this.getBarycoord(t,n,o,l,za),v.set(0,0),v.addScaledVector(u,za.x),v.addScaledVector(h,za.y),v.addScaledVector(p,za.z),v},e.isFrontFacing=function(t,n,o,l){return Ki.subVectors(o,n),ka.subVectors(t,n),Ki.cross(ka).dot(l)<0};var r=e.prototype;return r.set=function(t,n,o){return this.a.copy(t),this.b.copy(n),this.c.copy(o),this},r.setFromPointsAndIndices=function(t,n,o,l){return this.a.copy(t[n]),this.b.copy(t[o]),this.c.copy(t[l]),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},r.getArea=function(){return Ki.subVectors(this.c,this.b),ka.subVectors(this.a,this.b),.5*Ki.cross(ka).length()},r.getMidpoint=function(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new V),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},r.getNormal=function(t){return e.getNormal(this.a,this.b,this.c,t)},r.getPlane=function(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new ln),t.setFromCoplanarPoints(this.a,this.b,this.c)},r.getBarycoord=function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)},r.getUV=function(t,n,o,l,u){return e.getUV(t,this.a,this.b,this.c,n,o,l,u)},r.containsPoint=function(t){return e.containsPoint(t,this.a,this.b,this.c)},r.isFrontFacing=function(t){return e.isFrontFacing(this.a,this.b,this.c,t)},r.intersectsBox=function(t){return t.intersectsTriangle(this)},r.closestPointToPoint=function(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new V);var o,l,u=this.a,h=this.b,p=this.c;_s.subVectors(h,u),Ss.subVectors(p,u),vl.subVectors(t,u);var v=_s.dot(vl),x=Ss.dot(vl);if(v<=0&&x<=0)return n.copy(u);Ba.subVectors(t,h);var w=_s.dot(Ba),T=Ss.dot(Ba);if(w>=0&&T<=w)return n.copy(h);var S=v*T-w*x;if(S<=0&&v>=0&&w<=0)return o=v/(v-w),n.copy(u).addScaledVector(_s,o);Fa.subVectors(t,p);var C=_s.dot(Fa),P=Ss.dot(Fa);if(P>=0&&C<=P)return n.copy(p);var A=C*x-v*P;if(A<=0&&x>=0&&P<=0)return l=x/(x-P),n.copy(u).addScaledVector(Ss,l);var O=w*P-C*T;if(O<=0&&T-w>=0&&C-P>=0)return Dc.subVectors(p,h),l=(T-w)/(T-w+(C-P)),n.copy(h).addScaledVector(Dc,l);var H=1/(O+A+S);return o=A*H,l=S*H,n.copy(u).addScaledVector(_s,o).addScaledVector(Ss,l)},r.equals=function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)},e}(),yl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},si={h:0,s:0,l:0},ga={h:0,s:0,l:0};function df(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(r-e)*t:t<.5?r:t<2/3?e+6*(r-e)*(2/3-t):e}function Ic(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ms(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ht=function(){function e(t,n,o){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&o===void 0?this.set(t):this.setRGB(t,n,o)}var r=e.prototype;return r.set=function(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this},r.setScalar=function(t){return this.r=t,this.g=t,this.b=t,this},r.setHex=function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},r.setRGB=function(t,n,o){return this.r=t,this.g=n,this.b=o,this},r.setHSL=function(t,n,o){if(t=Ct.euclideanModulo(t,1),n=Ct.clamp(n,0,1),o=Ct.clamp(o,0,1),n===0)this.r=this.g=this.b=o;else{var l=o<=.5?o*(1+n):o+n-o*n,u=2*o-l;this.r=df(u,l,t+1/3),this.g=df(u,l,t),this.b=df(u,l,t-1/3)}return this},r.setStyle=function(t){function n(S){S!==void 0&&parseFloat(S)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var o;if(o=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var l,u=o[1],h=o[2];switch(u){case"rgb":case"rgba":if(l=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(h))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,n(l[5]),this;if(l=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(h))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,n(l[5]),this;break;case"hsl":case"hsla":if(l=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(h)){var p=parseFloat(l[1])/360,v=parseInt(l[2],10)/100,x=parseInt(l[3],10)/100;return n(l[5]),this.setHSL(p,v,x)}}}else if(o=/^\#([A-Fa-f0-9]+)$/.exec(t)){var w=o[1],T=w.length;if(T===3)return this.r=parseInt(w.charAt(0)+w.charAt(0),16)/255,this.g=parseInt(w.charAt(1)+w.charAt(1),16)/255,this.b=parseInt(w.charAt(2)+w.charAt(2),16)/255,this;if(T===6)return this.r=parseInt(w.charAt(0)+w.charAt(1),16)/255,this.g=parseInt(w.charAt(2)+w.charAt(3),16)/255,this.b=parseInt(w.charAt(4)+w.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this},r.setColorName=function(t){var n=yl[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this},r.clone=function(){return new this.constructor(this.r,this.g,this.b)},r.copy=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},r.copyGammaToLinear=function(t,n){return n===void 0&&(n=2),this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},r.copyLinearToGamma=function(t,n){n===void 0&&(n=2);var o=n>0?1/n:1;return this.r=Math.pow(t.r,o),this.g=Math.pow(t.g,o),this.b=Math.pow(t.b,o),this},r.convertGammaToLinear=function(t){return this.copyGammaToLinear(this,t),this},r.convertLinearToGamma=function(t){return this.copyLinearToGamma(this,t),this},r.copySRGBToLinear=function(t){return this.r=Ic(t.r),this.g=Ic(t.g),this.b=Ic(t.b),this},r.copyLinearToSRGB=function(t){return this.r=Ms(t.r),this.g=Ms(t.g),this.b=Ms(t.b),this},r.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},r.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},r.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},r.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},r.getHSL=function(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var n,o,l=this.r,u=this.g,h=this.b,p=Math.max(l,u,h),v=Math.min(l,u,h),x=(v+p)/2;if(v===p)n=0,o=0;else{var w=p-v;switch(o=x<=.5?w/(p+v):w/(2-p-v),p){case l:n=(u-h)/w+(u<h?6:0);break;case u:n=(h-l)/w+2;break;case h:n=(l-u)/w+4}n/=6}return t.h=n,t.s=o,t.l=x,t},r.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},r.offsetHSL=function(t,n,o){return this.getHSL(si),si.h+=t,si.s+=n,si.l+=o,this.setHSL(si.h,si.s,si.l),this},r.add=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},r.addColors=function(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this},r.addScalar=function(t){return this.r+=t,this.g+=t,this.b+=t,this},r.sub=function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},r.multiply=function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},r.multiplyScalar=function(t){return this.r*=t,this.g*=t,this.b*=t,this},r.lerp=function(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this},r.lerpHSL=function(t,n){this.getHSL(si),t.getHSL(ga);var o=Ct.lerp(si.h,ga.h,n),l=Ct.lerp(si.s,ga.s,n),u=Ct.lerp(si.l,ga.l,n);return this.setHSL(o,l,u),this},r.equals=function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},r.fromArray=function(t,n){return n===void 0&&(n=0),this.r=t[n],this.g=t[n+1],this.b=t[n+2],this},r.toArray=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t},r.fromBufferAttribute=function(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},r.toJSON=function(){return this.getHex()},e}();ht.NAMES=yl,ht.prototype.r=1,ht.prototype.g=1,ht.prototype.b=1;var xl=function(){function e(t,n,o,l,u,h){this.a=t,this.b=n,this.c=o,this.normal=l&&l.isVector3?l:new V,this.vertexNormals=Array.isArray(l)?l:[],this.color=u&&u.isColor?u:new ht,this.vertexColors=Array.isArray(u)?u:[],this.materialIndex=h!==void 0?h:0}var r=e.prototype;return r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var n=0,o=t.vertexNormals.length;n<o;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(var l=0,u=t.vertexColors.length;l<u;l++)this.vertexColors[l]=t.vertexColors[l].clone();return this},e}(),kc=0;function Ut(){Object.defineProperty(this,"id",{value:kc++}),this.uuid=Ct.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jt,this.stencilZFail=jt,this.stencilZPass=jt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function ea(e){Ut.call(this),this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Ut.prototype=Object.assign(Object.create(Kt.prototype),{constructor:Ut,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(var r in e){var t=e[r];if(t!==void 0)if(r!=="shading"){var n=this[r];n!==void 0?n&&n.isColor?n.set(t):n&&n.isVector3&&t&&t.isVector3?n.copy(t):this[r]=t:console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===1;else console.warn("THREE.Material: '"+r+"' parameter is undefined.")}},toJSON:function(e){var r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});var t={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(u){var h=[];for(var p in u){var v=u[p];delete v.metadata,h.push(v)}return h}if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),this.roughness!==void 0&&(t.roughness=this.roughness),this.metalness!==void 0&&(t.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(t.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),this.shininess!==void 0&&(t.shininess=this.shininess),this.clearcoat!==void 0&&(t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(t.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(e).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(e).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(e).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(e).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(e).uuid,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,this.combine!==void 0&&(t.combine=this.combine),this.envMapIntensity!==void 0&&(t.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(t.size=this.size),this.sizeAttenuation!==void 0&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(t.blending=this.blending),this.flatShading===!0&&(t.flatShading=this.flatShading),this.side!==0&&(t.side=this.side),this.vertexColors&&(t.vertexColors=!0),this.opacity<1&&(t.opacity=this.opacity),this.transparent===!0&&(t.transparent=this.transparent),t.depthFunc=this.depthFunc,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.stencilWrite=this.stencilWrite,t.stencilWriteMask=this.stencilWriteMask,t.stencilFunc=this.stencilFunc,t.stencilRef=this.stencilRef,t.stencilFuncMask=this.stencilFuncMask,t.stencilFail=this.stencilFail,t.stencilZFail=this.stencilZFail,t.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(t.rotation=this.rotation),this.polygonOffset===!0&&(t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(t.linewidth=this.linewidth),this.dashSize!==void 0&&(t.dashSize=this.dashSize),this.gapSize!==void 0&&(t.gapSize=this.gapSize),this.scale!==void 0&&(t.scale=this.scale),this.dithering===!0&&(t.dithering=!0),this.alphaTest>0&&(t.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(t.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(t.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(t.morphTargets=!0),this.morphNormals===!0&&(t.morphNormals=!0),this.skinning===!0&&(t.skinning=!0),this.visible===!1&&(t.visible=!1),this.toneMapped===!1&&(t.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(t.userData=this.userData),r){var o=n(e.textures),l=n(e.images);o.length>0&&(t.textures=o),l.length>0&&(t.images=l)}return t},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var r=e.clippingPlanes,t=null;if(r!==null){var n=r.length;t=new Array(n);for(var o=0;o!==n;++o)t[o]=r[o].clone()}return this.clippingPlanes=t,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ut.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),ea.prototype=Object.create(Ut.prototype),ea.prototype.constructor=ea,ea.prototype.isMeshBasicMaterial=!0,ea.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var kn=new V,ko=new Ae;function Nt(e,r,t){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=t===!0,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0}function zo(e,r,t){Nt.call(this,new Int8Array(e),r,t)}function Su(e,r,t){Nt.call(this,new Uint8Array(e),r,t)}function Mu(e,r,t){Nt.call(this,new Uint8ClampedArray(e),r,t)}function Es(e,r,t){Nt.call(this,new Int16Array(e),r,t)}function Ha(e,r,t){Nt.call(this,new Uint16Array(e),r,t)}function Ts(e,r,t){Nt.call(this,new Int32Array(e),r,t)}function Bo(e,r,t){Nt.call(this,new Uint32Array(e),r,t)}function tt(e,r,t){Nt.call(this,new Float32Array(e),r,t)}function Rs(e,r,t){Nt.call(this,new Float64Array(e),r,t)}Object.defineProperty(Nt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(Nt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,r,t){e*=this.itemSize,t*=r.itemSize;for(var n=0,o=this.itemSize;n<o;n++)this.array[e+n]=r.array[t+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var r=this.array,t=0,n=0,o=e.length;n<o;n++){var l=e[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),l=new ht),r[t++]=l.r,r[t++]=l.g,r[t++]=l.b}return this},copyVector2sArray:function(e){for(var r=this.array,t=0,n=0,o=e.length;n<o;n++){var l=e[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),l=new Ae),r[t++]=l.x,r[t++]=l.y}return this},copyVector3sArray:function(e){for(var r=this.array,t=0,n=0,o=e.length;n<o;n++){var l=e[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),l=new V),r[t++]=l.x,r[t++]=l.y,r[t++]=l.z}return this},copyVector4sArray:function(e){for(var r=this.array,t=0,n=0,o=e.length;n<o;n++){var l=e[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),l=new en),r[t++]=l.x,r[t++]=l.y,r[t++]=l.z,r[t++]=l.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(var r=0,t=this.count;r<t;r++)ko.fromBufferAttribute(this,r),ko.applyMatrix3(e),this.setXY(r,ko.x,ko.y);else if(this.itemSize===3)for(var n=0,o=this.count;n<o;n++)kn.fromBufferAttribute(this,n),kn.applyMatrix3(e),this.setXYZ(n,kn.x,kn.y,kn.z);return this},applyMatrix4:function(e){for(var r=0,t=this.count;r<t;r++)kn.x=this.getX(r),kn.y=this.getY(r),kn.z=this.getZ(r),kn.applyMatrix4(e),this.setXYZ(r,kn.x,kn.y,kn.z);return this},applyNormalMatrix:function(e){for(var r=0,t=this.count;r<t;r++)kn.x=this.getX(r),kn.y=this.getY(r),kn.z=this.getZ(r),kn.applyNormalMatrix(e),this.setXYZ(r,kn.x,kn.y,kn.z);return this},transformDirection:function(e){for(var r=0,t=this.count;r<t;r++)kn.x=this.getX(r),kn.y=this.getY(r),kn.z=this.getZ(r),kn.transformDirection(e),this.setXYZ(r,kn.x,kn.y,kn.z);return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,r){return this.array[e*this.itemSize]=r,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,r){return this.array[e*this.itemSize+1]=r,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,r){return this.array[e*this.itemSize+2]=r,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,r){return this.array[e*this.itemSize+3]=r,this},setXY:function(e,r,t){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=t,this},setXYZ:function(e,r,t,n){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=t,this.array[e+2]=n,this},setXYZW:function(e,r,t,n,o){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=t,this.array[e+2]=n,this.array[e+3]=o,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),zo.prototype=Object.create(Nt.prototype),zo.prototype.constructor=zo,Su.prototype=Object.create(Nt.prototype),Su.prototype.constructor=Su,Mu.prototype=Object.create(Nt.prototype),Mu.prototype.constructor=Mu,Es.prototype=Object.create(Nt.prototype),Es.prototype.constructor=Es,Ha.prototype=Object.create(Nt.prototype),Ha.prototype.constructor=Ha,Ts.prototype=Object.create(Nt.prototype),Ts.prototype.constructor=Ts,Bo.prototype=Object.create(Nt.prototype),Bo.prototype.constructor=Bo,tt.prototype=Object.create(Nt.prototype),tt.prototype.constructor=tt,Rs.prototype=Object.create(Nt.prototype),Rs.prototype.constructor=Rs;var zc=function(){function e(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}var r=e.prototype;return r.computeGroups=function(t){var n,o,l=[],u=void 0,h=t.faces;for(o=0;o<h.length;o++){var p=h[o];p.materialIndex!==u&&(u=p.materialIndex,n!==void 0&&(n.count=3*o-n.start,l.push(n)),n={start:3*o,materialIndex:u})}n!==void 0&&(n.count=3*o-n.start,l.push(n)),this.groups=l},r.fromGeometry=function(t){var n,o=t.faces,l=t.vertices,u=t.faceVertexUvs,h=u[0]&&u[0].length>0,p=u[1]&&u[1].length>0,v=t.morphTargets,x=v.length;if(x>0){n=[];for(var w=0;w<x;w++)n[w]={name:v[w].name,data:[]};this.morphTargets.position=n}var T,S=t.morphNormals,C=S.length;if(C>0){T=[];for(var P=0;P<C;P++)T[P]={name:S[P].name,data:[]};this.morphTargets.normal=T}var A=t.skinIndices,O=t.skinWeights,H=A.length===l.length,k=O.length===l.length;l.length>0&&o.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var B=0;B<o.length;B++){var G=o[B];this.vertices.push(l[G.a],l[G.b],l[G.c]);var Z=G.vertexNormals;if(Z.length===3)this.normals.push(Z[0],Z[1],Z[2]);else{var q=G.normal;this.normals.push(q,q,q)}var ie=G.vertexColors;if(ie.length===3)this.colors.push(ie[0],ie[1],ie[2]);else{var ee=G.color;this.colors.push(ee,ee,ee)}if(h===!0){var se=u[0][B];se!==void 0?this.uvs.push(se[0],se[1],se[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",B),this.uvs.push(new Ae,new Ae,new Ae))}if(p===!0){var ce=u[1][B];ce!==void 0?this.uvs2.push(ce[0],ce[1],ce[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",B),this.uvs2.push(new Ae,new Ae,new Ae))}for(var J=0;J<x;J++){var Se=v[J].vertices;n[J].data.push(Se[G.a],Se[G.b],Se[G.c])}for(var Me=0;Me<C;Me++){var ve=S[Me].vertexNormals[B];T[Me].data.push(ve.a,ve.b,ve.c)}H&&this.skinIndices.push(A[G.a],A[G.b],A[G.c]),k&&this.skinWeights.push(O[G.a],O[G.b],O[G.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},e}();function ff(e){if(e.length===0)return-1/0;for(var r=e[0],t=1,n=e.length;t<n;++t)e[t]>r&&(r=e[t]);return r}var Bc=1,Ii=new on,Fc=new Mt,kr=new V,zr=new ot,Cs=new ot,ur=new V;function kt(){Object.defineProperty(this,"id",{value:Bc+=2}),this.uuid=Ct.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}kt.prototype=Object.assign(Object.create(Kt.prototype),{constructor:kt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(ff(e)>65535?Bo:Ha)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,r){return this.attributes[e]=r,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,r,t){this.groups.push({start:e,count:r,materialIndex:t!==void 0?t:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,r){this.drawRange.start=e,this.drawRange.count=r},applyMatrix4:function(e){var r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);var t=this.attributes.normal;if(t!==void 0){var n=new Mn().getNormalMatrix(e);t.applyNormalMatrix(n),t.needsUpdate=!0}var o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Ii.makeRotationX(e),this.applyMatrix4(Ii),this},rotateY:function(e){return Ii.makeRotationY(e),this.applyMatrix4(Ii),this},rotateZ:function(e){return Ii.makeRotationZ(e),this.applyMatrix4(Ii),this},translate:function(e,r,t){return Ii.makeTranslation(e,r,t),this.applyMatrix4(Ii),this},scale:function(e,r,t){return Ii.makeScale(e,r,t),this.applyMatrix4(Ii),this},lookAt:function(e){return Fc.lookAt(e),Fc.updateMatrix(),this.applyMatrix4(Fc.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(kr).negate(),this.translate(kr.x,kr.y,kr.z),this},setFromObject:function(e){var r=e.geometry;if(e.isPoints||e.isLine){var t=new tt(3*r.vertices.length,3),n=new tt(3*r.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(r.vertices)),this.setAttribute("color",n.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){var o=new tt(r.lineDistances.length,1);this.setAttribute("lineDistance",o.copyArray(r.lineDistances))}r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone())}else e.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(e){for(var r=[],t=0,n=e.length;t<n;t++){var o=e[t];r.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new tt(r,3)),this},updateFromObject:function(e){var r=e.geometry;if(e.isMesh){var t=r.__directGeometry;if(r.elementsNeedUpdate===!0&&(t=void 0,r.elementsNeedUpdate=!1),t===void 0)return this.fromGeometry(r);t.verticesNeedUpdate=r.verticesNeedUpdate,t.normalsNeedUpdate=r.normalsNeedUpdate,t.colorsNeedUpdate=r.colorsNeedUpdate,t.uvsNeedUpdate=r.uvsNeedUpdate,t.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=t}if(r.verticesNeedUpdate===!0){var n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(r.vertices),n.needsUpdate=!0),r.verticesNeedUpdate=!1}if(r.normalsNeedUpdate===!0){var o=this.attributes.normal;o!==void 0&&(o.copyVector3sArray(r.normals),o.needsUpdate=!0),r.normalsNeedUpdate=!1}if(r.colorsNeedUpdate===!0){var l=this.attributes.color;l!==void 0&&(l.copyColorsArray(r.colors),l.needsUpdate=!0),r.colorsNeedUpdate=!1}if(r.uvsNeedUpdate){var u=this.attributes.uv;u!==void 0&&(u.copyVector2sArray(r.uvs),u.needsUpdate=!0),r.uvsNeedUpdate=!1}if(r.lineDistancesNeedUpdate){var h=this.attributes.lineDistance;h!==void 0&&(h.copyArray(r.lineDistances),h.needsUpdate=!0),r.lineDistancesNeedUpdate=!1}return r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new zc().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var r=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Nt(r,3).copyVector3sArray(e.vertices)),e.normals.length>0){var t=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Nt(t,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new Nt(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var o=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Nt(o,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var l=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Nt(l,2).copyVector2sArray(e.uvs2))}for(var u in this.groups=e.groups,e.morphTargets){for(var h=[],p=e.morphTargets[u],v=0,x=p.length;v<x;v++){var w=p[v],T=new tt(3*w.data.length,3);T.name=w.name,h.push(T.copyVector3sArray(w.data))}this.morphAttributes[u]=h}if(e.skinIndices.length>0){var S=new tt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",S.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var C=new tt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",C.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ot);var e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(var t=0,n=r.length;t<n;t++){var o=r[t];zr.setFromBufferAttribute(o),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,zr.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,zr.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(zr.min),this.boundingBox.expandByPoint(zr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Kr);var e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new V,1/0);if(e){var t=this.boundingSphere.center;if(zr.setFromBufferAttribute(e),r)for(var n=0,o=r.length;n<o;n++){var l=r[n];Cs.setFromBufferAttribute(l),this.morphTargetsRelative?(ur.addVectors(zr.min,Cs.min),zr.expandByPoint(ur),ur.addVectors(zr.max,Cs.max),zr.expandByPoint(ur)):(zr.expandByPoint(Cs.min),zr.expandByPoint(Cs.max))}zr.getCenter(t);for(var u=0,h=0,p=e.count;h<p;h++)ur.fromBufferAttribute(e,h),u=Math.max(u,t.distanceToSquared(ur));if(r)for(var v=0,x=r.length;v<x;v++)for(var w=r[v],T=this.morphTargetsRelative,S=0,C=w.count;S<C;S++)ur.fromBufferAttribute(w,S),T&&(kr.fromBufferAttribute(e,S),ur.add(kr)),u=Math.max(u,t.distanceToSquared(ur));this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,r=this.getAttribute("position");if(r!==void 0){var t=this.getAttribute("normal");if(t===void 0)t=new Nt(new Float32Array(3*r.count),3),this.setAttribute("normal",t);else for(var n=0,o=t.count;n<o;n++)t.setXYZ(n,0,0,0);var l=new V,u=new V,h=new V,p=new V,v=new V,x=new V,w=new V,T=new V;if(e)for(var S=0,C=e.count;S<C;S+=3){var P=e.getX(S+0),A=e.getX(S+1),O=e.getX(S+2);l.fromBufferAttribute(r,P),u.fromBufferAttribute(r,A),h.fromBufferAttribute(r,O),w.subVectors(h,u),T.subVectors(l,u),w.cross(T),p.fromBufferAttribute(t,P),v.fromBufferAttribute(t,A),x.fromBufferAttribute(t,O),p.add(w),v.add(w),x.add(w),t.setXYZ(P,p.x,p.y,p.z),t.setXYZ(A,v.x,v.y,v.z),t.setXYZ(O,x.x,x.y,x.z)}else for(var H=0,k=r.count;H<k;H+=3)l.fromBufferAttribute(r,H+0),u.fromBufferAttribute(r,H+1),h.fromBufferAttribute(r,H+2),w.subVectors(h,u),T.subVectors(l,u),w.cross(T),t.setXYZ(H+0,w.x,w.y,w.z),t.setXYZ(H+1,w.x,w.y,w.z),t.setXYZ(H+2,w.x,w.y,w.z);this.normalizeNormals(),t.needsUpdate=!0}},merge:function(e,r){if(e&&e.isBufferGeometry){r===void 0&&(r=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var t=this.attributes;for(var n in t)if(e.attributes[n]!==void 0)for(var o=t[n].array,l=e.attributes[n],u=l.array,h=l.itemSize*r,p=Math.min(u.length,o.length-h),v=0,x=h;v<p;v++,x++)o[x]=u[v];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,r=0,t=e.count;r<t;r++)ur.fromBufferAttribute(e,r),ur.normalize(),e.setXYZ(r,ur.x,ur.y,ur.z)},toNonIndexed:function(){function e(O,H){for(var k=O.array,B=O.itemSize,G=O.normalized,Z=new k.constructor(H.length*B),q=0,ie=0,ee=0,se=H.length;ee<se;ee++){q=H[ee]*B;for(var ce=0;ce<B;ce++)Z[ie++]=k[q++]}return new Nt(Z,B,G)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var r=new kt,t=this.index.array,n=this.attributes;for(var o in n){var l=e(n[o],t);r.setAttribute(o,l)}var u=this.morphAttributes;for(var h in u){for(var p=[],v=u[h],x=0,w=v.length;x<w;x++){var T=e(v[x],t);p.push(T)}r.morphAttributes[h]=p}r.morphTargetsRelative=this.morphTargetsRelative;for(var S=this.groups,C=0,P=S.length;C<P;C++){var A=S[C];r.addGroup(A.start,A.count,A.materialIndex)}return r},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){var r=this.parameters;for(var t in r)r[t]!==void 0&&(e[t]=r[t]);return e}e.data={attributes:{}};var n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var o=this.attributes;for(var l in o){var u=o[l],h=u.toJSON(e.data);u.name!==""&&(h.name=u.name),e.data.attributes[l]=h}var p={},v=!1;for(var x in this.morphAttributes){for(var w=this.morphAttributes[x],T=[],S=0,C=w.length;S<C;S++){var P=w[S],A=P.toJSON(e.data);P.name!==""&&(A.name=P.name),T.push(A)}T.length>0&&(p[x]=T,v=!0)}v&&(e.data.morphAttributes=p,e.data.morphTargetsRelative=this.morphTargetsRelative);var O=this.groups;O.length>0&&(e.data.groups=JSON.parse(JSON.stringify(O)));var H=this.boundingSphere;return H!==null&&(e.data.boundingSphere={center:H.center.toArray(),radius:H.radius}),e},clone:function(){return new kt().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var r={};this.name=e.name;var t=e.index;t!==null&&this.setIndex(t.clone(r));var n=e.attributes;for(var o in n){var l=n[o];this.setAttribute(o,l.clone(r))}var u=e.morphAttributes;for(var h in u){for(var p=[],v=u[h],x=0,w=v.length;x<w;x++)p.push(v[x].clone(r));this.morphAttributes[h]=p}this.morphTargetsRelative=e.morphTargetsRelative;for(var T=e.groups,S=0,C=T.length;S<C;S++){var P=T[S];this.addGroup(P.start,P.count,P.materialIndex)}var A=e.boundingBox;A!==null&&(this.boundingBox=A.clone());var O=e.boundingSphere;return O!==null&&(this.boundingSphere=O.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Hc=new on,no=new ws,Ls=new Kr,va=new V,ro=new V,Fo=new V,hf=new V,pf=new V,Eu=new V,Uc=new V,Gc=new V,jc=new V,wl=new Ae,bl=new Ae,As=new Ae,Tu=new V,Vc=new V;function Jn(e,r){Mt.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new kt,this.material=r!==void 0?r:new ea,this.updateMorphTargets()}function Hh(e,r,t,n,o,l,u,h){if((r.side===1?n.intersectTriangle(u,l,o,!0,h):n.intersectTriangle(o,l,u,r.side!==2,h))===null)return null;Vc.copy(h),Vc.applyMatrix4(e.matrixWorld);var p=t.ray.origin.distanceTo(Vc);return p<t.near||p>t.far?null:{distance:p,point:Vc.clone(),object:e}}function _l(e,r,t,n,o,l,u,h,p,v,x,w){va.fromBufferAttribute(o,v),ro.fromBufferAttribute(o,x),Fo.fromBufferAttribute(o,w);var T=e.morphTargetInfluences;if(r.morphTargets&&l&&T){Uc.set(0,0,0),Gc.set(0,0,0),jc.set(0,0,0);for(var S=0,C=l.length;S<C;S++){var P=T[S],A=l[S];P!==0&&(hf.fromBufferAttribute(A,v),pf.fromBufferAttribute(A,x),Eu.fromBufferAttribute(A,w),u?(Uc.addScaledVector(hf,P),Gc.addScaledVector(pf,P),jc.addScaledVector(Eu,P)):(Uc.addScaledVector(hf.sub(va),P),Gc.addScaledVector(pf.sub(ro),P),jc.addScaledVector(Eu.sub(Fo),P)))}va.add(Uc),ro.add(Gc),Fo.add(jc)}e.isSkinnedMesh&&(e.boneTransform(v,va),e.boneTransform(x,ro),e.boneTransform(w,Fo));var O=Hh(e,r,t,n,va,ro,Fo,Tu);if(O){h&&(wl.fromBufferAttribute(h,v),bl.fromBufferAttribute(h,x),As.fromBufferAttribute(h,w),O.uv=Ir.getUV(Tu,va,ro,Fo,wl,bl,As,new Ae)),p&&(wl.fromBufferAttribute(p,v),bl.fromBufferAttribute(p,x),As.fromBufferAttribute(p,w),O.uv2=Ir.getUV(Tu,va,ro,Fo,wl,bl,As,new Ae));var H=new xl(v,x,w);Ir.getNormal(va,ro,Fo,H.normal),O.face=H}return O}Jn.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Jn,isMesh:!0,copy:function(e){return Mt.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var r=e.morphAttributes,t=Object.keys(r);if(t.length>0){var n=r[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,l=n.length;o<l;o++){var u=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{var h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,r){var t,n=this.geometry,o=this.material,l=this.matrixWorld;if(o!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Ls.copy(n.boundingSphere),Ls.applyMatrix4(l),e.ray.intersectsSphere(Ls)!==!1&&(Hc.getInverse(l),no.copy(e.ray).applyMatrix4(Hc),n.boundingBox===null||no.intersectsBox(n.boundingBox)!==!1))){if(n.isBufferGeometry){var u=n.index,h=n.attributes.position,p=n.morphAttributes.position,v=n.morphTargetsRelative,x=n.attributes.uv,w=n.attributes.uv2,T=n.groups,S=n.drawRange;if(u!==null)if(Array.isArray(o))for(var C=0,P=T.length;C<P;C++)for(var A=T[C],O=o[A.materialIndex],H=Math.max(A.start,S.start),k=Math.min(A.start+A.count,S.start+S.count);H<k;H+=3){var B=u.getX(H),G=u.getX(H+1),Z=u.getX(H+2);(t=_l(this,O,e,no,h,p,v,x,w,B,G,Z))&&(t.faceIndex=Math.floor(H/3),t.face.materialIndex=A.materialIndex,r.push(t))}else for(var q=Math.max(0,S.start),ie=Math.min(u.count,S.start+S.count);q<ie;q+=3){var ee=u.getX(q),se=u.getX(q+1),ce=u.getX(q+2);(t=_l(this,o,e,no,h,p,v,x,w,ee,se,ce))&&(t.faceIndex=Math.floor(q/3),r.push(t))}else if(h!==void 0)if(Array.isArray(o))for(var J=0,Se=T.length;J<Se;J++)for(var Me=T[J],ve=o[Me.materialIndex],Ne=Math.max(Me.start,S.start),$e=Math.min(Me.start+Me.count,S.start+S.count);Ne<$e;Ne+=3)(t=_l(this,ve,e,no,h,p,v,x,w,Ne,Ne+1,Ne+2))&&(t.faceIndex=Math.floor(Ne/3),t.face.materialIndex=Me.materialIndex,r.push(t));else for(var we=Math.max(0,S.start),Le=Math.min(h.count,S.start+S.count);we<Le;we+=3)(t=_l(this,o,e,no,h,p,v,x,w,we,we+1,we+2))&&(t.faceIndex=Math.floor(we/3),r.push(t))}else if(n.isGeometry){var Ee,We=Array.isArray(o),bt=n.vertices,Ht=n.faces,te=n.faceVertexUvs[0];te.length>0&&(Ee=te);for(var K=0,Pe=Ht.length;K<Pe;K++){var _e=Ht[K],ke=We?o[_e.materialIndex]:o;if(ke!==void 0){var re=bt[_e.a],qe=bt[_e.b],et=bt[_e.c];if(t=Hh(this,ke,e,no,re,qe,et,Tu)){if(Ee&&Ee[K]){var ut=Ee[K];wl.copy(ut[0]),bl.copy(ut[1]),As.copy(ut[2]),t.uv=Ir.getUV(Tu,re,qe,et,wl,bl,As,new Ae)}t.face=_e,t.faceIndex=K,r.push(t)}}}}}}});var Ru=function(e){function r(t,n,o,l,u,h){var p;t===void 0&&(t=1),n===void 0&&(n=1),o===void 0&&(o=1),l===void 0&&(l=1),u===void 0&&(u=1),h===void 0&&(h=1),(p=e.call(this)||this).type="BoxBufferGeometry",p.parameters={width:t,height:n,depth:o,widthSegments:l,heightSegments:u,depthSegments:h};var v=Ft(p);l=Math.floor(l),u=Math.floor(u),h=Math.floor(h);var x=[],w=[],T=[],S=[],C=0,P=0;function A(O,H,k,B,G,Z,q,ie,ee,se,ce){for(var J=Z/ee,Se=q/se,Me=Z/2,ve=q/2,Ne=ie/2,$e=ee+1,we=se+1,Le=0,Ee=0,We=new V,bt=0;bt<we;bt++)for(var Ht=bt*Se-ve,te=0;te<$e;te++){var K=te*J-Me;We[O]=K*B,We[H]=Ht*G,We[k]=Ne,w.push(We.x,We.y,We.z),We[O]=0,We[H]=0,We[k]=ie>0?1:-1,T.push(We.x,We.y,We.z),S.push(te/ee),S.push(1-bt/se),Le+=1}for(var Pe=0;Pe<se;Pe++)for(var _e=0;_e<ee;_e++){var ke=C+_e+$e*Pe,re=C+_e+$e*(Pe+1),qe=C+(_e+1)+$e*(Pe+1),et=C+(_e+1)+$e*Pe;x.push(ke,re,et),x.push(re,qe,et),Ee+=6}v.addGroup(P,Ee,ce),P+=Ee,C+=Le}return A("z","y","x",-1,-1,o,n,t,h,u,0),A("z","y","x",1,-1,o,n,-t,h,u,1),A("x","z","y",1,1,t,o,n,l,h,2),A("x","z","y",1,-1,t,o,-n,l,h,3),A("x","y","z",1,-1,t,n,o,l,u,4),A("x","y","z",-1,-1,t,n,-o,l,u,5),p.setIndex(x),p.setAttribute("position",new tt(w,3)),p.setAttribute("normal",new tt(T,3)),p.setAttribute("uv",new tt(S,2)),p}return Ve(r,e),r}(kt);function Sl(e){var r={};for(var t in e)for(var n in r[t]={},e[t]){var o=e[t][n];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture)?r[t][n]=o.clone():Array.isArray(o)?r[t][n]=o.slice():r[t][n]=o}return r}function ti(e){for(var r={},t=0;t<e.length;t++){var n=Sl(e[t]);for(var o in n)r[o]=n[o]}return r}var mf={clone:Sl,merge:ti};function li(e){Ut.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ua(){Mt.call(this),this.type="Camera",this.matrixWorldInverse=new on,this.projectionMatrix=new on,this.projectionMatrixInverse=new on}function Er(e,r,t,n){Ua.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=t!==void 0?t:.1,this.far=n!==void 0?n:2e3,this.focus=10,this.aspect=r!==void 0?r:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}li.prototype=Object.create(Ut.prototype),li.prototype.constructor=li,li.prototype.isShaderMaterial=!0,li.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sl(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},li.prototype.toJSON=function(e){var r=Ut.prototype.toJSON.call(this,e);for(var t in r.glslVersion=this.glslVersion,r.uniforms={},this.uniforms){var n=this.uniforms[t].value;n&&n.isTexture?r.uniforms[t]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?r.uniforms[t]={type:"c",value:n.getHex()}:n&&n.isVector2?r.uniforms[t]={type:"v2",value:n.toArray()}:n&&n.isVector3?r.uniforms[t]={type:"v3",value:n.toArray()}:n&&n.isVector4?r.uniforms[t]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?r.uniforms[t]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?r.uniforms[t]={type:"m4",value:n.toArray()}:r.uniforms[t]={value:n}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;var o={};for(var l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(r.extensions=o),r},Ua.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Ua,isCamera:!0,copy:function(e,r){return Mt.prototype.copy.call(this,e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new V),this.updateWorldMatrix(!0,!1);var r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()},updateMatrixWorld:function(e){Mt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,r){Mt.prototype.updateWorldMatrix.call(this,e,r),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),Er.prototype=Object.assign(Object.create(Ua.prototype),{constructor:Er,isPerspectiveCamera:!0,copy:function(e,r){return Ua.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var r=.5*this.getFilmHeight()/e;this.fov=2*Ct.RAD2DEG*Math.atan(r),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Ct.DEG2RAD*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Ct.RAD2DEG*Math.atan(Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,r,t,n,o,l){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=t,this.view.offsetY=n,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,r=e*Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom,t=2*r,n=this.aspect*t,o=-.5*n,l=this.view;if(this.view!==null&&this.view.enabled){var u=l.fullWidth,h=l.fullHeight;o+=l.offsetX*n/u,r-=l.offsetY*t/h,n*=l.width/u,t*=l.height/h}var p=this.filmOffset;p!==0&&(o+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+n,r,r-t,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var r=Mt.prototype.toJSON.call(this,e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}});var Ml=90;function Ps(e,r,t){if(Mt.call(this),this.type="CubeCamera",t.isWebGLCubeRenderTarget===!0){this.renderTarget=t;var n=new Er(Ml,1,e,r);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new V(1,0,0)),this.add(n);var o=new Er(Ml,1,e,r);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new V(-1,0,0)),this.add(o);var l=new Er(Ml,1,e,r);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(new V(0,1,0)),this.add(l);var u=new Er(Ml,1,e,r);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(new V(0,-1,0)),this.add(u);var h=new Er(Ml,1,e,r);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new V(0,0,1)),this.add(h);var p=new Er(Ml,1,e,r);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new V(0,0,-1)),this.add(p),this.update=function(v,x){this.parent===null&&this.updateMatrixWorld();var w=v.xr.enabled,T=v.getRenderTarget();v.xr.enabled=!1;var S=t.texture.generateMipmaps;t.texture.generateMipmaps=!1,v.setRenderTarget(t,0),v.render(x,n),v.setRenderTarget(t,1),v.render(x,o),v.setRenderTarget(t,2),v.render(x,l),v.setRenderTarget(t,3),v.render(x,u),v.setRenderTarget(t,4),v.render(x,h),t.texture.generateMipmaps=S,v.setRenderTarget(t,5),v.render(x,p),v.setRenderTarget(T),v.xr.enabled=w}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function Ga(e,r,t,n,o,l,u,h,p,v){e=e!==void 0?e:[],r=r!==void 0?r:m,u=u!==void 0?u:ze,cn.call(this,e,r,t,n,o,l,u,h,p,v),this.flipY=!1,this._needsFlipEnvMap=!0}function io(e,r,t){Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=t),mr.call(this,e,e,r),r=r||{},this.texture=new Ga(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture._needsFlipEnvMap=!1}function ao(e,r,t,n,o,l,u,h,p,v,x,w){cn.call(this,null,l,u,h,p,v,n,o,x,w),this.image={data:e||null,width:r||1,height:t||1},this.magFilter=p!==void 0?p:D,this.minFilter=v!==void 0?v:D,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ps.prototype=Object.create(Mt.prototype),Ps.prototype.constructor=Ps,Ga.prototype=Object.create(cn.prototype),Ga.prototype.constructor=Ga,Ga.prototype.isCubeTexture=!0,Object.defineProperty(Ga.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),io.prototype=Object.create(mr.prototype),io.prototype.constructor=io,io.prototype.isWebGLCubeRenderTarget=!0,io.prototype.fromEquirectangularTexture=function(e,r){this.texture.type=r.type,this.texture.format=Xe,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;var t={tEquirect:{value:null}},n=`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,o=`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`,l=new Ru(5,5,5),u=new li({name:"CubemapFromEquirect",uniforms:Sl(t),vertexShader:n,fragmentShader:o,side:1,blending:0});u.uniforms.tEquirect.value=r;var h=new Jn(l,u),p=r.minFilter;return r.minFilter===oe&&(r.minFilter=$),new Ps(1,10,this).update(e,h),r.minFilter=p,h.geometry.dispose(),h.material.dispose(),this},io.prototype.clear=function(e,r,t,n){for(var o=e.getRenderTarget(),l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(r,t,n);e.setRenderTarget(o)},ao.prototype=Object.create(cn.prototype),ao.prototype.constructor=ao,ao.prototype.isDataTexture=!0;var ja=new Kr,Wc=new V,El=function(){function e(t,n,o,l,u,h){this.planes=[t!==void 0?t:new ln,n!==void 0?n:new ln,o!==void 0?o:new ln,l!==void 0?l:new ln,u!==void 0?u:new ln,h!==void 0?h:new ln]}var r=e.prototype;return r.set=function(t,n,o,l,u,h){var p=this.planes;return p[0].copy(t),p[1].copy(n),p[2].copy(o),p[3].copy(l),p[4].copy(u),p[5].copy(h),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){for(var n=this.planes,o=0;o<6;o++)n[o].copy(t.planes[o]);return this},r.setFromProjectionMatrix=function(t){var n=this.planes,o=t.elements,l=o[0],u=o[1],h=o[2],p=o[3],v=o[4],x=o[5],w=o[6],T=o[7],S=o[8],C=o[9],P=o[10],A=o[11],O=o[12],H=o[13],k=o[14],B=o[15];return n[0].setComponents(p-l,T-v,A-S,B-O).normalize(),n[1].setComponents(p+l,T+v,A+S,B+O).normalize(),n[2].setComponents(p+u,T+x,A+C,B+H).normalize(),n[3].setComponents(p-u,T-x,A-C,B-H).normalize(),n[4].setComponents(p-h,T-w,A-P,B-k).normalize(),n[5].setComponents(p+h,T+w,A+P,B+k).normalize(),this},r.intersectsObject=function(t){var n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),ja.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ja)},r.intersectsSprite=function(t){return ja.center.set(0,0,0),ja.radius=.7071067811865476,ja.applyMatrix4(t.matrixWorld),this.intersectsSphere(ja)},r.intersectsSphere=function(t){for(var n=this.planes,o=t.center,l=-t.radius,u=0;u<6;u++)if(n[u].distanceToPoint(o)<l)return!1;return!0},r.intersectsBox=function(t){for(var n=this.planes,o=0;o<6;o++){var l=n[o];if(Wc.x=l.normal.x>0?t.max.x:t.min.x,Wc.y=l.normal.y>0?t.max.y:t.min.y,Wc.z=l.normal.z>0?t.max.z:t.min.z,l.distanceToPoint(Wc)<0)return!1}return!0},r.containsPoint=function(t){for(var n=this.planes,o=0;o<6;o++)if(n[o].distanceToPoint(t)<0)return!1;return!0},e}();function gf(){var e=null,r=!1,t=null,n=null;function o(l,u){t(l,u),n=e.requestAnimationFrame(o)}return{start:function(){r!==!0&&t!==null&&(n=e.requestAnimationFrame(o),r=!0)},stop:function(){e.cancelAnimationFrame(n),r=!1},setAnimationLoop:function(l){t=l},setContext:function(l){e=l}}}function Uh(e,r){var t=r.isWebGL2,n=new WeakMap;return{get:function(o){return o.isInterleavedBufferAttribute&&(o=o.data),n.get(o)},remove:function(o){o.isInterleavedBufferAttribute&&(o=o.data);var l=n.get(o);l&&(e.deleteBuffer(l.buffer),n.delete(o))},update:function(o,l){if(o.isGLBufferAttribute){var u=n.get(o);(!u||u.version<o.version)&&n.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version})}else{o.isInterleavedBufferAttribute&&(o=o.data);var h=n.get(o);h===void 0?n.set(o,function(p,v){var x=p.array,w=p.usage,T=e.createBuffer();e.bindBuffer(v,T),e.bufferData(v,x,w),p.onUploadCallback();var S=5126;return x instanceof Float32Array?S=5126:x instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):x instanceof Uint16Array?S=5123:x instanceof Int16Array?S=5122:x instanceof Uint32Array?S=5125:x instanceof Int32Array?S=5124:x instanceof Int8Array?S=5120:x instanceof Uint8Array&&(S=5121),{buffer:T,type:S,bytesPerElement:x.BYTES_PER_ELEMENT,version:p.version}}(o,l)):h.version<o.version&&(function(p,v,x){var w=v.array,T=v.updateRange;e.bindBuffer(x,p),T.count===-1?e.bufferSubData(x,0,w):(t?e.bufferSubData(x,T.offset*w.BYTES_PER_ELEMENT,w,T.offset,T.count):e.bufferSubData(x,T.offset*w.BYTES_PER_ELEMENT,w.subarray(T.offset,T.offset+T.count)),T.count=-1)}(h.buffer,o,l),h.version=o.version)}}}}var Cu=function(e){function r(t,n,o,l){var u;(u=e.call(this)||this).type="PlaneBufferGeometry",u.parameters={width:t,height:n,widthSegments:o,heightSegments:l};for(var h=(t=t||1)/2,p=(n=n||1)/2,v=Math.floor(o)||1,x=Math.floor(l)||1,w=v+1,T=x+1,S=t/v,C=n/x,P=[],A=[],O=[],H=[],k=0;k<T;k++)for(var B=k*C-p,G=0;G<w;G++){var Z=G*S-h;A.push(Z,-B,0),O.push(0,0,1),H.push(G/v),H.push(1-k/x)}for(var q=0;q<x;q++)for(var ie=0;ie<v;ie++){var ee=ie+w*q,se=ie+w*(q+1),ce=ie+1+w*(q+1),J=ie+1+w*q;P.push(ee,se,J),P.push(se,ce,J)}return u.setIndex(P),u.setAttribute("position",new tt(A,3)),u.setAttribute("normal",new tt(O,3)),u.setAttribute("uv",new tt(H,2)),u}return Ve(r,e),r}(kt),sn={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common:`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(		0, 1,		0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
							f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
							f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(	1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,	1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,	1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmissionmap_fragment:`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,transmissionmap_pars_fragment:`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},nt={common:{diffuse:{value:new ht(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Mn},uv2Transform:{value:new Mn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Mn}},sprite:{diffuse:{value:new ht(15658734)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Mn}}},ya={basic:{uniforms:ti([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:ti([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.fog,nt.lights,{emissive:{value:new ht(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:ti([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:ti([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:ti([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new ht(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:ti([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:ti([nt.points,nt.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:ti([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:ti([nt.common,nt.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:ti([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:sn.normal_vert,fragmentShader:sn.normal_frag},sprite:{uniforms:ti([nt.sprite,nt.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Mn},t2D:{value:null}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},cube:{uniforms:ti([nt.envmap,{opacity:{value:1}}]),vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:ti([nt.common,nt.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:ti([nt.lights,nt.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};function zm(e,r,t,n,o){var l,u,h=new ht(0),p=0,v=null,x=0,w=null;function T(S,C){t.buffers.color.setClear(S.r,S.g,S.b,C,o)}return{getClearColor:function(){return h},setClearColor:function(S,C){h.set(S),T(h,p=C!==void 0?C:1)},getClearAlpha:function(){return p},setClearAlpha:function(S){T(h,p=S)},render:function(S,C,P,A){var O=C.isScene===!0?C.background:null;O&&O.isTexture&&(O=r.get(O));var H=e.xr,k=H.getSession&&H.getSession();k&&k.environmentBlendMode==="additive"&&(O=null),O===null?T(h,p):O&&O.isColor&&(T(O,1),A=!0),(e.autoClear||A)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),O&&(O.isCubeTexture||O.isWebGLCubeRenderTarget||O.mapping===R)?(u===void 0&&((u=new Jn(new Ru(1,1,1),new li({name:"BackgroundCubeMaterial",uniforms:Sl(ya.cube.uniforms),vertexShader:ya.cube.vertexShader,fragmentShader:ya.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(B,G,Z){this.matrixWorld.copyPosition(Z.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(u)),O.isWebGLCubeRenderTarget&&(O=O.texture),u.material.uniforms.envMap.value=O,u.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O._needsFlipEnvMap?-1:1,v===O&&x===O.version&&w===e.toneMapping||(u.material.needsUpdate=!0,v=O,x=O.version,w=e.toneMapping),S.unshift(u,u.geometry,u.material,0,0,null)):O&&O.isTexture&&(l===void 0&&((l=new Jn(new Cu(2,2),new li({name:"BackgroundMaterial",uniforms:Sl(ya.background.uniforms),vertexShader:ya.background.vertexShader,fragmentShader:ya.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=O,O.matrixAutoUpdate===!0&&O.updateMatrix(),l.material.uniforms.uvTransform.value.copy(O.matrix),v===O&&x===O.version&&w===e.toneMapping||(l.material.needsUpdate=!0,v=O,x=O.version,w=e.toneMapping),S.unshift(l,l.geometry,l.material,0,0,null))}}}function Bm(e,r,t,n){var o=e.getParameter(34921),l=n.isWebGL2?null:r.get("OES_vertex_array_object"),u=n.isWebGL2||l!==null,h={},p=T(null),v=p;function x(B){return n.isWebGL2?e.bindVertexArray(B):l.bindVertexArrayOES(B)}function w(B){return n.isWebGL2?e.deleteVertexArray(B):l.deleteVertexArrayOES(B)}function T(B){for(var G=[],Z=[],q=[],ie=0;ie<o;ie++)G[ie]=0,Z[ie]=0,q[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:Z,attributeDivisors:q,object:B,attributes:{},index:null}}function S(){for(var B=v.newAttributes,G=0,Z=B.length;G<Z;G++)B[G]=0}function C(B){P(B,0)}function P(B,G){var Z=v.newAttributes,q=v.enabledAttributes,ie=v.attributeDivisors;Z[B]=1,q[B]===0&&(e.enableVertexAttribArray(B),q[B]=1),ie[B]!==G&&((n.isWebGL2?e:r.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,G),ie[B]=G)}function A(){for(var B=v.newAttributes,G=v.enabledAttributes,Z=0,q=G.length;Z<q;Z++)G[Z]!==B[Z]&&(e.disableVertexAttribArray(Z),G[Z]=0)}function O(B,G,Z,q,ie,ee){n.isWebGL2!==!0||Z!==5124&&Z!==5125?e.vertexAttribPointer(B,G,Z,q,ie,ee):e.vertexAttribIPointer(B,G,Z,ie,ee)}function H(){k(),v!==p&&x((v=p).object)}function k(){p.geometry=null,p.program=null,p.wireframe=!1}return{setup:function(B,G,Z,q,ie){var ee=!1;if(u){var se=function(J,Se,Me){var ve=Me.wireframe===!0,Ne=h[J.id];Ne===void 0&&(Ne={},h[J.id]=Ne);var $e=Ne[Se.id];$e===void 0&&($e={},Ne[Se.id]=$e);var we=$e[ve];return we===void 0&&(we=T(n.isWebGL2?e.createVertexArray():l.createVertexArrayOES()),$e[ve]=we),we}(q,Z,G);v!==se&&x((v=se).object),(ee=function(J,Se){var Me=v.attributes,ve=J.attributes;if(Object.keys(Me).length!==Object.keys(ve).length)return!0;for(var Ne in ve){var $e=Me[Ne],we=ve[Ne];if($e===void 0||$e.attribute!==we||$e.data!==we.data)return!0}return v.index!==Se}(q,ie))&&function(J,Se){var Me={},ve=J.attributes;for(var Ne in ve){var $e=ve[Ne],we={};we.attribute=$e,$e.data&&(we.data=$e.data),Me[Ne]=we}v.attributes=Me,v.index=Se}(q,ie)}else{var ce=G.wireframe===!0;v.geometry===q.id&&v.program===Z.id&&v.wireframe===ce||(v.geometry=q.id,v.program=Z.id,v.wireframe=ce,ee=!0)}B.isInstancedMesh===!0&&(ee=!0),ie!==null&&t.update(ie,34963),ee&&(function(J,Se,Me,ve){if(!(n.isWebGL2===!1&&(J.isInstancedMesh||ve.isInstancedBufferGeometry)&&r.get("ANGLE_instanced_arrays")===null)){S();var Ne=ve.attributes,$e=Me.getAttributes(),we=Se.defaultAttributeValues;for(var Le in $e){var Ee=$e[Le];if(Ee>=0){var We=Ne[Le];if(We!==void 0){var bt=We.normalized,Ht=We.itemSize,te=t.get(We);if(te===void 0)continue;var K=te.buffer,Pe=te.type,_e=te.bytesPerElement;if(We.isInterleavedBufferAttribute){var ke=We.data,re=ke.stride,qe=We.offset;ke&&ke.isInstancedInterleavedBuffer?(P(Ee,ke.meshPerAttribute),ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=ke.meshPerAttribute*ke.count)):C(Ee),e.bindBuffer(34962,K),O(Ee,Ht,Pe,bt,re*_e,qe*_e)}else We.isInstancedBufferAttribute?(P(Ee,We.meshPerAttribute),ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=We.meshPerAttribute*We.count)):C(Ee),e.bindBuffer(34962,K),O(Ee,Ht,Pe,bt,0,0)}else if(Le==="instanceMatrix"){var et=t.get(J.instanceMatrix);if(et===void 0)continue;var ut=et.buffer,Ke=et.type;P(Ee+0,1),P(Ee+1,1),P(Ee+2,1),P(Ee+3,1),e.bindBuffer(34962,ut),e.vertexAttribPointer(Ee+0,4,Ke,!1,64,0),e.vertexAttribPointer(Ee+1,4,Ke,!1,64,16),e.vertexAttribPointer(Ee+2,4,Ke,!1,64,32),e.vertexAttribPointer(Ee+3,4,Ke,!1,64,48)}else if(Le==="instanceColor"){var St=t.get(J.instanceColor);if(St===void 0)continue;var $t=St.buffer,An=St.type;P(Ee,1),e.bindBuffer(34962,$t),e.vertexAttribPointer(Ee,3,An,!1,12,0)}else if(we!==void 0){var Fn=we[Le];if(Fn!==void 0)switch(Fn.length){case 2:e.vertexAttrib2fv(Ee,Fn);break;case 3:e.vertexAttrib3fv(Ee,Fn);break;case 4:e.vertexAttrib4fv(Ee,Fn);break;default:e.vertexAttrib1fv(Ee,Fn)}}}}A()}}(B,G,Z,q),ie!==null&&e.bindBuffer(34963,t.get(ie).buffer))},reset:H,resetDefaultState:k,dispose:function(){for(var B in H(),h){var G=h[B];for(var Z in G){var q=G[Z];for(var ie in q)w(q[ie].object),delete q[ie];delete G[Z]}delete h[B]}},releaseStatesOfGeometry:function(B){if(h[B.id]!==void 0){var G=h[B.id];for(var Z in G){var q=G[Z];for(var ie in q)w(q[ie].object),delete q[ie];delete G[Z]}delete h[B.id]}},releaseStatesOfProgram:function(B){for(var G in h){var Z=h[G];if(Z[B.id]!==void 0){var q=Z[B.id];for(var ie in q)w(q[ie].object),delete q[ie];delete Z[B.id]}}},initAttributes:S,enableAttribute:C,disableUnusedAttributes:A}}function Gh(e,r,t,n){var o,l=n.isWebGL2;this.setMode=function(u){o=u},this.render=function(u,h){e.drawArrays(o,u,h),t.update(h,o,1)},this.renderInstances=function(u,h,p){if(p!==0){var v,x;if(l)v=e,x="drawArraysInstanced";else if(x="drawArraysInstancedANGLE",(v=r.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[x](o,u,h,p),t.update(h,o,p)}}}function jh(e,r,t){var n;function o(k){if(k==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";k="mediump"}return k==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var l=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext,u=t.precision!==void 0?t.precision:"highp",h=o(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);var p=t.logarithmicDepthBuffer===!0,v=e.getParameter(34930),x=e.getParameter(35660),w=e.getParameter(3379),T=e.getParameter(34076),S=e.getParameter(34921),C=e.getParameter(36347),P=e.getParameter(36348),A=e.getParameter(36349),O=x>0,H=l||!!r.get("OES_texture_float");return{isWebGL2:l,getMaxAnisotropy:function(){if(n!==void 0)return n;var k=r.get("EXT_texture_filter_anisotropic");return n=k!==null?e.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:o,precision:u,logarithmicDepthBuffer:p,maxTextures:v,maxVertexTextures:x,maxTextureSize:w,maxCubemapSize:T,maxAttributes:S,maxVertexUniforms:C,maxVaryings:P,maxFragmentUniforms:A,vertexTextures:O,floatFragmentTextures:H,floatVertexTextures:O&&H,maxSamples:l?e.getParameter(36183):0}}function Lu(e){var r=this,t=null,n=0,o=!1,l=!1,u=new ln,h=new Mn,p={value:null,needsUpdate:!1};function v(){p.value!==t&&(p.value=t,p.needsUpdate=n>0),r.numPlanes=n,r.numIntersection=0}function x(w,T,S,C){var P=w!==null?w.length:0,A=null;if(P!==0){if(A=p.value,C!==!0||A===null){var O=S+4*P,H=T.matrixWorldInverse;h.getNormalMatrix(H),(A===null||A.length<O)&&(A=new Float32Array(O));for(var k=0,B=S;k!==P;++k,B+=4)u.copy(w[k]).applyMatrix4(H,h),u.normal.toArray(A,B),A[B+3]=u.constant}p.value=A,p.needsUpdate=!0}return r.numPlanes=P,r.numIntersection=0,A}this.uniform=p,this.numPlanes=0,this.numIntersection=0,this.init=function(w,T,S){var C=w.length!==0||T||n!==0||o;return o=T,t=x(w,S,0),n=w.length,C},this.beginShadows=function(){l=!0,x(null)},this.endShadows=function(){l=!1,v()},this.setState=function(w,T,S){var C=w.clippingPlanes,P=w.clipIntersection,A=w.clipShadows,O=e.get(w);if(!o||C===null||C.length===0||l&&!A)l?x(null):v();else{var H=l?0:n,k=4*H,B=O.clippingState||null;p.value=B,B=x(C,T,k,S);for(var G=0;G!==k;++G)B[G]=t[G];O.clippingState=B,this.numIntersection=P?this.numPlanes:0,this.numPlanes+=H}}}function Au(e){var r=new WeakMap;function t(o,l){return l===b?o.mapping=m:l===M&&(o.mapping=y),o}function n(o){var l=o.target;l.removeEventListener("dispose",n);var u=r.get(l);u!==void 0&&(r.delete(l),u.dispose())}return{get:function(o){if(o&&o.isTexture){var l=o.mapping;if(l===b||l===M){if(r.has(o))return t(r.get(o).texture,o.mapping);var u=o.image;if(u&&u.height>0){var h=e.getRenderList(),p=e.getRenderTarget(),v=e.getRenderState(),x=new io(u.height/2);return x.fromEquirectangularTexture(e,o),r.set(o,x),e.setRenderTarget(p),e.setRenderList(h),e.setRenderState(v),o.addEventListener("dispose",n),t(x.texture,o.mapping)}return null}}return o},dispose:function(){r=new WeakMap}}}function Fm(e){var r={};return{has:function(t){if(r[t]!==void 0)return r[t]!==null;var n;switch(t){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(t)}return r[t]=n,n!==null},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),r[t]}}}function $c(e,r,t,n){var o=new WeakMap,l=new WeakMap;function u(p){var v=p.target,x=o.get(v);for(var w in x.index!==null&&r.remove(x.index),x.attributes)r.remove(x.attributes[w]);v.removeEventListener("dispose",u),o.delete(v);var T=l.get(x);T&&(r.remove(T),l.delete(x)),n.releaseStatesOfGeometry(x),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function h(p){var v=[],x=p.index,w=p.attributes.position,T=0;if(x!==null){var S=x.array;T=x.version;for(var C=0,P=S.length;C<P;C+=3){var A=S[C+0],O=S[C+1],H=S[C+2];v.push(A,O,O,H,H,A)}}else{var k=w.array;T=w.version;for(var B=0,G=k.length/3-1;B<G;B+=3){var Z=B+0,q=B+1,ie=B+2;v.push(Z,q,q,ie,ie,Z)}}var ee=new(ff(v)>65535?Bo:Ha)(v,1);ee.version=T;var se=l.get(p);se&&r.remove(se),l.set(p,ee)}return{get:function(p,v){var x=o.get(v);return x||(v.addEventListener("dispose",u),v.isBufferGeometry?x=v:v.isGeometry&&(v._bufferGeometry===void 0&&(v._bufferGeometry=new kt().setFromObject(p)),x=v._bufferGeometry),o.set(v,x),t.memory.geometries++,x)},update:function(p){var v=p.attributes;for(var x in v)r.update(v[x],34962);var w=p.morphAttributes;for(var T in w)for(var S=w[T],C=0,P=S.length;C<P;C++)r.update(S[C],34962)},getWireframeAttribute:function(p){var v=l.get(p);if(v){var x=p.index;x!==null&&v.version<x.version&&h(p)}else h(p);return l.get(p)}}}function Hm(e,r,t,n){var o,l,u,h=n.isWebGL2;this.setMode=function(p){o=p},this.setIndex=function(p){l=p.type,u=p.bytesPerElement},this.render=function(p,v){e.drawElements(o,v,l,p*u),t.update(v,o,1)},this.renderInstances=function(p,v,x){if(x!==0){var w,T;if(h)w=e,T="drawElementsInstanced";else if(T="drawElementsInstancedANGLE",(w=r.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");w[T](o,v,l,p*u,x),t.update(v,o,x)}}}function Vh(e){var r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(t,n,o){switch(r.calls++,n){case 4:r.triangles+=o*(t/3);break;case 1:r.lines+=o*(t/2);break;case 3:r.lines+=o*(t-1);break;case 2:r.lines+=o*t;break;case 0:r.points+=o*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function vf(e,r){return e[0]-r[0]}function yf(e,r){return Math.abs(r[1])-Math.abs(e[1])}function Wh(e){for(var r={},t=new Float32Array(8),n=[],o=0;o<8;o++)n[o]=[o,0];return{update:function(l,u,h,p){var v=l.morphTargetInfluences,x=v===void 0?0:v.length,w=r[u.id];if(w===void 0){w=[];for(var T=0;T<x;T++)w[T]=[T,0];r[u.id]=w}for(var S=0;S<x;S++){var C=w[S];C[0]=S,C[1]=v[S]}w.sort(yf);for(var P=0;P<8;P++)P<x&&w[P][1]?(n[P][0]=w[P][0],n[P][1]=w[P][1]):(n[P][0]=Number.MAX_SAFE_INTEGER,n[P][1]=0);n.sort(vf);for(var A=h.morphTargets&&u.morphAttributes.position,O=h.morphNormals&&u.morphAttributes.normal,H=0,k=0;k<8;k++){var B=n[k],G=B[0],Z=B[1];G!==Number.MAX_SAFE_INTEGER&&Z?(A&&u.getAttribute("morphTarget"+k)!==A[G]&&u.setAttribute("morphTarget"+k,A[G]),O&&u.getAttribute("morphNormal"+k)!==O[G]&&u.setAttribute("morphNormal"+k,O[G]),t[k]=Z,H+=Z):(A&&u.getAttribute("morphTarget"+k)!==void 0&&u.deleteAttribute("morphTarget"+k),O&&u.getAttribute("morphNormal"+k)!==void 0&&u.deleteAttribute("morphNormal"+k),t[k]=0)}var q=u.morphTargetsRelative?1:1-H;p.getUniforms().setValue(e,"morphTargetBaseInfluence",q),p.getUniforms().setValue(e,"morphTargetInfluences",t)}}}function $h(e,r,t,n){var o=new WeakMap;return{update:function(l){var u=n.render.frame,h=l.geometry,p=r.get(l,h);return o.get(p)!==u&&(h.isGeometry&&p.updateFromObject(l),r.update(p),o.set(p,u)),l.isInstancedMesh&&(t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),p},dispose:function(){o=new WeakMap}}}function Ns(e,r,t,n){cn.call(this,null),this.image={data:e||null,width:r||1,height:t||1,depth:n||1},this.magFilter=D,this.minFilter=D,this.wrapR=I,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Tl(e,r,t,n){cn.call(this,null),this.image={data:e||null,width:r||1,height:t||1,depth:n||1},this.magFilter=D,this.minFilter=D,this.wrapR=I,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ya.physical={uniforms:ti([ya.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ht(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},Ns.prototype=Object.create(cn.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isDataTexture2DArray=!0,Tl.prototype=Object.create(cn.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isDataTexture3D=!0;var qh=new cn,Um=new Ns,Gm=new Tl,Xh=new Ga,ta=[],Rl=[],xf=new Float32Array(16),wf=new Float32Array(9),bf=new Float32Array(4);function Os(e,r,t){var n=e[0];if(n<=0||n>0)return e;var o=r*t,l=ta[o];if(l===void 0&&(l=new Float32Array(o),ta[o]=l),r!==0){n.toArray(l,0);for(var u=1,h=0;u!==r;++u)h+=t,e[u].toArray(l,h)}return l}function Si(e,r){if(e.length!==r.length)return!1;for(var t=0,n=e.length;t<n;t++)if(e[t]!==r[t])return!1;return!0}function ki(e,r){for(var t=0,n=r.length;t<n;t++)e[t]=r[t]}function Yh(e,r){var t=Rl[r];t===void 0&&(t=new Int32Array(r),Rl[r]=t);for(var n=0;n!==r;++n)t[n]=e.allocateTextureUnit();return t}function Cl(e,r){var t=this.cache;t[0]!==r&&(e.uniform1f(this.addr,r),t[0]=r)}function _f(e,r){var t=this.cache;if(r.x!==void 0)t[0]===r.x&&t[1]===r.y||(e.uniform2f(this.addr,r.x,r.y),t[0]=r.x,t[1]=r.y);else{if(Si(t,r))return;e.uniform2fv(this.addr,r),ki(t,r)}}function Pu(e,r){var t=this.cache;if(r.x!==void 0)t[0]===r.x&&t[1]===r.y&&t[2]===r.z||(e.uniform3f(this.addr,r.x,r.y,r.z),t[0]=r.x,t[1]=r.y,t[2]=r.z);else if(r.r!==void 0)t[0]===r.r&&t[1]===r.g&&t[2]===r.b||(e.uniform3f(this.addr,r.r,r.g,r.b),t[0]=r.r,t[1]=r.g,t[2]=r.b);else{if(Si(t,r))return;e.uniform3fv(this.addr,r),ki(t,r)}}function Sf(e,r){var t=this.cache;if(r.x!==void 0)t[0]===r.x&&t[1]===r.y&&t[2]===r.z&&t[3]===r.w||(e.uniform4f(this.addr,r.x,r.y,r.z,r.w),t[0]=r.x,t[1]=r.y,t[2]=r.z,t[3]=r.w);else{if(Si(t,r))return;e.uniform4fv(this.addr,r),ki(t,r)}}function Zh(e,r){var t=this.cache,n=r.elements;if(n===void 0){if(Si(t,r))return;e.uniformMatrix2fv(this.addr,!1,r),ki(t,r)}else{if(Si(t,n))return;bf.set(n),e.uniformMatrix2fv(this.addr,!1,bf),ki(t,n)}}function qc(e,r){var t=this.cache,n=r.elements;if(n===void 0){if(Si(t,r))return;e.uniformMatrix3fv(this.addr,!1,r),ki(t,r)}else{if(Si(t,n))return;wf.set(n),e.uniformMatrix3fv(this.addr,!1,wf),ki(t,n)}}function Ll(e,r){var t=this.cache,n=r.elements;if(n===void 0){if(Si(t,r))return;e.uniformMatrix4fv(this.addr,!1,r),ki(t,r)}else{if(Si(t,n))return;xf.set(n),e.uniformMatrix4fv(this.addr,!1,xf),ki(t,n)}}function Mf(e,r,t){var n=this.cache,o=t.allocateTextureUnit();n[0]!==o&&(e.uniform1i(this.addr,o),n[0]=o),t.safeSetTexture2D(r||qh,o)}function Jh(e,r,t){var n=this.cache,o=t.allocateTextureUnit();n[0]!==o&&(e.uniform1i(this.addr,o),n[0]=o),t.setTexture2DArray(r||Um,o)}function Xc(e,r,t){var n=this.cache,o=t.allocateTextureUnit();n[0]!==o&&(e.uniform1i(this.addr,o),n[0]=o),t.setTexture3D(r||Gm,o)}function Qh(e,r,t){var n=this.cache,o=t.allocateTextureUnit();n[0]!==o&&(e.uniform1i(this.addr,o),n[0]=o),t.safeSetTextureCube(r||Xh,o)}function Kh(e,r){var t=this.cache;t[0]!==r&&(e.uniform1i(this.addr,r),t[0]=r)}function ep(e,r){var t=this.cache;Si(t,r)||(e.uniform2iv(this.addr,r),ki(t,r))}function tp(e,r){var t=this.cache;Si(t,r)||(e.uniform3iv(this.addr,r),ki(t,r))}function np(e,r){var t=this.cache;Si(t,r)||(e.uniform4iv(this.addr,r),ki(t,r))}function rp(e,r){var t=this.cache;t[0]!==r&&(e.uniform1ui(this.addr,r),t[0]=r)}function Ho(e,r){e.uniform1fv(this.addr,r)}function Ef(e,r){e.uniform1iv(this.addr,r)}function Tf(e,r){e.uniform2iv(this.addr,r)}function jm(e,r){e.uniform3iv(this.addr,r)}function Vm(e,r){e.uniform4iv(this.addr,r)}function Nu(e,r){var t=Os(r,this.size,2);e.uniform2fv(this.addr,t)}function Wm(e,r){var t=Os(r,this.size,3);e.uniform3fv(this.addr,t)}function ip(e,r){var t=Os(r,this.size,4);e.uniform4fv(this.addr,t)}function ap(e,r){var t=Os(r,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function Qn(e,r){var t=Os(r,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function Rf(e,r){var t=Os(r,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function Yc(e,r,t){var n=r.length,o=Yh(t,n);e.uniform1iv(this.addr,o);for(var l=0;l!==n;++l)t.safeSetTexture2D(r[l]||qh,o[l])}function Ou(e,r,t){var n=r.length,o=Yh(t,n);e.uniform1iv(this.addr,o);for(var l=0;l!==n;++l)t.safeSetTextureCube(r[l]||Xh,o[l])}function op(e,r,t){this.id=e,this.addr=t,this.cache=[],this.setValue=function(n){switch(n){case 5126:return Cl;case 35664:return _f;case 35665:return Pu;case 35666:return Sf;case 35674:return Zh;case 35675:return qc;case 35676:return Ll;case 5124:case 35670:return Kh;case 35667:case 35671:return ep;case 35668:case 35672:return tp;case 35669:case 35673:return np;case 5125:return rp;case 35678:case 36198:case 36298:case 36306:case 35682:return Mf;case 35679:case 36299:case 36307:return Xc;case 35680:case 36300:case 36308:case 36293:return Qh;case 36289:case 36303:case 36311:case 36292:return Jh}}(r.type)}function Zc(e,r,t){this.id=e,this.addr=t,this.cache=[],this.size=r.size,this.setValue=function(n){switch(n){case 5126:return Ho;case 35664:return Nu;case 35665:return Wm;case 35666:return ip;case 35674:return ap;case 35675:return Qn;case 35676:return Rf;case 5124:case 35670:return Ef;case 35667:case 35671:return Tf;case 35668:case 35672:return jm;case 35669:case 35673:return Vm;case 35678:case 36198:case 36298:case 36306:case 35682:return Yc;case 35680:case 36300:case 36308:case 36293:return Ou}}(r.type)}function Al(e){this.id=e,this.seq=[],this.map={}}Zc.prototype.updateCache=function(e){var r=this.cache;e instanceof Float32Array&&r.length!==e.length&&(this.cache=new Float32Array(e.length)),ki(r,e)},Al.prototype.setValue=function(e,r,t){for(var n=this.seq,o=0,l=n.length;o!==l;++o){var u=n[o];u.setValue(e,r[u.id],t)}};var Pl=/([\w\d_]+)(\])?(\[|\.)?/g;function Ds(e,r){e.seq.push(r),e.map[r.id]=r}function sp(e,r,t){var n=e.name,o=n.length;for(Pl.lastIndex=0;;){var l=Pl.exec(n),u=Pl.lastIndex,h=l[1],p=l[2]==="]",v=l[3];if(p&&(h|=0),v===void 0||v==="["&&u+2===o){Ds(t,v===void 0?new op(h,e,r):new Zc(h,e,r));break}var x=t.map[h];x===void 0&&Ds(t,x=new Al(h)),t=x}}function Uo(e,r){this.seq=[],this.map={};for(var t=e.getProgramParameter(r,35718),n=0;n<t;++n){var o=e.getActiveUniform(r,n);sp(o,e.getUniformLocation(r,o.name),this)}}function lp(e,r,t){var n=e.createShader(r);return e.shaderSource(n,t),e.compileShader(n),n}Uo.prototype.setValue=function(e,r,t,n){var o=this.map[r];o!==void 0&&o.setValue(e,t,n)},Uo.prototype.setOptional=function(e,r,t){var n=r[t];n!==void 0&&this.setValue(e,t,n)},Uo.upload=function(e,r,t,n){for(var o=0,l=r.length;o!==l;++o){var u=r[o],h=t[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,n)}},Uo.seqWithValue=function(e,r){for(var t=[],n=0,o=e.length;n!==o;++n){var l=e[n];l.id in r&&t.push(l)}return t};var up=0;function Du(e){switch(e){case He:return["Linear","( value )"];case Pt:return["sRGB","( value )"];case pt:return["RGBE","( value )"];case Sn:return["RGBM","( value, 7.0 )"];case Yn:return["RGBM","( value, 16.0 )"];case lr:return["RGBD","( value, 256.0 )"];case un:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Iu(e,r,t){var n=e.getShaderParameter(r,35713),o=e.getShaderInfoLog(r).trim();return n&&o===""?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+t+`
`+o+function(l){for(var u=l.split(`
`),h=0;h<u.length;h++)u[h]=h+1+": "+u[h];return u.join(`
`)}(e.getShaderSource(r))}function Is(e,r){var t=Du(r);return"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Cf(e,r){var t;switch(r){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",r),t="Linear"}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function ks(e){return e!==""}function Jc(e,r){return e.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function cp(e,r){return e.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}var dp=/^[ \t]*#include +<([\w\d./]+)>/gm;function Lf(e){return e.replace(dp,$m)}function $m(e,r){var t=sn[r];if(t===void 0)throw new Error("Can not resolve #include <"+r+">");return Lf(t)}var Af=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Go=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Pf(e){return e.replace(Go,xa).replace(Af,Nl)}function Nl(e,r,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),xa(e,r,t,n)}function xa(e,r,t,n){for(var o="",l=parseInt(r);l<parseInt(t);l++)o+=n.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return o}function Ol(e){var r="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?r+=`
#define HIGH_PRECISION`:e.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function oo(e,r,t,n){var o,l,u,h,p,v=e.getContext(),x=t.defines,w=t.vertexShader,T=t.fragmentShader,S=function(we){var Le="SHADOWMAP_TYPE_BASIC";return we.shadowMapType===1?Le="SHADOWMAP_TYPE_PCF":we.shadowMapType===2?Le="SHADOWMAP_TYPE_PCF_SOFT":we.shadowMapType===3&&(Le="SHADOWMAP_TYPE_VSM"),Le}(t),C=function(we){var Le="ENVMAP_TYPE_CUBE";if(we.envMap)switch(we.envMapMode){case m:case y:Le="ENVMAP_TYPE_CUBE";break;case R:case L:Le="ENVMAP_TYPE_CUBE_UV"}return Le}(t),P=function(we){var Le="ENVMAP_MODE_REFLECTION";if(we.envMap)switch(we.envMapMode){case y:case L:Le="ENVMAP_MODE_REFRACTION"}return Le}(t),A=function(we){var Le="ENVMAP_BLENDING_NONE";if(we.envMap)switch(we.combine){case 0:Le="ENVMAP_BLENDING_MULTIPLY";break;case 1:Le="ENVMAP_BLENDING_MIX";break;case 2:Le="ENVMAP_BLENDING_ADD"}return Le}(t),O=e.gammaFactor>0?e.gammaFactor:1,H=t.isWebGL2?"":function(we){return[we.extensionDerivatives||we.envMapCubeUV||we.bumpMap||we.tangentSpaceNormalMap||we.clearcoatNormalMap||we.flatShading||we.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(we.extensionFragDepth||we.logarithmicDepthBuffer)&&we.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",we.extensionDrawBuffers&&we.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(we.extensionShaderTextureLOD||we.envMap)&&we.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ks).join(`
`)}(t),k=function(we){var Le=[];for(var Ee in we){var We=we[Ee];We!==!1&&Le.push("#define "+Ee+" "+We)}return Le.join(`
`)}(x),B=v.createProgram(),G=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?((o=[k].filter(ks).join(`
`)).length>0&&(o+=`
`),(l=[H,k].filter(ks).join(`
`)).length>0&&(l+=`
`)):(o=[Ol(t),"#define SHADER_NAME "+t.shaderName,k,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+O,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+P:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+S:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ks).join(`
`),l=[H,Ol(t),"#define SHADER_NAME "+t.shaderName,k,t.alphaTest?"#define ALPHATEST "+t.alphaTest+(t.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+O,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+C:"",t.envMap?"#define "+P:"",t.envMap?"#define "+A:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.sheen?"#define USE_SHEEN":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+S:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==0?"#define TONE_MAPPING":"",t.toneMapping!==0?sn.tonemapping_pars_fragment:"",t.toneMapping!==0?Cf("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",sn.encodings_pars_fragment,t.map?Is("mapTexelToLinear",t.mapEncoding):"",t.matcap?Is("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Is("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Is("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.lightMap?Is("lightMapTexelToLinear",t.lightMapEncoding):"",(u="linearToOutputTexel",h=t.outputEncoding,p=Du(h),"vec4 "+u+"( vec4 value ) { return LinearTo"+p[0]+p[1]+"; }"),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ks).join(`
`)),w=cp(w=Jc(w=Lf(w),t),t),T=cp(T=Jc(T=Lf(T),t),t),w=Pf(w),T=Pf(T),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(G=`#version 300 es
`,o=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+o,l=["#define varying in",t.glslVersion===In?"":"out highp vec4 pc_fragColor;",t.glslVersion===In?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+l);var Z,q,ie=G+l+T,ee=lp(v,35633,G+o+w),se=lp(v,35632,ie);if(v.attachShader(B,ee),v.attachShader(B,se),t.index0AttributeName!==void 0?v.bindAttribLocation(B,0,t.index0AttributeName):t.morphTargets===!0&&v.bindAttribLocation(B,0,"position"),v.linkProgram(B),e.debug.checkShaderErrors){var ce=v.getProgramInfoLog(B).trim(),J=v.getShaderInfoLog(ee).trim(),Se=v.getShaderInfoLog(se).trim(),Me=!0,ve=!0;if(v.getProgramParameter(B,35714)===!1){Me=!1;var Ne=Iu(v,ee,"vertex"),$e=Iu(v,se,"fragment");console.error("THREE.WebGLProgram: shader error: ",v.getError(),"35715",v.getProgramParameter(B,35715),"gl.getProgramInfoLog",ce,Ne,$e)}else ce!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",ce):J!==""&&Se!==""||(ve=!1);ve&&(this.diagnostics={runnable:Me,programLog:ce,vertexShader:{log:J,prefix:o},fragmentShader:{log:Se,prefix:l}})}return v.deleteShader(ee),v.deleteShader(se),this.getUniforms=function(){return Z===void 0&&(Z=new Uo(v,B)),Z},this.getAttributes=function(){return q===void 0&&(q=function(we,Le){for(var Ee={},We=we.getProgramParameter(Le,35721),bt=0;bt<We;bt++){var Ht=we.getActiveAttrib(Le,bt).name;Ee[Ht]=we.getAttribLocation(Le,Ht)}return Ee}(v,B)),q},this.destroy=function(){n.releaseStatesOfProgram(this),v.deleteProgram(B),this.program=void 0},this.name=t.shaderName,this.id=up++,this.cacheKey=r,this.usedTimes=1,this.program=B,this.vertexShader=ee,this.fragmentShader=se,this}function Nf(e,r,t,n,o,l){var u=[],h=n.isWebGL2,p=n.logarithmicDepthBuffer,v=n.floatVertexTextures,x=n.maxVertexUniforms,w=n.vertexTextures,T=n.precision,S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},C=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function P(A){var O;return A?A.isTexture?O=A.encoding:A.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),O=A.texture.encoding):O=He,O}return{getParameters:function(A,O,H,k,B){var G,Z,q=k.fog,ie=A.isMeshStandardMaterial?k.environment:null,ee=r.get(A.envMap||ie),se=S[A.type],ce=B.isSkinnedMesh?function(Me){var ve=Me.skeleton.bones;if(v)return 1024;var Ne=x,$e=Math.floor((Ne-20)/4),we=Math.min($e,ve.length);return we<ve.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+ve.length+" bones. This GPU supports "+we+"."),0):we}(B):0;if(A.precision!==null&&(T=n.getMaxPrecision(A.precision))!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",T,"instead."),se){var J=ya[se];G=J.vertexShader,Z=J.fragmentShader}else G=A.vertexShader,Z=A.fragmentShader;var Se=e.getRenderTarget();return{isWebGL2:h,shaderID:se,shaderName:A.type,vertexShader:G,fragmentShader:Z,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:T,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:w,outputEncoding:Se!==null?P(Se.texture):e.outputEncoding,map:!!A.map,mapEncoding:P(A.map),matcap:!!A.matcap,matcapEncoding:P(A.matcap),envMap:!!ee,envMapMode:ee&&ee.mapping,envMapEncoding:P(ee),envMapCubeUV:!!ee&&(ee.mapping===R||ee.mapping===L),lightMap:!!A.lightMap,lightMapEncoding:P(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:P(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===1,tangentSpaceNormalMap:A.normalMapType===0,clearcoatMap:!!A.clearcoatMap,clearcoatRoughnessMap:!!A.clearcoatRoughnessMap,clearcoatNormalMap:!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,sheen:!!A.sheen,transmissionMap:!!A.transmissionMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,vertexUvs:!!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatMap||A.clearcoatRoughnessMap||A.clearcoatNormalMap||A.displacementMap||A.transmissionMap),uvsVertexOnly:!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatNormalMap||A.transmissionMap||!A.displacementMap),fog:!!q,useFog:A.fog,fogExp2:q&&q.isFogExp2,flatShading:A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:p,skinning:A.skinning&&ce>0,maxBones:ce,useVertexTexture:v,morphTargets:A.morphTargets,morphNormals:A.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:A.dithering,shadowMapEnabled:e.shadowMap.enabled&&H.length>0,shadowMapType:e.shadowMap.type,toneMapping:A.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===2,flipSided:A.side===1,depthPacking:A.depthPacking!==void 0&&A.depthPacking,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||t.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}},getProgramCacheKey:function(A){var O=[];if(A.shaderID?O.push(A.shaderID):(O.push(A.fragmentShader),O.push(A.vertexShader)),A.defines!==void 0)for(var H in A.defines)O.push(H),O.push(A.defines[H]);if(A.isRawShaderMaterial===!1){for(var k=0;k<C.length;k++)O.push(A[C[k]]);O.push(e.outputEncoding),O.push(e.gammaFactor)}return O.push(A.customProgramCacheKey),O.join()},getUniforms:function(A){var O,H=S[A.type];if(H){var k=ya[H];O=mf.clone(k.uniforms)}else O=A.uniforms;return O},acquireProgram:function(A,O){for(var H,k=0,B=u.length;k<B;k++){var G=u[k];if(G.cacheKey===O){++(H=G).usedTimes;break}}return H===void 0&&(H=new oo(e,O,A,o),u.push(H)),H},releaseProgram:function(A){if(--A.usedTimes==0){var O=u.indexOf(A);u[O]=u[u.length-1],u.pop(),A.destroy()}},programs:u}}function qm(){var e=new WeakMap;return{get:function(r){var t=e.get(r);return t===void 0&&(t={},e.set(r,t)),t},remove:function(r){e.delete(r)},update:function(r,t,n){e.get(r)[t]=n},dispose:function(){e=new WeakMap}}}function Xm(e,r){return e.groupOrder!==r.groupOrder?e.groupOrder-r.groupOrder:e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program!==r.program?e.program.id-r.program.id:e.material.id!==r.material.id?e.material.id-r.material.id:e.z!==r.z?e.z-r.z:e.id-r.id}function zs(e,r){return e.groupOrder!==r.groupOrder?e.groupOrder-r.groupOrder:e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.z!==r.z?r.z-e.z:e.id-r.id}function Dl(e){var r=[],t=0,n=[],o=[],l={id:-1};function u(h,p,v,x,w,T){var S=r[t],C=e.get(v);return S===void 0?(S={id:h.id,object:h,geometry:p,material:v,program:C.program||l,groupOrder:x,renderOrder:h.renderOrder,z:w,group:T},r[t]=S):(S.id=h.id,S.object=h,S.geometry=p,S.material=v,S.program=C.program||l,S.groupOrder=x,S.renderOrder=h.renderOrder,S.z=w,S.group=T),t++,S}return{opaque:n,transparent:o,init:function(){t=0,n.length=0,o.length=0},push:function(h,p,v,x,w,T){var S=u(h,p,v,x,w,T);(v.transparent===!0?o:n).push(S)},unshift:function(h,p,v,x,w,T){var S=u(h,p,v,x,w,T);(v.transparent===!0?o:n).unshift(S)},finish:function(){for(var h=t,p=r.length;h<p;h++){var v=r[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}},sort:function(h,p){n.length>1&&n.sort(h||Xm),o.length>1&&o.sort(p||zs)}}}function Il(e){var r=new WeakMap;return{get:function(t,n){var o,l=r.get(t);return l===void 0?(o=new Dl(e),r.set(t,new WeakMap),r.get(t).set(n,o)):(o=l.get(n))===void 0&&(o=new Dl(e),l.set(n,o)),o},dispose:function(){r=new WeakMap}}}function Qc(){var e={};return{get:function(r){if(e[r.id]!==void 0)return e[r.id];var t;switch(r.type){case"DirectionalLight":t={direction:new V,color:new ht};break;case"SpotLight":t={position:new V,direction:new V,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new ht,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":t={color:new ht,position:new V,halfWidth:new V,halfHeight:new V}}return e[r.id]=t,t}}}var Of=0;function kl(e,r){return(r.castShadow?1:0)-(e.castShadow?1:0)}function jo(e,r){for(var t,n=new Qc,o=(t={},{get:function(x){if(t[x.id]!==void 0)return t[x.id];var w;switch(x.type){case"DirectionalLight":case"SpotLight":w={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":w={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3}}return t[x.id]=w,w}}),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},u=0;u<9;u++)l.probe.push(new V);var h=new V,p=new on,v=new on;return{setup:function(x,w,T){for(var S=0,C=0,P=0,A=0;A<9;A++)l.probe[A].set(0,0,0);var O=0,H=0,k=0,B=0,G=0,Z=0,q=0,ie=0,ee=T.matrixWorldInverse;x.sort(kl);for(var se=0,ce=x.length;se<ce;se++){var J=x[se],Se=J.color,Me=J.intensity,ve=J.distance,Ne=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)S+=Se.r*Me,C+=Se.g*Me,P+=Se.b*Me;else if(J.isLightProbe)for(var $e=0;$e<9;$e++)l.probe[$e].addScaledVector(J.sh.coefficients[$e],Me);else if(J.isDirectionalLight){var we=n.get(J);if(we.color.copy(J.color).multiplyScalar(J.intensity),we.direction.setFromMatrixPosition(J.matrixWorld),h.setFromMatrixPosition(J.target.matrixWorld),we.direction.sub(h),we.direction.transformDirection(ee),J.castShadow){var Le=J.shadow,Ee=o.get(J);Ee.shadowBias=Le.bias,Ee.shadowNormalBias=Le.normalBias,Ee.shadowRadius=Le.radius,Ee.shadowMapSize=Le.mapSize,l.directionalShadow[O]=Ee,l.directionalShadowMap[O]=Ne,l.directionalShadowMatrix[O]=J.shadow.matrix,Z++}l.directional[O]=we,O++}else if(J.isSpotLight){var We=n.get(J);if(We.position.setFromMatrixPosition(J.matrixWorld),We.position.applyMatrix4(ee),We.color.copy(Se).multiplyScalar(Me),We.distance=ve,We.direction.setFromMatrixPosition(J.matrixWorld),h.setFromMatrixPosition(J.target.matrixWorld),We.direction.sub(h),We.direction.transformDirection(ee),We.coneCos=Math.cos(J.angle),We.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),We.decay=J.decay,J.castShadow){var bt=J.shadow,Ht=o.get(J);Ht.shadowBias=bt.bias,Ht.shadowNormalBias=bt.normalBias,Ht.shadowRadius=bt.radius,Ht.shadowMapSize=bt.mapSize,l.spotShadow[k]=Ht,l.spotShadowMap[k]=Ne,l.spotShadowMatrix[k]=J.shadow.matrix,ie++}l.spot[k]=We,k++}else if(J.isRectAreaLight){var te=n.get(J);te.color.copy(Se).multiplyScalar(Me),te.position.setFromMatrixPosition(J.matrixWorld),te.position.applyMatrix4(ee),v.identity(),p.copy(J.matrixWorld),p.premultiply(ee),v.extractRotation(p),te.halfWidth.set(.5*J.width,0,0),te.halfHeight.set(0,.5*J.height,0),te.halfWidth.applyMatrix4(v),te.halfHeight.applyMatrix4(v),l.rectArea[B]=te,B++}else if(J.isPointLight){var K=n.get(J);if(K.position.setFromMatrixPosition(J.matrixWorld),K.position.applyMatrix4(ee),K.color.copy(J.color).multiplyScalar(J.intensity),K.distance=J.distance,K.decay=J.decay,J.castShadow){var Pe=J.shadow,_e=o.get(J);_e.shadowBias=Pe.bias,_e.shadowNormalBias=Pe.normalBias,_e.shadowRadius=Pe.radius,_e.shadowMapSize=Pe.mapSize,_e.shadowCameraNear=Pe.camera.near,_e.shadowCameraFar=Pe.camera.far,l.pointShadow[H]=_e,l.pointShadowMap[H]=Ne,l.pointShadowMatrix[H]=J.shadow.matrix,q++}l.point[H]=K,H++}else if(J.isHemisphereLight){var ke=n.get(J);ke.direction.setFromMatrixPosition(J.matrixWorld),ke.direction.transformDirection(ee),ke.direction.normalize(),ke.skyColor.copy(J.color).multiplyScalar(Me),ke.groundColor.copy(J.groundColor).multiplyScalar(Me),l.hemi[G]=ke,G++}}B>0&&(r.isWebGL2||e.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=nt.LTC_FLOAT_1,l.rectAreaLTC2=nt.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=nt.LTC_HALF_1,l.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=S,l.ambient[1]=C,l.ambient[2]=P;var re=l.hash;re.directionalLength===O&&re.pointLength===H&&re.spotLength===k&&re.rectAreaLength===B&&re.hemiLength===G&&re.numDirectionalShadows===Z&&re.numPointShadows===q&&re.numSpotShadows===ie||(l.directional.length=O,l.spot.length=k,l.rectArea.length=B,l.point.length=H,l.hemi.length=G,l.directionalShadow.length=Z,l.directionalShadowMap.length=Z,l.pointShadow.length=q,l.pointShadowMap.length=q,l.spotShadow.length=ie,l.spotShadowMap.length=ie,l.directionalShadowMatrix.length=Z,l.pointShadowMatrix.length=q,l.spotShadowMatrix.length=ie,re.directionalLength=O,re.pointLength=H,re.spotLength=k,re.rectAreaLength=B,re.hemiLength=G,re.numDirectionalShadows=Z,re.numPointShadows=q,re.numSpotShadows=ie,l.version=Of++)},state:l}}function Vn(e,r){var t=new jo(e,r),n=[],o=[];return{init:function(){n.length=0,o.length=0},state:{lightsArray:n,shadowsArray:o,lights:t},setupLights:function(l){t.setup(n,o,l)},pushLight:function(l){n.push(l)},pushShadow:function(l){o.push(l)}}}function Wn(e,r){var t=new WeakMap;return{get:function(n,o){var l;return t.has(n)===!1?(l=new Vn(e,r),t.set(n,new WeakMap),t.get(n).set(o,l)):t.get(n).has(o)===!1?(l=new Vn(e,r),t.get(n).set(o,l)):l=t.get(n).get(o),l},dispose:function(){t=new WeakMap}}}function ui(e){Ut.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function rr(e){Ut.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new V,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}ui.prototype=Object.create(Ut.prototype),ui.prototype.constructor=ui,ui.prototype.isMeshDepthMaterial=!0,ui.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},rr.prototype=Object.create(Ut.prototype),rr.prototype.constructor=rr,rr.prototype.isMeshDistanceMaterial=!0,rr.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function ci(e,r,t){var n=new El,o=new Ae,l=new Ae,u=new en,h=[],p=[],v={},x={0:1,1:0,2:2},w=new li({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),T=w.clone();T.defines.HORIZONAL_PASS=1;var S=new kt;S.setAttribute("position",new Nt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var C=new Jn(S,w),P=this;function A(G,Z){var q=r.update(C);w.uniforms.shadow_pass.value=G.map.texture,w.uniforms.resolution.value=G.mapSize,w.uniforms.radius.value=G.radius,e.setRenderTarget(G.mapPass),e.clear(),e.renderBufferDirect(Z,null,q,w,C,null),T.uniforms.shadow_pass.value=G.mapPass.texture,T.uniforms.resolution.value=G.mapSize,T.uniforms.radius.value=G.radius,e.setRenderTarget(G.map),e.clear(),e.renderBufferDirect(Z,null,q,T,C,null)}function O(G,Z,q){var ie=G<<0|Z<<1|q<<2,ee=h[ie];return ee===void 0&&(ee=new ui({depthPacking:3201,morphTargets:G,skinning:Z}),h[ie]=ee),ee}function H(G,Z,q){var ie=G<<0|Z<<1|q<<2,ee=p[ie];return ee===void 0&&(ee=new rr({morphTargets:G,skinning:Z}),p[ie]=ee),ee}function k(G,Z,q,ie,ee,se,ce){var J=null,Se=O,Me=G.customDepthMaterial;if(ie.isPointLight===!0&&(Se=H,Me=G.customDistanceMaterial),Me===void 0){var ve=!1;q.morphTargets===!0&&(ve=Z.morphAttributes&&Z.morphAttributes.position&&Z.morphAttributes.position.length>0);var Ne=!1;G.isSkinnedMesh===!0&&(q.skinning===!0?Ne=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",G)),J=Se(ve,Ne,G.isInstancedMesh===!0)}else J=Me;if(e.localClippingEnabled&&q.clipShadows===!0&&q.clippingPlanes.length!==0){var $e=J.uuid,we=q.uuid,Le=v[$e];Le===void 0&&(Le={},v[$e]=Le);var Ee=Le[we];Ee===void 0&&(Ee=J.clone(),Le[we]=Ee),J=Ee}return J.visible=q.visible,J.wireframe=q.wireframe,J.side=ce===3?q.shadowSide!==null?q.shadowSide:q.side:q.shadowSide!==null?q.shadowSide:x[q.side],J.clipShadows=q.clipShadows,J.clippingPlanes=q.clippingPlanes,J.clipIntersection=q.clipIntersection,J.wireframeLinewidth=q.wireframeLinewidth,J.linewidth=q.linewidth,ie.isPointLight===!0&&J.isMeshDistanceMaterial===!0&&(J.referencePosition.setFromMatrixPosition(ie.matrixWorld),J.nearDistance=ee,J.farDistance=se),J}function B(G,Z,q,ie,ee){if(G.visible!==!1){if(G.layers.test(Z.layers)&&(G.isMesh||G.isLine||G.isPoints)&&(G.castShadow||G.receiveShadow&&ee===3)&&(!G.frustumCulled||n.intersectsObject(G))){G.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,G.matrixWorld);var se=r.update(G),ce=G.material;if(Array.isArray(ce))for(var J=se.groups,Se=0,Me=J.length;Se<Me;Se++){var ve=J[Se],Ne=ce[ve.materialIndex];if(Ne&&Ne.visible){var $e=k(G,se,Ne,ie,q.near,q.far,ee);e.renderBufferDirect(q,null,se,$e,G,ve)}}else if(ce.visible){var we=k(G,se,ce,ie,q.near,q.far,ee);e.renderBufferDirect(q,null,se,we,G,null)}}for(var Le=G.children,Ee=0,We=Le.length;Ee<We;Ee++)B(Le[Ee],Z,q,ie,ee)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(G,Z,q){if(P.enabled!==!1&&(P.autoUpdate!==!1||P.needsUpdate!==!1)&&G.length!==0){var ie=e.getRenderTarget(),ee=e.getActiveCubeFace(),se=e.getActiveMipmapLevel(),ce=e.state;ce.setBlending(0),ce.buffers.color.setClear(1,1,1,1),ce.buffers.depth.setTest(!0),ce.setScissorTest(!1);for(var J=0,Se=G.length;J<Se;J++){var Me=G[J],ve=Me.shadow;if(ve!==void 0){if(ve.autoUpdate!==!1||ve.needsUpdate!==!1){o.copy(ve.mapSize);var Ne=ve.getFrameExtents();if(o.multiply(Ne),l.copy(ve.mapSize),(o.x>t||o.y>t)&&(o.x>t&&(l.x=Math.floor(t/Ne.x),o.x=l.x*Ne.x,ve.mapSize.x=l.x),o.y>t&&(l.y=Math.floor(t/Ne.y),o.y=l.y*Ne.y,ve.mapSize.y=l.y)),ve.map===null&&!ve.isPointLightShadow&&this.type===3){var $e={minFilter:$,magFilter:$,format:Xe};ve.map=new mr(o.x,o.y,$e),ve.map.texture.name=Me.name+".shadowMap",ve.mapPass=new mr(o.x,o.y,$e),ve.camera.updateProjectionMatrix()}if(ve.map===null){var we={minFilter:D,magFilter:D,format:Xe};ve.map=new mr(o.x,o.y,we),ve.map.texture.name=Me.name+".shadowMap",ve.camera.updateProjectionMatrix()}e.setRenderTarget(ve.map),e.clear();for(var Le=ve.getViewportCount(),Ee=0;Ee<Le;Ee++){var We=ve.getViewport(Ee);u.set(l.x*We.x,l.y*We.y,l.x*We.z,l.y*We.w),ce.viewport(u),ve.updateMatrices(Me,Ee),n=ve.getFrustum(),B(Z,q,ve.camera,Me,this.type)}ve.isPointLightShadow||this.type!==3||A(ve,q),ve.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",Me,"has no shadow.")}P.needsUpdate=!1,e.setRenderTarget(ie,ee,se)}}}function Bs(e,r,t){var n,o,l=t.isWebGL2,u=new function(){var re=!1,qe=new en,et=null,ut=new en(0,0,0,0);return{setMask:function(Ke){et===Ke||re||(e.colorMask(Ke,Ke,Ke,Ke),et=Ke)},setLocked:function(Ke){re=Ke},setClear:function(Ke,St,$t,An,Fn){Fn===!0&&(Ke*=An,St*=An,$t*=An),qe.set(Ke,St,$t,An),ut.equals(qe)===!1&&(e.clearColor(Ke,St,$t,An),ut.copy(qe))},reset:function(){re=!1,et=null,ut.set(-1,0,0,0)}}},h=new function(){var re=!1,qe=null,et=null,ut=null;return{setTest:function(Ke){Ke?Le(2929):Ee(2929)},setMask:function(Ke){qe===Ke||re||(e.depthMask(Ke),qe=Ke)},setFunc:function(Ke){if(et!==Ke){if(Ke)switch(Ke){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);et=Ke}},setLocked:function(Ke){re=Ke},setClear:function(Ke){ut!==Ke&&(e.clearDepth(Ke),ut=Ke)},reset:function(){re=!1,qe=null,et=null,ut=null}}},p=new function(){var re=!1,qe=null,et=null,ut=null,Ke=null,St=null,$t=null,An=null,Fn=null;return{setTest:function(tn){re||(tn?Le(2960):Ee(2960))},setMask:function(tn){qe===tn||re||(e.stencilMask(tn),qe=tn)},setFunc:function(tn,Ln,zn){et===tn&&ut===Ln&&Ke===zn||(e.stencilFunc(tn,Ln,zn),et=tn,ut=Ln,Ke=zn)},setOp:function(tn,Ln,zn){St===tn&&$t===Ln&&An===zn||(e.stencilOp(tn,Ln,zn),St=tn,$t=Ln,An=zn)},setLocked:function(tn){re=tn},setClear:function(tn){Fn!==tn&&(e.clearStencil(tn),Fn=tn)},reset:function(){re=!1,qe=null,et=null,ut=null,Ke=null,St=null,$t=null,An=null,Fn=null}}},v={},x=null,w=null,T=null,S=null,C=null,P=null,A=null,O=null,H=null,k=!1,B=null,G=null,Z=null,q=null,ie=null,ee=e.getParameter(35661),se=!1,ce=0,J=e.getParameter(7938);J.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL\ ([0-9])/.exec(J)[1]),se=ce>=1):J.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(J)[1]),se=ce>=2);var Se=null,Me={},ve=new en,Ne=new en;function $e(re,qe,et){var ut=new Uint8Array(4),Ke=e.createTexture();e.bindTexture(re,Ke),e.texParameteri(re,10241,9728),e.texParameteri(re,10240,9728);for(var St=0;St<et;St++)e.texImage2D(qe+St,0,6408,1,1,0,6408,5121,ut);return Ke}var we={};function Le(re){v[re]!==!0&&(e.enable(re),v[re]=!0)}function Ee(re){v[re]!==!1&&(e.disable(re),v[re]=!1)}we[3553]=$e(3553,3553,1),we[34067]=$e(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),p.setClear(0),Le(2929),h.setFunc(3),K(!1),Pe(1),Le(2884),te(0);var We=((n={})[100]=32774,n[101]=32778,n[102]=32779,n);if(l)We[103]=32775,We[104]=32776;else{var bt=r.get("EXT_blend_minmax");bt!==null&&(We[103]=bt.MIN_EXT,We[104]=bt.MAX_EXT)}var Ht=((o={})[200]=0,o[201]=1,o[202]=768,o[204]=770,o[210]=776,o[208]=774,o[206]=772,o[203]=769,o[205]=771,o[209]=775,o[207]=773,o);function te(re,qe,et,ut,Ke,St,$t,An){if(re!==0){if(w||(Le(3042),w=!0),re===5)Ke=Ke||qe,St=St||et,$t=$t||ut,qe===S&&Ke===A||(e.blendEquationSeparate(We[qe],We[Ke]),S=qe,A=Ke),et===C&&ut===P&&St===O&&$t===H||(e.blendFuncSeparate(Ht[et],Ht[ut],Ht[St],Ht[$t]),C=et,P=ut,O=St,H=$t),T=re,k=null;else if(re!==T||An!==k){if(S===c&&A===c||(e.blendEquation(32774),S=c,A=c),An)switch(re){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",re)}else switch(re){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",re)}C=null,P=null,O=null,H=null,T=re,k=An}}else w&&(Ee(3042),w=!1)}function K(re){B!==re&&(re?e.frontFace(2304):e.frontFace(2305),B=re)}function Pe(re){re!==0?(Le(2884),re!==G&&(re===1?e.cullFace(1029):re===2?e.cullFace(1028):e.cullFace(1032))):Ee(2884),G=re}function _e(re,qe,et){re?(Le(32823),q===qe&&ie===et||(e.polygonOffset(qe,et),q=qe,ie=et)):Ee(32823)}function ke(re){re===void 0&&(re=33984+ee-1),Se!==re&&(e.activeTexture(re),Se=re)}return{buffers:{color:u,depth:h,stencil:p},enable:Le,disable:Ee,useProgram:function(re){return x!==re&&(e.useProgram(re),x=re,!0)},setBlending:te,setMaterial:function(re,qe){re.side===2?Ee(2884):Le(2884);var et=re.side===1;qe&&(et=!et),K(et),re.blending===1&&re.transparent===!1?te(0):te(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),h.setFunc(re.depthFunc),h.setTest(re.depthTest),h.setMask(re.depthWrite),u.setMask(re.colorWrite);var ut=re.stencilWrite;p.setTest(ut),ut&&(p.setMask(re.stencilWriteMask),p.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),p.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),_e(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits)},setFlipSided:K,setCullFace:Pe,setLineWidth:function(re){re!==Z&&(se&&e.lineWidth(re),Z=re)},setPolygonOffset:_e,setScissorTest:function(re){re?Le(3089):Ee(3089)},activeTexture:ke,bindTexture:function(re,qe){Se===null&&ke();var et=Me[Se];et===void 0&&(et={type:void 0,texture:void 0},Me[Se]=et),et.type===re&&et.texture===qe||(e.bindTexture(re,qe||we[re]),et.type=re,et.texture=qe)},unbindTexture:function(){var re=Me[Se];re!==void 0&&re.type!==void 0&&(e.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}},scissor:function(re){ve.equals(re)===!1&&(e.scissor(re.x,re.y,re.z,re.w),ve.copy(re))},viewport:function(re){Ne.equals(re)===!1&&(e.viewport(re.x,re.y,re.z,re.w),Ne.copy(re))},reset:function(){v={},Se=null,Me={},x=null,T=null,B=null,G=null,u.reset(),h.reset(),p.reset()}}}function zl(e,r,t,n,o,l,u){var h,p,v,x=o.isWebGL2,w=o.maxTextures,T=o.maxCubemapSize,S=o.maxTextureSize,C=o.maxSamples,P=new WeakMap,A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function O(te,K){return A?new OffscreenCanvas(te,K):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function H(te,K,Pe,_e){var ke=1;if((te.width>_e||te.height>_e)&&(ke=_e/Math.max(te.width,te.height)),ke<1||K===!0){if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){var re=K?Ct.floorPowerOfTwo:Math.floor,qe=re(ke*te.width),et=re(ke*te.height);v===void 0&&(v=O(qe,et));var ut=Pe?O(qe,et):v;return ut.width=qe,ut.height=et,ut.getContext("2d").drawImage(te,0,0,qe,et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+qe+"x"+et+")."),ut}return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te}return te}function k(te){return Ct.isPowerOfTwo(te.width)&&Ct.isPowerOfTwo(te.height)}function B(te,K){return te.generateMipmaps&&K&&te.minFilter!==D&&te.minFilter!==$}function G(te,K,Pe,_e){e.generateMipmap(te),n.get(K).__maxMipLevel=Math.log(Math.max(Pe,_e))*Math.LOG2E}function Z(te,K,Pe){if(x===!1)return K;if(te!==null){if(e[te]!==void 0)return e[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}var _e=K;return K===6403&&(Pe===5126&&(_e=33326),Pe===5131&&(_e=33325),Pe===5121&&(_e=33321)),K===6407&&(Pe===5126&&(_e=34837),Pe===5131&&(_e=34843),Pe===5121&&(_e=32849)),K===6408&&(Pe===5126&&(_e=34836),Pe===5131&&(_e=34842),Pe===5121&&(_e=32856)),_e!==33325&&_e!==33326&&_e!==34842&&_e!==34836||r.get("EXT_color_buffer_float"),_e}function q(te){return te===D||te===W||te===X?9728:9729}function ie(te){var K=te.target;K.removeEventListener("dispose",ie),function(Pe){var _e=n.get(Pe);_e.__webglInit!==void 0&&(e.deleteTexture(_e.__webglTexture),n.remove(Pe))}(K),K.isVideoTexture&&P.delete(K),u.memory.textures--}function ee(te){var K=te.target;K.removeEventListener("dispose",ee),function(Pe){var _e=n.get(Pe),ke=n.get(Pe.texture);if(Pe){if(ke.__webglTexture!==void 0&&e.deleteTexture(ke.__webglTexture),Pe.depthTexture&&Pe.depthTexture.dispose(),Pe.isWebGLCubeRenderTarget)for(var re=0;re<6;re++)e.deleteFramebuffer(_e.__webglFramebuffer[re]),_e.__webglDepthbuffer&&e.deleteRenderbuffer(_e.__webglDepthbuffer[re]);else e.deleteFramebuffer(_e.__webglFramebuffer),_e.__webglDepthbuffer&&e.deleteRenderbuffer(_e.__webglDepthbuffer),_e.__webglMultisampledFramebuffer&&e.deleteFramebuffer(_e.__webglMultisampledFramebuffer),_e.__webglColorRenderbuffer&&e.deleteRenderbuffer(_e.__webglColorRenderbuffer),_e.__webglDepthRenderbuffer&&e.deleteRenderbuffer(_e.__webglDepthRenderbuffer);n.remove(Pe.texture),n.remove(Pe)}}(K),u.memory.textures--}var se=0;function ce(te,K){var Pe=n.get(te);if(te.isVideoTexture&&function(ke){var re=u.render.frame;P.get(ke)!==re&&(P.set(ke,re),ke.update())}(te),te.version>0&&Pe.__version!==te.version){var _e=te.image;if(_e===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(_e.complete!==!1)return void $e(Pe,te,K);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+K),t.bindTexture(3553,Pe.__webglTexture)}function J(te,K){var Pe=n.get(te);te.version>0&&Pe.__version!==te.version?function(_e,ke,re){if(ke.image.length===6){Ne(_e,ke),t.activeTexture(33984+re),t.bindTexture(34067,_e.__webglTexture),e.pixelStorei(37440,ke.flipY);for(var qe=ke&&(ke.isCompressedTexture||ke.image[0].isCompressedTexture),et=ke.image[0]&&ke.image[0].isDataTexture,ut=[],Ke=0;Ke<6;Ke++)ut[Ke]=qe||et?et?ke.image[Ke].image:ke.image[Ke]:H(ke.image[Ke],!1,!0,T);var St,$t=ut[0],An=k($t)||x,Fn=l.convert(ke.format),tn=l.convert(ke.type),Ln=Z(ke.internalFormat,Fn,tn);if(ve(34067,ke,An),qe){for(var zn=0;zn<6;zn++){St=ut[zn].mipmaps;for(var Wi=0;Wi<St.length;Wi++){var Zr=St[Wi];ke.format!==Xe&&ke.format!==ze?Fn!==null?t.compressedTexImage2D(34069+zn,Wi,Ln,Zr.width,Zr.height,0,Zr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+zn,Wi,Ln,Zr.width,Zr.height,0,Fn,tn,Zr.data)}}_e.__maxMipLevel=St.length-1}else{St=ke.mipmaps;for(var Jr=0;Jr<6;Jr++)if(et){t.texImage2D(34069+Jr,0,Ln,ut[Jr].width,ut[Jr].height,0,Fn,tn,ut[Jr].data);for(var bi=0;bi<St.length;bi++){var jr=St[bi].image[Jr].image;t.texImage2D(34069+Jr,bi+1,Ln,jr.width,jr.height,0,Fn,tn,jr.data)}}else{t.texImage2D(34069+Jr,0,Ln,Fn,tn,ut[Jr]);for(var rt=0;rt<St.length;rt++){var al=St[rt];t.texImage2D(34069+Jr,rt+1,Ln,Fn,tn,al.image[Jr])}}_e.__maxMipLevel=St.length}B(ke,An)&&G(34067,ke,$t.width,$t.height),_e.__version=ke.version,ke.onUpdate&&ke.onUpdate(ke)}}(Pe,te,K):(t.activeTexture(33984+K),t.bindTexture(34067,Pe.__webglTexture))}var Se=((h={})[1e3]=10497,h[1001]=33071,h[1002]=33648,h),Me=((p={})[1003]=9728,p[1004]=9984,p[1005]=9986,p[1006]=9729,p[1007]=9985,p[1008]=9987,p);function ve(te,K,Pe){Pe?(e.texParameteri(te,10242,Se[K.wrapS]),e.texParameteri(te,10243,Se[K.wrapT]),te!==32879&&te!==35866||e.texParameteri(te,32882,Se[K.wrapR]),e.texParameteri(te,10240,Me[K.magFilter]),e.texParameteri(te,10241,Me[K.minFilter])):(e.texParameteri(te,10242,33071),e.texParameteri(te,10243,33071),te!==32879&&te!==35866||e.texParameteri(te,32882,33071),K.wrapS===I&&K.wrapT===I||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(te,10240,q(K.magFilter)),e.texParameteri(te,10241,q(K.minFilter)),K.minFilter!==D&&K.minFilter!==$&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var _e=r.get("EXT_texture_filter_anisotropic");if(_e){if(K.type===xe&&r.get("OES_texture_float_linear")===null||K.type===Oe&&(x||r.get("OES_texture_half_float_linear"))===null)return;(K.anisotropy>1||n.get(K).__currentAnisotropy)&&(e.texParameterf(te,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,o.getMaxAnisotropy())),n.get(K).__currentAnisotropy=K.anisotropy)}}function Ne(te,K){te.__webglInit===void 0&&(te.__webglInit=!0,K.addEventListener("dispose",ie),te.__webglTexture=e.createTexture(),u.memory.textures++)}function $e(te,K,Pe){var _e=3553;K.isDataTexture2DArray&&(_e=35866),K.isDataTexture3D&&(_e=32879),Ne(te,K),t.activeTexture(33984+Pe),t.bindTexture(_e,te.__webglTexture),e.pixelStorei(37440,K.flipY),e.pixelStorei(37441,K.premultiplyAlpha),e.pixelStorei(3317,K.unpackAlignment);var ke,re=function(Zr){return!x&&(Zr.wrapS!==I||Zr.wrapT!==I||Zr.minFilter!==D&&Zr.minFilter!==$)}(K)&&k(K.image)===!1,qe=H(K.image,re,!1,S),et=k(qe)||x,ut=l.convert(K.format),Ke=l.convert(K.type),St=Z(K.internalFormat,ut,Ke);ve(_e,K,et);var $t=K.mipmaps;if(K.isDepthTexture)St=6402,x?St=K.type===xe?36012:K.type===fe?33190:K.type===Ge?35056:33189:K.type===xe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===it&&St===6402&&K.type!==he&&K.type!==fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=he,Ke=l.convert(K.type)),K.format===st&&St===6402&&(St=34041,K.type!==Ge&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=Ge,Ke=l.convert(K.type))),t.texImage2D(3553,0,St,qe.width,qe.height,0,ut,Ke,null);else if(K.isDataTexture)if($t.length>0&&et){for(var An=0,Fn=$t.length;An<Fn;An++)ke=$t[An],t.texImage2D(3553,An,St,ke.width,ke.height,0,ut,Ke,ke.data);K.generateMipmaps=!1,te.__maxMipLevel=$t.length-1}else t.texImage2D(3553,0,St,qe.width,qe.height,0,ut,Ke,qe.data),te.__maxMipLevel=0;else if(K.isCompressedTexture){for(var tn=0,Ln=$t.length;tn<Ln;tn++)ke=$t[tn],K.format!==Xe&&K.format!==ze?ut!==null?t.compressedTexImage2D(3553,tn,St,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,tn,St,ke.width,ke.height,0,ut,Ke,ke.data);te.__maxMipLevel=$t.length-1}else if(K.isDataTexture2DArray)t.texImage3D(35866,0,St,qe.width,qe.height,qe.depth,0,ut,Ke,qe.data),te.__maxMipLevel=0;else if(K.isDataTexture3D)t.texImage3D(32879,0,St,qe.width,qe.height,qe.depth,0,ut,Ke,qe.data),te.__maxMipLevel=0;else if($t.length>0&&et){for(var zn=0,Wi=$t.length;zn<Wi;zn++)ke=$t[zn],t.texImage2D(3553,zn,St,ut,Ke,ke);K.generateMipmaps=!1,te.__maxMipLevel=$t.length-1}else t.texImage2D(3553,0,St,ut,Ke,qe),te.__maxMipLevel=0;B(K,et)&&G(_e,K,qe.width,qe.height),te.__version=K.version,K.onUpdate&&K.onUpdate(K)}function we(te,K,Pe,_e){var ke=l.convert(K.texture.format),re=l.convert(K.texture.type),qe=Z(K.texture.internalFormat,ke,re);t.texImage2D(_e,0,qe,K.width,K.height,0,ke,re,null),e.bindFramebuffer(36160,te),e.framebufferTexture2D(36160,Pe,_e,n.get(K.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function Le(te,K,Pe){if(e.bindRenderbuffer(36161,te),K.depthBuffer&&!K.stencilBuffer){var _e=33189;if(Pe){var ke=K.depthTexture;ke&&ke.isDepthTexture&&(ke.type===xe?_e=36012:ke.type===fe&&(_e=33190));var re=We(K);e.renderbufferStorageMultisample(36161,re,_e,K.width,K.height)}else e.renderbufferStorage(36161,_e,K.width,K.height);e.framebufferRenderbuffer(36160,36096,36161,te)}else if(K.depthBuffer&&K.stencilBuffer){if(Pe){var qe=We(K);e.renderbufferStorageMultisample(36161,qe,35056,K.width,K.height)}else e.renderbufferStorage(36161,34041,K.width,K.height);e.framebufferRenderbuffer(36160,33306,36161,te)}else{var et=l.convert(K.texture.format),ut=l.convert(K.texture.type),Ke=Z(K.texture.internalFormat,et,ut);if(Pe){var St=We(K);e.renderbufferStorageMultisample(36161,St,Ke,K.width,K.height)}else e.renderbufferStorage(36161,Ke,K.width,K.height)}e.bindRenderbuffer(36161,null)}function Ee(te){var K=n.get(te),Pe=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture){if(Pe)throw new Error("target.depthTexture not supported in Cube render targets");(function(ke,re){if(re&&re.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,ke),!re.depthTexture||!re.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(re.depthTexture).__webglTexture&&re.depthTexture.image.width===re.width&&re.depthTexture.image.height===re.height||(re.depthTexture.image.width=re.width,re.depthTexture.image.height=re.height,re.depthTexture.needsUpdate=!0),ce(re.depthTexture,0);var qe=n.get(re.depthTexture).__webglTexture;if(re.depthTexture.format===it)e.framebufferTexture2D(36160,36096,3553,qe,0);else{if(re.depthTexture.format!==st)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,qe,0)}})(K.__webglFramebuffer,te)}else if(Pe){K.__webglDepthbuffer=[];for(var _e=0;_e<6;_e++)e.bindFramebuffer(36160,K.__webglFramebuffer[_e]),K.__webglDepthbuffer[_e]=e.createRenderbuffer(),Le(K.__webglDepthbuffer[_e],te,!1)}else e.bindFramebuffer(36160,K.__webglFramebuffer),K.__webglDepthbuffer=e.createRenderbuffer(),Le(K.__webglDepthbuffer,te,!1);e.bindFramebuffer(36160,null)}function We(te){return x&&te.isWebGLMultisampleRenderTarget?Math.min(C,te.samples):0}var bt=!1,Ht=!1;this.allocateTextureUnit=function(){var te=se;return te>=w&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+w),se+=1,te},this.resetTextureUnits=function(){se=0},this.setTexture2D=ce,this.setTexture2DArray=function(te,K){var Pe=n.get(te);te.version>0&&Pe.__version!==te.version?$e(Pe,te,K):(t.activeTexture(33984+K),t.bindTexture(35866,Pe.__webglTexture))},this.setTexture3D=function(te,K){var Pe=n.get(te);te.version>0&&Pe.__version!==te.version?$e(Pe,te,K):(t.activeTexture(33984+K),t.bindTexture(32879,Pe.__webglTexture))},this.setTextureCube=J,this.setupRenderTarget=function(te){var K=n.get(te),Pe=n.get(te.texture);te.addEventListener("dispose",ee),Pe.__webglTexture=e.createTexture(),u.memory.textures++;var _e=te.isWebGLCubeRenderTarget===!0,ke=te.isWebGLMultisampleRenderTarget===!0,re=k(te)||x;if(!x||te.texture.format!==ze||te.texture.type!==xe&&te.texture.type!==Oe||(te.texture.format=Xe,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),_e){K.__webglFramebuffer=[];for(var qe=0;qe<6;qe++)K.__webglFramebuffer[qe]=e.createFramebuffer()}else if(K.__webglFramebuffer=e.createFramebuffer(),ke)if(x){K.__webglMultisampledFramebuffer=e.createFramebuffer(),K.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,K.__webglColorRenderbuffer);var et=l.convert(te.texture.format),ut=l.convert(te.texture.type),Ke=Z(te.texture.internalFormat,et,ut),St=We(te);e.renderbufferStorageMultisample(36161,St,Ke,te.width,te.height),e.bindFramebuffer(36160,K.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,K.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),te.depthBuffer&&(K.__webglDepthRenderbuffer=e.createRenderbuffer(),Le(K.__webglDepthRenderbuffer,te,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(_e){t.bindTexture(34067,Pe.__webglTexture),ve(34067,te.texture,re);for(var $t=0;$t<6;$t++)we(K.__webglFramebuffer[$t],te,36064,34069+$t);B(te.texture,re)&&G(34067,te.texture,te.width,te.height),t.bindTexture(34067,null)}else t.bindTexture(3553,Pe.__webglTexture),ve(3553,te.texture,re),we(K.__webglFramebuffer,te,36064,3553),B(te.texture,re)&&G(3553,te.texture,te.width,te.height),t.bindTexture(3553,null);te.depthBuffer&&Ee(te)},this.updateRenderTargetMipmap=function(te){var K=te.texture;if(B(K,k(te)||x)){var Pe=te.isWebGLCubeRenderTarget?34067:3553,_e=n.get(K).__webglTexture;t.bindTexture(Pe,_e),G(Pe,K,te.width,te.height),t.bindTexture(Pe,null)}},this.updateMultisampleRenderTarget=function(te){if(te.isWebGLMultisampleRenderTarget)if(x){var K=n.get(te);e.bindFramebuffer(36008,K.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,K.__webglFramebuffer);var Pe=te.width,_e=te.height,ke=16384;te.depthBuffer&&(ke|=256),te.stencilBuffer&&(ke|=1024),e.blitFramebuffer(0,0,Pe,_e,0,0,Pe,_e,ke,9728),e.bindFramebuffer(36160,K.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(te,K){te&&te.isWebGLRenderTarget&&(bt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),bt=!0),te=te.texture),ce(te,K)},this.safeSetTextureCube=function(te,K){te&&te.isWebGLCubeRenderTarget&&(Ht===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ht=!0),te=te.texture),J(te,K)}}function di(e,r,t){var n=t.isWebGL2;return{convert:function(o){var l;if(o===de)return 5121;if(o===1017)return 32819;if(o===1018)return 32820;if(o===1019)return 33635;if(o===1010)return 5120;if(o===1011)return 5122;if(o===he)return 5123;if(o===1013)return 5124;if(o===fe)return 5125;if(o===xe)return 5126;if(o===Oe)return n?5131:(l=r.get("OES_texture_half_float"))!==null?l.HALF_FLOAT_OES:null;if(o===1021)return 6406;if(o===ze)return 6407;if(o===Xe)return 6408;if(o===1024)return 6409;if(o===1025)return 6410;if(o===it)return 6402;if(o===st)return 34041;if(o===1028)return 6403;if(o===1029)return 36244;if(o===1030)return 33319;if(o===1031)return 33320;if(o===1032)return 36248;if(o===1033)return 36249;if(o===gt||o===_t||o===It||o===nn){if((l=r.get("WEBGL_compressed_texture_s3tc"))===null)return null;if(o===gt)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===_t)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===It)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===nn)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(o===Dt||o===Rt||o===De||o===pe){if((l=r.get("WEBGL_compressed_texture_pvrtc"))===null)return null;if(o===Dt)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Rt)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===De)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===pe)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(o===36196)return(l=r.get("WEBGL_compressed_texture_etc1"))!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===Re||o===le)&&(l=r.get("WEBGL_compressed_texture_etc"))!==null){if(o===Re)return l.COMPRESSED_RGB8_ETC2;if(o===le)return l.COMPRESSED_RGBA8_ETC2_EAC}return o===37808||o===37809||o===37810||o===37811||o===37812||o===37813||o===37814||o===37815||o===37816||o===37817||o===37818||o===37819||o===37820||o===37821||o===37840||o===37841||o===37842||o===37843||o===37844||o===37845||o===37846||o===37847||o===37848||o===37849||o===37850||o===37851||o===37852||o===37853?(l=r.get("WEBGL_compressed_texture_astc"))!==null?o:null:o===36492?(l=r.get("EXT_texture_compression_bptc"))!==null?o:null:o===Ge?n?34042:(l=r.get("WEBGL_depth_texture"))!==null?l.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Fs(e){Er.call(this),this.cameras=e||[]}function so(){Mt.call(this),this.type="Group"}function Bl(){this._targetRay=null,this._grip=null,this._hand=null}function ku(e,r){var t=this,n=null,o=1,l=null,u="local-floor",h=null,p=[],v=new Map,x=new Er;x.layers.enable(1),x.viewport=new en;var w=new Er;w.layers.enable(2),w.viewport=new en;var T=[x,w],S=new Fs;S.layers.enable(1),S.layers.enable(2);var C=null,P=null;function A(ee){var se=v.get(ee.inputSource);se&&se.dispatchEvent({type:ee.type,data:ee.inputSource})}function O(){v.forEach(function(ee,se){ee.disconnect(se)}),v.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),ie.stop(),t.isPresenting=!1,t.dispatchEvent({type:"sessionend"})}function H(ee){l=ee,ie.setContext(n),ie.start(),t.isPresenting=!0,t.dispatchEvent({type:"sessionstart"})}function k(ee){for(var se=n.inputSources,ce=0;ce<p.length;ce++)v.set(se[ce],p[ce]);for(var J=0;J<ee.removed.length;J++){var Se=ee.removed[J],Me=v.get(Se);Me&&(Me.dispatchEvent({type:"disconnected",data:Se}),v.delete(Se))}for(var ve=0;ve<ee.added.length;ve++){var Ne=ee.added[ve],$e=v.get(Ne);$e&&$e.dispatchEvent({type:"connected",data:Ne})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){var se=p[ee];return se===void 0&&(se=new Bl,p[ee]=se),se.getTargetRaySpace()},this.getControllerGrip=function(ee){var se=p[ee];return se===void 0&&(se=new Bl,p[ee]=se),se.getGripSpace()},this.getHand=function(ee){var se=p[ee];return se===void 0&&(se=new Bl,p[ee]=se),se.getHandSpace()},this.setFramebufferScaleFactor=function(ee){o=ee,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){u=ee,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l},this.getSession=function(){return n},this.setSession=function(ee){if((n=ee)!==null){n.addEventListener("select",A),n.addEventListener("selectstart",A),n.addEventListener("selectend",A),n.addEventListener("squeeze",A),n.addEventListener("squeezestart",A),n.addEventListener("squeezeend",A),n.addEventListener("end",O);var se=r.getContextAttributes();se.xrCompatible!==!0&&r.makeXRCompatible();var ce={antialias:se.antialias,alpha:se.alpha,depth:se.depth,stencil:se.stencil,framebufferScaleFactor:o},J=new XRWebGLLayer(n,r,ce);n.updateRenderState({baseLayer:J}),n.requestReferenceSpace(u).then(H),n.addEventListener("inputsourceschange",k)}};var B=new V,G=new V;function Z(ee,se){se===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(se.matrixWorld,ee.matrix),ee.matrixWorldInverse.getInverse(ee.matrixWorld)}this.getCamera=function(ee){S.near=w.near=x.near=ee.near,S.far=w.far=x.far=ee.far,C===S.near&&P===S.far||(n.updateRenderState({depthNear:S.near,depthFar:S.far}),C=S.near,P=S.far);var se=ee.parent,ce=S.cameras;Z(S,se);for(var J=0;J<ce.length;J++)Z(ce[J],se);ee.matrixWorld.copy(S.matrixWorld);for(var Se=ee.children,Me=0,ve=Se.length;Me<ve;Me++)Se[Me].updateMatrixWorld(!0);return ce.length===2?function(Ne,$e,we){B.setFromMatrixPosition($e.matrixWorld),G.setFromMatrixPosition(we.matrixWorld);var Le=B.distanceTo(G),Ee=$e.projectionMatrix.elements,We=we.projectionMatrix.elements,bt=Ee[14]/(Ee[10]-1),Ht=Ee[14]/(Ee[10]+1),te=(Ee[9]+1)/Ee[5],K=(Ee[9]-1)/Ee[5],Pe=(Ee[8]-1)/Ee[0],_e=(We[8]+1)/We[0],ke=bt*Pe,re=bt*_e,qe=Le/(-Pe+_e),et=qe*-Pe;$e.matrixWorld.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.translateX(et),Ne.translateZ(qe),Ne.matrixWorld.compose(Ne.position,Ne.quaternion,Ne.scale),Ne.matrixWorldInverse.getInverse(Ne.matrixWorld);var ut=bt+qe,Ke=Ht+qe,St=ke-et,$t=re+(Le-et),An=te*Ht/Ke*ut,Fn=K*Ht/Ke*ut;Ne.projectionMatrix.makePerspective(St,$t,An,Fn,ut,Ke)}(S,x,w):S.projectionMatrix.copy(x.projectionMatrix),S};var q=null,ie=new gf;ie.setAnimationLoop(function(ee,se){if((h=se.getViewerPose(l))!==null){var ce=h.views,J=n.renderState.baseLayer;e.setFramebuffer(J.framebuffer);var Se=!1;ce.length!==S.cameras.length&&(S.cameras.length=0,Se=!0);for(var Me=0;Me<ce.length;Me++){var ve=ce[Me],Ne=J.getViewport(ve),$e=T[Me];$e.matrix.fromArray(ve.transform.matrix),$e.projectionMatrix.fromArray(ve.projectionMatrix),$e.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),Me===0&&S.matrix.copy($e.matrix),Se===!0&&S.cameras.push($e)}}for(var we=n.inputSources,Le=0;Le<p.length;Le++){var Ee=p[Le],We=we[Le];Ee.update(We,se,l)}q&&q(ee,se)}),this.setAnimationLoop=function(ee){q=ee},this.dispose=function(){}}function fp(e){function r(n,o){n.opacity.value=o.opacity,o.color&&n.diffuse.value.copy(o.color),o.emissive&&n.emissive.value.copy(o.emissive).multiplyScalar(o.emissiveIntensity),o.map&&(n.map.value=o.map),o.alphaMap&&(n.alphaMap.value=o.alphaMap),o.specularMap&&(n.specularMap.value=o.specularMap);var l,u,h=e.get(o).envMap;if(h){n.envMap.value=h,n.flipEnvMap.value=h.isCubeTexture&&h._needsFlipEnvMap?-1:1,n.reflectivity.value=o.reflectivity,n.refractionRatio.value=o.refractionRatio;var p=e.get(h).__maxMipLevel;p!==void 0&&(n.maxMipLevel.value=p)}o.lightMap&&(n.lightMap.value=o.lightMap,n.lightMapIntensity.value=o.lightMapIntensity),o.aoMap&&(n.aoMap.value=o.aoMap,n.aoMapIntensity.value=o.aoMapIntensity),o.map?l=o.map:o.specularMap?l=o.specularMap:o.displacementMap?l=o.displacementMap:o.normalMap?l=o.normalMap:o.bumpMap?l=o.bumpMap:o.roughnessMap?l=o.roughnessMap:o.metalnessMap?l=o.metalnessMap:o.alphaMap?l=o.alphaMap:o.emissiveMap?l=o.emissiveMap:o.clearcoatMap?l=o.clearcoatMap:o.clearcoatNormalMap?l=o.clearcoatNormalMap:o.clearcoatRoughnessMap&&(l=o.clearcoatRoughnessMap),l!==void 0&&(l.isWebGLRenderTarget&&(l=l.texture),l.matrixAutoUpdate===!0&&l.updateMatrix(),n.uvTransform.value.copy(l.matrix)),o.aoMap?u=o.aoMap:o.lightMap&&(u=o.lightMap),u!==void 0&&(u.isWebGLRenderTarget&&(u=u.texture),u.matrixAutoUpdate===!0&&u.updateMatrix(),n.uv2Transform.value.copy(u.matrix))}function t(n,o){n.roughness.value=o.roughness,n.metalness.value=o.metalness,o.roughnessMap&&(n.roughnessMap.value=o.roughnessMap),o.metalnessMap&&(n.metalnessMap.value=o.metalnessMap),o.emissiveMap&&(n.emissiveMap.value=o.emissiveMap),o.bumpMap&&(n.bumpMap.value=o.bumpMap,n.bumpScale.value=o.bumpScale,o.side===1&&(n.bumpScale.value*=-1)),o.normalMap&&(n.normalMap.value=o.normalMap,n.normalScale.value.copy(o.normalScale),o.side===1&&n.normalScale.value.negate()),o.displacementMap&&(n.displacementMap.value=o.displacementMap,n.displacementScale.value=o.displacementScale,n.displacementBias.value=o.displacementBias),e.get(o).envMap&&(n.envMapIntensity.value=o.envMapIntensity)}return{refreshFogUniforms:function(n,o){n.fogColor.value.copy(o.color),o.isFog?(n.fogNear.value=o.near,n.fogFar.value=o.far):o.isFogExp2&&(n.fogDensity.value=o.density)},refreshMaterialUniforms:function(n,o,l,u){o.isMeshBasicMaterial?r(n,o):o.isMeshLambertMaterial?(r(n,o),function(h,p){p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap)}(n,o)):o.isMeshToonMaterial?(r(n,o),function(h,p){p.gradientMap&&(h.gradientMap.value=p.gradientMap),p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===1&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===1&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}(n,o)):o.isMeshPhongMaterial?(r(n,o),function(h,p){h.specular.value.copy(p.specular),h.shininess.value=Math.max(p.shininess,1e-4),p.emissiveMap&&(h.emissiveMap.value=p.emissiveMap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===1&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===1&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}(n,o)):o.isMeshStandardMaterial?(r(n,o),o.isMeshPhysicalMaterial?function(h,p){t(h,p),h.reflectivity.value=p.reflectivity,h.clearcoat.value=p.clearcoat,h.clearcoatRoughness.value=p.clearcoatRoughness,p.sheen&&h.sheen.value.copy(p.sheen),p.clearcoatMap&&(h.clearcoatMap.value=p.clearcoatMap),p.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap),p.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),h.clearcoatNormalMap.value=p.clearcoatNormalMap,p.side===1&&h.clearcoatNormalScale.value.negate()),h.transmission.value=p.transmission,p.transmissionMap&&(h.transmissionMap.value=p.transmissionMap)}(n,o):t(n,o)):o.isMeshMatcapMaterial?(r(n,o),function(h,p){p.matcap&&(h.matcap.value=p.matcap),p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===1&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===1&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}(n,o)):o.isMeshDepthMaterial?(r(n,o),function(h,p){p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}(n,o)):o.isMeshDistanceMaterial?(r(n,o),function(h,p){p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias),h.referencePosition.value.copy(p.referencePosition),h.nearDistance.value=p.nearDistance,h.farDistance.value=p.farDistance}(n,o)):o.isMeshNormalMaterial?(r(n,o),function(h,p){p.bumpMap&&(h.bumpMap.value=p.bumpMap,h.bumpScale.value=p.bumpScale,p.side===1&&(h.bumpScale.value*=-1)),p.normalMap&&(h.normalMap.value=p.normalMap,h.normalScale.value.copy(p.normalScale),p.side===1&&h.normalScale.value.negate()),p.displacementMap&&(h.displacementMap.value=p.displacementMap,h.displacementScale.value=p.displacementScale,h.displacementBias.value=p.displacementBias)}(n,o)):o.isLineBasicMaterial?(function(h,p){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity}(n,o),o.isLineDashedMaterial&&function(h,p){h.dashSize.value=p.dashSize,h.totalSize.value=p.dashSize+p.gapSize,h.scale.value=p.scale}(n,o)):o.isPointsMaterial?function(h,p,v,x){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity,h.size.value=p.size*v,h.scale.value=.5*x,p.map&&(h.map.value=p.map),p.alphaMap&&(h.alphaMap.value=p.alphaMap);var w;p.map?w=p.map:p.alphaMap&&(w=p.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),h.uvTransform.value.copy(w.matrix))}(n,o,l,u):o.isSpriteMaterial?function(h,p){h.diffuse.value.copy(p.color),h.opacity.value=p.opacity,h.rotation.value=p.rotation,p.map&&(h.map.value=p.map),p.alphaMap&&(h.alphaMap.value=p.alphaMap);var v;p.map?v=p.map:p.alphaMap&&(v=p.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),h.uvTransform.value.copy(v.matrix))}(n,o):o.isShadowMaterial?(n.color.value.copy(o.color),n.opacity.value=o.opacity):o.isShaderMaterial&&(o.uniformsNeedUpdate=!1)}}}function zi(e){var r=(e=e||{}).canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=e.context!==void 0?e.context:null,n=e.alpha!==void 0&&e.alpha,o=e.depth===void 0||e.depth,l=e.stencil===void 0||e.stencil,u=e.antialias!==void 0&&e.antialias,h=e.premultipliedAlpha===void 0||e.premultipliedAlpha,p=e.preserveDrawingBuffer!==void 0&&e.preserveDrawingBuffer,v=e.powerPreference!==void 0?e.powerPreference:"default",x=e.failIfMajorPerformanceCaveat!==void 0&&e.failIfMajorPerformanceCaveat,w=null,T=null;this.domElement=r,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=He,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var S=this,C=!1,P=null,A=0,O=0,H=null,k=null,B=-1,G=null,Z=null,q=new en,ie=new en,ee=null,se=r.width,ce=r.height,J=1,Se=null,Me=null,ve=new en(0,0,se,ce),Ne=new en(0,0,se,ce),$e=!1,we=new El,Le=!1,Ee=!1,We=new on,bt=new V,Ht={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return H===null?J:1}var K,Pe,_e,ke,re,qe,et,ut,Ke,St,$t,An,Fn,tn,Ln,zn,Wi,Zr,Jr,bi,jr,rt=t;function al(Q,Ie){for(var be=0;be<Q.length;be++){var Fe=Q[be],at=r.getContext(Fe,Ie);if(at!==null)return at}return null}try{var ng={alpha:n,depth:o,stencil:l,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:v,failIfMajorPerformanceCaveat:x};if(r.addEventListener("webglcontextlost",vc,!1),r.addEventListener("webglcontextrestored",Ip,!1),rt===null){var kd=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&kd.shift(),(rt=al(kd,ng))===null)throw al(kd)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}rt.getShaderPrecisionFormat===void 0&&(rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}function gc(){K=new Fm(rt),(Pe=new jh(rt,K,e)).isWebGL2===!1&&(K.get("WEBGL_depth_texture"),K.get("OES_texture_float"),K.get("OES_texture_half_float"),K.get("OES_texture_half_float_linear"),K.get("OES_standard_derivatives"),K.get("OES_element_index_uint"),K.get("OES_vertex_array_object"),K.get("ANGLE_instanced_arrays")),K.get("OES_texture_float_linear"),bi=new di(rt,K,Pe),(_e=new Bs(rt,K,Pe)).scissor(ie.copy(Ne).multiplyScalar(J).floor()),_e.viewport(q.copy(ve).multiplyScalar(J).floor()),ke=new Vh,re=new qm,qe=new zl(rt,K,_e,re,Pe,bi,ke),et=new Au(S),ut=new Uh(rt,Pe),jr=new Bm(rt,K,ut,Pe),Ke=new $c(rt,ut,ke,jr),St=new $h(rt,Ke,ut,ke),Wi=new Wh(rt),Ln=new Lu(re),$t=new Nf(S,et,K,Pe,jr,Ln),An=new fp(re),Fn=new Il(re),tn=new Wn(K,Pe),zn=new zm(S,et,_e,St,h),Zr=new Gh(rt,K,ke,Pe),Jr=new Hm(rt,K,ke,Pe),ke.programs=$t.programs,S.capabilities=Pe,S.extensions=K,S.properties=re,S.renderLists=Fn,S.state=_e,S.info=ke}gc();var os=new ku(S,rt);this.xr=os;var hh=new ci(S,St,Pe.maxTextureSize);function vc(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ip(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1,gc()}function ph(Q){var Ie=Q.target;Ie.removeEventListener("dispose",ph),function(be){mh(be),re.remove(be)}(Ie)}function mh(Q){var Ie=re.get(Q).program;Ie!==void 0&&$t.releaseProgram(Ie)}this.shadowMap=hh,this.getContext=function(){return rt},this.getContextAttributes=function(){return rt.getContextAttributes()},this.forceContextLoss=function(){var Q=K.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){var Q=K.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(Q){Q!==void 0&&(J=Q,this.setSize(se,ce,!1))},this.getSize=function(Q){return Q===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Q=new Ae),Q.set(se,ce)},this.setSize=function(Q,Ie,be){os.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(se=Q,ce=Ie,r.width=Math.floor(Q*J),r.height=Math.floor(Ie*J),be!==!1&&(r.style.width=Q+"px",r.style.height=Ie+"px"),this.setViewport(0,0,Q,Ie))},this.getDrawingBufferSize=function(Q){return Q===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Q=new Ae),Q.set(se*J,ce*J).floor()},this.setDrawingBufferSize=function(Q,Ie,be){se=Q,ce=Ie,J=be,r.width=Math.floor(Q*be),r.height=Math.floor(Ie*be),this.setViewport(0,0,Q,Ie)},this.getCurrentViewport=function(Q){return Q===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Q=new en),Q.copy(q)},this.getViewport=function(Q){return Q.copy(ve)},this.setViewport=function(Q,Ie,be,Fe){Q.isVector4?ve.set(Q.x,Q.y,Q.z,Q.w):ve.set(Q,Ie,be,Fe),_e.viewport(q.copy(ve).multiplyScalar(J).floor())},this.getScissor=function(Q){return Q.copy(Ne)},this.setScissor=function(Q,Ie,be,Fe){Q.isVector4?Ne.set(Q.x,Q.y,Q.z,Q.w):Ne.set(Q,Ie,be,Fe),_e.scissor(ie.copy(Ne).multiplyScalar(J).floor())},this.getScissorTest=function(){return $e},this.setScissorTest=function(Q){_e.setScissorTest($e=Q)},this.setOpaqueSort=function(Q){Se=Q},this.setTransparentSort=function(Q){Me=Q},this.getClearColor=function(){return zn.getClearColor()},this.setClearColor=function(){zn.setClearColor.apply(zn,arguments)},this.getClearAlpha=function(){return zn.getClearAlpha()},this.setClearAlpha=function(){zn.setClearAlpha.apply(zn,arguments)},this.clear=function(Q,Ie,be){var Fe=0;(Q===void 0||Q)&&(Fe|=16384),(Ie===void 0||Ie)&&(Fe|=256),(be===void 0||be)&&(Fe|=1024),rt.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",vc,!1),r.removeEventListener("webglcontextrestored",Ip,!1),Fn.dispose(),tn.dispose(),re.dispose(),et.dispose(),St.dispose(),jr.dispose(),os.dispose(),ss.stop()},this.renderBufferImmediate=function(Q,Ie){jr.initAttributes();var be=re.get(Q);Q.hasPositions&&!be.position&&(be.position=rt.createBuffer()),Q.hasNormals&&!be.normal&&(be.normal=rt.createBuffer()),Q.hasUvs&&!be.uv&&(be.uv=rt.createBuffer()),Q.hasColors&&!be.color&&(be.color=rt.createBuffer());var Fe=Ie.getAttributes();Q.hasPositions&&(rt.bindBuffer(34962,be.position),rt.bufferData(34962,Q.positionArray,35048),jr.enableAttribute(Fe.position),rt.vertexAttribPointer(Fe.position,3,5126,!1,0,0)),Q.hasNormals&&(rt.bindBuffer(34962,be.normal),rt.bufferData(34962,Q.normalArray,35048),jr.enableAttribute(Fe.normal),rt.vertexAttribPointer(Fe.normal,3,5126,!1,0,0)),Q.hasUvs&&(rt.bindBuffer(34962,be.uv),rt.bufferData(34962,Q.uvArray,35048),jr.enableAttribute(Fe.uv),rt.vertexAttribPointer(Fe.uv,2,5126,!1,0,0)),Q.hasColors&&(rt.bindBuffer(34962,be.color),rt.bufferData(34962,Q.colorArray,35048),jr.enableAttribute(Fe.color),rt.vertexAttribPointer(Fe.color,3,5126,!1,0,0)),jr.disableUnusedAttributes(),rt.drawArrays(4,0,Q.count),Q.count=0},this.renderBufferDirect=function(Q,Ie,be,Fe,at,dn){Ie===null&&(Ie=Ht);var _n=at.isMesh&&at.matrixWorld.determinant()<0,Cn=gh(Q,Ie,Fe,at);_e.setMaterial(Fe,_n);var Qt=be.index,pr=be.attributes.position;if(Qt===null){if(pr===void 0||pr.count===0)return}else if(Qt.count===0)return;var Pr,Pn=1;Fe.wireframe===!0&&(Qt=Ke.getWireframeAttribute(be),Pn=2),(Fe.morphTargets||Fe.morphNormals)&&Wi.update(at,be,Fe,Cn),jr.setup(at,Fe,Cn,be,Qt);var Tt=Zr;Qt!==null&&(Pr=ut.get(Qt),(Tt=Jr).setIndex(Pr));var Li=Qt!==null?Qt.count:pr.count,Or=be.drawRange.start*Pn,sr=be.drawRange.count*Pn,Ai=dn!==null?dn.start*Pn:0,Zt=dn!==null?dn.count*Pn:1/0,yn=Math.max(Or,Ai),Nn=Math.min(Li,Or+sr,Ai+Zt)-1,xn=Math.max(0,Nn-yn+1);if(xn!==0){if(at.isMesh)Fe.wireframe===!0?(_e.setLineWidth(Fe.wireframeLinewidth*te()),Tt.setMode(1)):Tt.setMode(4);else if(at.isLine){var On=Fe.linewidth;On===void 0&&(On=1),_e.setLineWidth(On*te()),at.isLineSegments?Tt.setMode(1):at.isLineLoop?Tt.setMode(2):Tt.setMode(3)}else at.isPoints?Tt.setMode(0):at.isSprite&&Tt.setMode(4);if(at.isInstancedMesh)Tt.renderInstances(yn,xn,at.count);else if(be.isInstancedBufferGeometry){var Dn=Math.min(be.instanceCount,be._maxInstanceCount);Tt.renderInstances(yn,xn,Dn)}else Tt.render(yn,xn)}},this.compile=function(Q,Ie){(T=tn.get(Q,Ie)).init(),Q.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ie.layers)&&(T.pushLight(Fe),Fe.castShadow&&T.pushShadow(Fe))}),T.setupLights(Ie);var be=new WeakMap;Q.traverse(function(Fe){var at=Fe.material;if(at)if(Array.isArray(at))for(var dn=0;dn<at.length;dn++){var _n=at[dn];be.has(_n)===!1&&(ls(_n,Q,Fe),be.set(_n))}else be.has(at)===!1&&(ls(at,Q,Fe),be.set(at))})};var ol=null,ss=new gf;function sl(Q,Ie,be,Fe){if(Q.visible!==!1){if(Q.layers.test(Ie.layers)){if(Q.isGroup)be=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(Ie);else if(Q.isLight)T.pushLight(Q),Q.castShadow&&T.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||we.intersectsSprite(Q)){Fe&&bt.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(We);var at=St.update(Q),dn=Q.material;dn.visible&&w.push(Q,at,dn,be,bt.z,null)}}else if(Q.isImmediateRenderObject)Fe&&bt.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(We),w.push(Q,null,Q.material,be,bt.z,null);else if((Q.isMesh||Q.isLine||Q.isPoints)&&(Q.isSkinnedMesh&&Q.skeleton.frame!==ke.render.frame&&(Q.skeleton.update(),Q.skeleton.frame=ke.render.frame),!Q.frustumCulled||we.intersectsObject(Q))){Fe&&bt.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(We);var _n=St.update(Q),Cn=Q.material;if(Array.isArray(Cn))for(var Qt=_n.groups,pr=0,Pr=Qt.length;pr<Pr;pr++){var Pn=Qt[pr],Tt=Cn[Pn.materialIndex];Tt&&Tt.visible&&w.push(Q,_n,Tt,be,bt.z,Pn)}else Cn.visible&&w.push(Q,_n,Cn,be,bt.z,null)}}for(var Li=Q.children,Or=0,sr=Li.length;Or<sr;Or++)sl(Li[Or],Ie,be,Fe)}}function hu(Q,Ie,be){for(var Fe=Ie.isScene===!0?Ie.overrideMaterial:null,at=0,dn=Q.length;at<dn;at++){var _n=Q[at],Cn=_n.object,Qt=_n.geometry,pr=Fe===null?_n.material:Fe,Pr=_n.group;if(be.isArrayCamera){Z=be;for(var Pn=be.cameras,Tt=0,Li=Pn.length;Tt<Li;Tt++){var Or=Pn[Tt];Cn.layers.test(Or.layers)&&(_e.viewport(q.copy(Or.viewport)),T.setupLights(Or),yc(Cn,Ie,Or,Qt,pr,Pr))}}else Z=null,yc(Cn,Ie,be,Qt,pr,Pr)}}function yc(Q,Ie,be,Fe,at,dn){if(Q.onBeforeRender(S,Ie,be,Fe,at,dn),T=tn.get(Ie,Z||be),Q.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Q.isImmediateRenderObject){var _n=gh(be,Ie,at,Q);_e.setMaterial(at),jr.reset(),function(Cn,Qt){Cn.render(function(pr){S.renderBufferImmediate(pr,Qt)})}(Q,_n)}else S.renderBufferDirect(be,Ie,Fe,at,Q,dn);Q.onAfterRender(S,Ie,be,Fe,at,dn),T=tn.get(Ie,Z||be)}function ls(Q,Ie,be){Ie.isScene!==!0&&(Ie=Ht);var Fe=re.get(Q),at=T.state.lights,dn=T.state.shadowsArray,_n=at.state.version,Cn=$t.getParameters(Q,at.state,dn,Ie,be),Qt=$t.getProgramCacheKey(Cn),pr=Fe.program,Pr=!0;if(pr===void 0)Q.addEventListener("dispose",ph);else if(pr.cacheKey!==Qt)mh(Q);else if(Fe.lightsStateVersion!==_n)Pr=!1;else{if(Cn.shaderID!==void 0){var Pn=Q.isMeshStandardMaterial?Ie.environment:null;return void(Fe.envMap=et.get(Q.envMap||Pn))}Pr=!1}Pr&&(Cn.uniforms=$t.getUniforms(Q),Q.onBeforeCompile(Cn,S),pr=$t.acquireProgram(Cn,Qt),Fe.program=pr,Fe.uniforms=Cn.uniforms,Fe.outputEncoding=Cn.outputEncoding);var Tt=Fe.uniforms;(Q.isShaderMaterial||Q.isRawShaderMaterial)&&Q.clipping!==!0||(Fe.numClippingPlanes=Ln.numPlanes,Fe.numIntersection=Ln.numIntersection,Tt.clippingPlanes=Ln.uniform),Fe.environment=Q.isMeshStandardMaterial?Ie.environment:null,Fe.fog=Ie.fog,Fe.envMap=et.get(Q.envMap||Fe.environment),Fe.needsLights=function(sr){return sr.isMeshLambertMaterial||sr.isMeshToonMaterial||sr.isMeshPhongMaterial||sr.isMeshStandardMaterial||sr.isShadowMaterial||sr.isShaderMaterial&&sr.lights===!0}(Q),Fe.lightsStateVersion=_n,Fe.needsLights&&(Tt.ambientLightColor.value=at.state.ambient,Tt.lightProbe.value=at.state.probe,Tt.directionalLights.value=at.state.directional,Tt.directionalLightShadows.value=at.state.directionalShadow,Tt.spotLights.value=at.state.spot,Tt.spotLightShadows.value=at.state.spotShadow,Tt.rectAreaLights.value=at.state.rectArea,Tt.ltc_1.value=at.state.rectAreaLTC1,Tt.ltc_2.value=at.state.rectAreaLTC2,Tt.pointLights.value=at.state.point,Tt.pointLightShadows.value=at.state.pointShadow,Tt.hemisphereLights.value=at.state.hemi,Tt.directionalShadowMap.value=at.state.directionalShadowMap,Tt.directionalShadowMatrix.value=at.state.directionalShadowMatrix,Tt.spotShadowMap.value=at.state.spotShadowMap,Tt.spotShadowMatrix.value=at.state.spotShadowMatrix,Tt.pointShadowMap.value=at.state.pointShadowMap,Tt.pointShadowMatrix.value=at.state.pointShadowMatrix);var Li=Fe.program.getUniforms(),Or=Uo.seqWithValue(Li.seq,Tt);Fe.uniformsList=Or}function gh(Q,Ie,be,Fe){Ie.isScene!==!0&&(Ie=Ht),qe.resetTextureUnits();var at=Ie.fog,dn=be.isMeshStandardMaterial?Ie.environment:null,_n=H===null?S.outputEncoding:H.texture.encoding,Cn=et.get(be.envMap||dn),Qt=re.get(be),pr=T.state.lights;if(Le===!0&&(Ee===!0||Q!==G)){var Pr=Q===G&&be.id===B;Ln.setState(be,Q,Pr)}be.version===Qt.__version?be.fog&&Qt.fog!==at||Qt.environment!==dn||Qt.needsLights&&Qt.lightsStateVersion!==pr.state.version?ls(be,Ie,Fe):Qt.numClippingPlanes===void 0||Qt.numClippingPlanes===Ln.numPlanes&&Qt.numIntersection===Ln.numIntersection?(Qt.outputEncoding!==_n||Qt.envMap!==Cn)&&ls(be,Ie,Fe):ls(be,Ie,Fe):(ls(be,Ie,Fe),Qt.__version=be.version);var Pn,Tt,Li=!1,Or=!1,sr=!1,Ai=Qt.program,Zt=Ai.getUniforms(),yn=Qt.uniforms;if(_e.useProgram(Ai.program)&&(Li=!0,Or=!0,sr=!0),be.id!==B&&(B=be.id,Or=!0),Li||G!==Q){if(Zt.setValue(rt,"projectionMatrix",Q.projectionMatrix),Pe.logarithmicDepthBuffer&&Zt.setValue(rt,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),G!==Q&&(G=Q,Or=!0,sr=!0),be.isShaderMaterial||be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshStandardMaterial||be.envMap){var Nn=Zt.map.cameraPosition;Nn!==void 0&&Nn.setValue(rt,bt.setFromMatrixPosition(Q.matrixWorld))}(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&Zt.setValue(rt,"isOrthographic",Q.isOrthographicCamera===!0),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial||be.isShadowMaterial||be.skinning)&&Zt.setValue(rt,"viewMatrix",Q.matrixWorldInverse)}if(be.skinning){Zt.setOptional(rt,Fe,"bindMatrix"),Zt.setOptional(rt,Fe,"bindMatrixInverse");var xn=Fe.skeleton;if(xn){var On=xn.bones;if(Pe.floatVertexTextures){if(xn.boneTexture===void 0){var Dn=Math.sqrt(4*On.length);Dn=Ct.ceilPowerOfTwo(Dn),Dn=Math.max(Dn,4);var Vr=new Float32Array(Dn*Dn*4);Vr.set(xn.boneMatrices);var oi=new ao(Vr,Dn,Dn,Xe,xe);xn.boneMatrices=Vr,xn.boneTexture=oi,xn.boneTextureSize=Dn}Zt.setValue(rt,"boneTexture",xn.boneTexture,qe),Zt.setValue(rt,"boneTextureSize",xn.boneTextureSize)}else Zt.setOptional(rt,xn,"boneMatrices")}}return(Or||Qt.receiveShadow!==Fe.receiveShadow)&&(Qt.receiveShadow=Fe.receiveShadow,Zt.setValue(rt,"receiveShadow",Fe.receiveShadow)),Or&&(Zt.setValue(rt,"toneMappingExposure",S.toneMappingExposure),Qt.needsLights&&(Tt=sr,(Pn=yn).ambientLightColor.needsUpdate=Tt,Pn.lightProbe.needsUpdate=Tt,Pn.directionalLights.needsUpdate=Tt,Pn.directionalLightShadows.needsUpdate=Tt,Pn.pointLights.needsUpdate=Tt,Pn.pointLightShadows.needsUpdate=Tt,Pn.spotLights.needsUpdate=Tt,Pn.spotLightShadows.needsUpdate=Tt,Pn.rectAreaLights.needsUpdate=Tt,Pn.hemisphereLights.needsUpdate=Tt),at&&be.fog&&An.refreshFogUniforms(yn,at),An.refreshMaterialUniforms(yn,be,J,ce),Uo.upload(rt,Qt.uniformsList,yn,qe)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(Uo.upload(rt,Qt.uniformsList,yn,qe),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&Zt.setValue(rt,"center",Fe.center),Zt.setValue(rt,"modelViewMatrix",Fe.modelViewMatrix),Zt.setValue(rt,"normalMatrix",Fe.normalMatrix),Zt.setValue(rt,"modelMatrix",Fe.matrixWorld),Ai}ss.setAnimationLoop(function(Q){os.isPresenting||ol&&ol(Q)}),typeof window<"u"&&ss.setContext(window),this.setAnimationLoop=function(Q){ol=Q,os.setAnimationLoop(Q),Q===null?ss.stop():ss.start()},this.render=function(Q,Ie){var be,Fe;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),be=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),Fe=arguments[3]),Ie===void 0||Ie.isCamera===!0){if(C!==!0){jr.resetDefaultState(),B=-1,G=null,Q.autoUpdate===!0&&Q.updateMatrixWorld(),Ie.parent===null&&Ie.updateMatrixWorld(),os.enabled===!0&&os.isPresenting===!0&&(Ie=os.getCamera(Ie)),Q.isScene===!0&&Q.onBeforeRender(S,Q,Ie,be||H),(T=tn.get(Q,Ie)).init(),We.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),we.setFromProjectionMatrix(We),Ee=this.localClippingEnabled,Le=Ln.init(this.clippingPlanes,Ee,Ie),(w=Fn.get(Q,Ie)).init(),sl(Q,Ie,0,S.sortObjects),w.finish(),S.sortObjects===!0&&w.sort(Se,Me),Le===!0&&Ln.beginShadows();var at=T.state.shadowsArray;hh.render(at,Q,Ie),T.setupLights(Ie),Le===!0&&Ln.endShadows(),this.info.autoReset===!0&&this.info.reset(),be!==void 0&&this.setRenderTarget(be),zn.render(w,Q,Ie,Fe);var dn=w.opaque,_n=w.transparent;dn.length>0&&hu(dn,Q,Ie),_n.length>0&&hu(_n,Q,Ie),Q.isScene===!0&&Q.onAfterRender(S,Q,Ie),H!==null&&(qe.updateRenderTargetMipmap(H),qe.updateMultisampleRenderTarget(H)),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1),w=null,T=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(Q){P!==Q&&H===null&&rt.bindFramebuffer(36160,Q),P=Q},this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return O},this.getRenderList=function(){return w},this.setRenderList=function(Q){w=Q},this.getRenderState=function(){return T},this.setRenderState=function(Q){T=Q},this.getRenderTarget=function(){return H},this.setRenderTarget=function(Q,Ie,be){Ie===void 0&&(Ie=0),be===void 0&&(be=0),H=Q,A=Ie,O=be,Q&&re.get(Q).__webglFramebuffer===void 0&&qe.setupRenderTarget(Q);var Fe=P,at=!1;if(Q){var dn=re.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Fe=dn[Ie],at=!0):Fe=Q.isWebGLMultisampleRenderTarget?re.get(Q).__webglMultisampledFramebuffer:dn,q.copy(Q.viewport),ie.copy(Q.scissor),ee=Q.scissorTest}else q.copy(ve).multiplyScalar(J).floor(),ie.copy(Ne).multiplyScalar(J).floor(),ee=$e;if(k!==Fe&&(rt.bindFramebuffer(36160,Fe),k=Fe),_e.viewport(q),_e.scissor(ie),_e.setScissorTest(ee),at){var _n=re.get(Q.texture);rt.framebufferTexture2D(36160,36064,34069+Ie,_n.__webglTexture,be)}},this.readRenderTargetPixels=function(Q,Ie,be,Fe,at,dn,_n){if(Q&&Q.isWebGLRenderTarget){var Cn=re.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&_n!==void 0&&(Cn=Cn[_n]),Cn){var Qt=!1;Cn!==k&&(rt.bindFramebuffer(36160,Cn),Qt=!0);try{var pr=Q.texture,Pr=pr.format,Pn=pr.type;if(Pr!==Xe&&bi.convert(Pr)!==rt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Pn===de||bi.convert(Pn)===rt.getParameter(35738)||Pn===xe&&(Pe.isWebGL2||K.get("OES_texture_float")||K.get("WEBGL_color_buffer_float"))||Pn===Oe&&(Pe.isWebGL2?K.get("EXT_color_buffer_float"):K.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");rt.checkFramebufferStatus(36160)===36053?Ie>=0&&Ie<=Q.width-Fe&&be>=0&&be<=Q.height-at&&rt.readPixels(Ie,be,Fe,at,bi.convert(Pr),bi.convert(Pn),dn):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Qt&&rt.bindFramebuffer(36160,k)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(Q,Ie,be){be===void 0&&(be=0);var Fe=Math.pow(2,-be),at=Math.floor(Ie.image.width*Fe),dn=Math.floor(Ie.image.height*Fe),_n=bi.convert(Ie.format);qe.setTexture2D(Ie,0),rt.copyTexImage2D(3553,be,_n,Q.x,Q.y,at,dn,0),_e.unbindTexture()},this.copyTextureToTexture=function(Q,Ie,be,Fe){Fe===void 0&&(Fe=0);var at=Ie.image.width,dn=Ie.image.height,_n=bi.convert(be.format),Cn=bi.convert(be.type);qe.setTexture2D(be,0),rt.pixelStorei(37440,be.flipY),rt.pixelStorei(37441,be.premultiplyAlpha),rt.pixelStorei(3317,be.unpackAlignment),Ie.isDataTexture?rt.texSubImage2D(3553,Fe,Q.x,Q.y,at,dn,_n,Cn,Ie.image.data):Ie.isCompressedTexture?rt.compressedTexSubImage2D(3553,Fe,Q.x,Q.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,_n,Ie.mipmaps[0].data):rt.texSubImage2D(3553,Fe,Q.x,Q.y,_n,Cn,Ie.image),Fe===0&&be.generateMipmaps&&rt.generateMipmap(3553),_e.unbindTexture()},this.initTexture=function(Q){qe.setTexture2D(Q,0),_e.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Fl(e){zi.call(this,e)}Fs.prototype=Object.assign(Object.create(Er.prototype),{constructor:Fs,isArrayCamera:!0}),so.prototype=Object.assign(Object.create(Mt.prototype),{constructor:so,isGroup:!0}),Object.assign(Bl.prototype,{constructor:Bl,getHandSpace:function(){if(this._hand===null&&(this._hand=new so,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var r=new so;r.matrixAutoUpdate=!1,r.visible=!1,this._hand.joints.push(r),this._hand.add(r)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new so,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new so,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,r,t){var n=null,o=null,l=null,u=this._targetRay,h=this._grip,p=this._hand;if(e)if(p&&e.hand){l=!0;for(var v=0;v<=window.XRHand.LITTLE_PHALANX_TIP;v++)if(e.hand[v]){var x=r.getJointPose(e.hand[v],t),w=p.joints[v];x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null;var T=p.joints[window.XRHand.INDEX_PHALANX_TIP],S=p.joints[window.XRHand.THUMB_PHALANX_TIP],C=T.position.distanceTo(S.position);p.inputState.pinching&&C>.025?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&C<=.015&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else u!==null&&(n=r.getPose(e.targetRaySpace,t))!==null&&(u.matrix.fromArray(n.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale)),h!==null&&e.gripSpace&&(o=r.getPose(e.gripSpace,t))!==null&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale));return u!==null&&(u.visible=n!==null),h!==null&&(h.visible=o!==null),p!==null&&(p.visible=l!==null),this}}),Object.assign(ku.prototype,Kt.prototype),Fl.prototype=Object.assign(Object.create(zi.prototype),{constructor:Fl,isWebGL1Renderer:!0});var Kc=function(){function e(t,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new ht(t),this.density=n!==void 0?n:25e-5}var r=e.prototype;return r.clone=function(){return new e(this.color,this.density)},r.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},e}(),Df=function(){function e(t,n,o){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new ht(t),this.near=n!==void 0?n:1,this.far=o!==void 0?o:1e3}var r=e.prototype;return r.clone=function(){return new e(this.color,this.near,this.far)},r.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},e}(),If=function(e){function r(){var n;return n=e.call(this)||this,Object.defineProperty(Ft(n),"isScene",{value:!0}),n.type="Scene",n.background=null,n.environment=null,n.fog=null,n.overrideMaterial=null,n.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Ft(n)})),n}Ve(r,e);var t=r.prototype;return t.copy=function(n,o){return e.prototype.copy.call(this,n,o),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this},t.toJSON=function(n){var o=e.prototype.toJSON.call(this,n);return this.background!==null&&(o.object.background=this.background.toJSON(n)),this.environment!==null&&(o.object.environment=this.environment.toJSON(n)),this.fog!==null&&(o.object.fog=this.fog.toJSON()),o},r}(Mt);function Tr(e,r){this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ct.generateUUID()}Object.defineProperty(Tr.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(Tr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,r,t){e*=this.stride,t*=r.stride;for(var n=0,o=this.stride;n<o;n++)this.array[e+n]=r.array[t+n];return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ct.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var r=new Tr(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return r.setUsage(this.usage),r},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ct.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var wa,na=new V;function ba(e,r,t,n){this.name="",this.data=e,this.itemSize=r,this.offset=t,this.normalized=n===!0}function _a(e){Ut.call(this),this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(ba.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(ba.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var r=0,t=this.data.count;r<t;r++)na.x=this.getX(r),na.y=this.getY(r),na.z=this.getZ(r),na.applyMatrix4(e),this.setXYZ(r,na.x,na.y,na.z);return this},setX:function(e,r){return this.data.array[e*this.data.stride+this.offset]=r,this},setY:function(e,r){return this.data.array[e*this.data.stride+this.offset+1]=r,this},setZ:function(e,r){return this.data.array[e*this.data.stride+this.offset+2]=r,this},setW:function(e,r){return this.data.array[e*this.data.stride+this.offset+3]=r,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,r,t){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=t,this},setXYZ:function(e,r,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=t,this.data.array[e+2]=n,this},setXYZW:function(e,r,t,n,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=t,this.data.array[e+2]=n,this.data.array[e+3]=o,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var r=[],t=0;t<this.count;t++)for(var n=t*this.data.stride+this.offset,o=0;o<this.itemSize;o++)r.push(this.data.array[n+o]);return new Nt(new this.array.constructor(r),this.itemSize,this.normalized)}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ba(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var r=[],t=0;t<this.count;t++)for(var n=t*this.data.stride+this.offset,o=0;o<this.itemSize;o++)r.push(this.data.array[n+o]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),_a.prototype=Object.create(Ut.prototype),_a.prototype.constructor=_a,_a.prototype.isSpriteMaterial=!0,_a.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var ni=new V,qr=new V,ra=new V,Mi=new Ae,Bi=new Ae,Vo=new on,zu=new V,Hs=new V,Hl=new V,Ei=new Ae,fi=new Ae,Kn=new Ae;function hi(e){if(Mt.call(this),this.type="Sprite",wa===void 0){wa=new kt;var r=new Tr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);wa.setIndex([0,1,2,0,2,3]),wa.setAttribute("position",new ba(r,3,0,!1)),wa.setAttribute("uv",new ba(r,2,3,!1))}this.geometry=wa,this.material=e!==void 0?e:new _a,this.center=new Ae(.5,.5)}function Bu(e,r,t,n,o,l){Mi.subVectors(e,t).addScalar(.5).multiply(n),o!==void 0?(Bi.x=l*Mi.x-o*Mi.y,Bi.y=o*Mi.x+l*Mi.y):Bi.copy(Mi),e.copy(r),e.x+=Bi.x,e.y+=Bi.y,e.applyMatrix4(Vo)}hi.prototype=Object.assign(Object.create(Mt.prototype),{constructor:hi,isSprite:!0,raycast:function(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qr.setFromMatrixScale(this.matrixWorld),Vo.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ra.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qr.multiplyScalar(-ra.z);var t,n,o=this.material.rotation;o!==0&&(n=Math.cos(o),t=Math.sin(o));var l=this.center;Bu(zu.set(-.5,-.5,0),ra,l,qr,t,n),Bu(Hs.set(.5,-.5,0),ra,l,qr,t,n),Bu(Hl.set(.5,.5,0),ra,l,qr,t,n),Ei.set(0,0),fi.set(1,0),Kn.set(1,1);var u=e.ray.intersectTriangle(zu,Hs,Hl,!1,ni);if(u!==null||(Bu(Hs.set(-.5,.5,0),ra,l,qr,t,n),fi.set(0,1),(u=e.ray.intersectTriangle(zu,Hl,Hs,!1,ni))!==null)){var h=e.ray.origin.distanceTo(ni);h<e.near||h>e.far||r.push({distance:h,point:ni.clone(),uv:Ir.getUV(ni,zu,Hs,Hl,Ei,fi,Kn,new Ae),face:null,object:this})}},copy:function(e){return Mt.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});var ed,Fu,Hu,kf,Ul,Uu=new V,Us=new V;function Gs(){Mt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function td(e,r){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Jn.call(this,e,r),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new on,this.bindMatrixInverse=new on}Gs.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Gs,isLOD:!0,copy:function(e){Mt.prototype.copy.call(this,e,!1);for(var r=e.levels,t=0,n=r.length;t<n;t++){var o=r[t];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,r){r===void 0&&(r=0),r=Math.abs(r);var t,n=this.levels;for(t=0;t<n.length&&!(r<n[t].distance);t++);return n.splice(t,0,{distance:r,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var r=this.levels;if(r.length>0){var t,n;for(t=1,n=r.length;t<n&&!(e<r[t].distance);t++);return r[t-1].object}return null},raycast:function(e,r){if(this.levels.length>0){Uu.setFromMatrixPosition(this.matrixWorld);var t=e.ray.origin.distanceTo(Uu);this.getObjectForDistance(t).raycast(e,r)}},update:function(e){var r=this.levels;if(r.length>1){Uu.setFromMatrixPosition(e.matrixWorld),Us.setFromMatrixPosition(this.matrixWorld);var t,n,o=Uu.distanceTo(Us)/e.zoom;for(r[0].object.visible=!0,t=1,n=r.length;t<n&&o>=r[t].distance;t++)r[t-1].object.visible=!1,r[t].object.visible=!0;for(this._currentLevel=t-1;t<n;t++)r[t].object.visible=!1}},toJSON:function(e){var r=Mt.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(r.object.autoUpdate=!1),r.object.levels=[];for(var t=this.levels,n=0,o=t.length;n<o;n++){var l=t[n];r.object.levels.push({object:l.object.uuid,distance:l.distance})}return r}}),td.prototype=Object.assign(Object.create(Jn.prototype),{constructor:td,isSkinnedMesh:!0,copy:function(e){return Jn.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.getInverse(r)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new en,r=this.geometry.attributes.skinWeight,t=0,n=r.count;t<n;t++){e.x=r.getX(t),e.y=r.getY(t),e.z=r.getZ(t),e.w=r.getW(t);var o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),r.setXYZW(t,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Jn.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:(ed=new V,Fu=new en,Hu=new en,kf=new V,Ul=new on,function(e,r){var t=this.skeleton,n=this.geometry;Fu.fromBufferAttribute(n.attributes.skinIndex,e),Hu.fromBufferAttribute(n.attributes.skinWeight,e),ed.fromBufferAttribute(n.attributes.position,e).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(var o=0;o<4;o++){var l=Hu.getComponent(o);if(l!==0){var u=Fu.getComponent(o);Ul.multiplyMatrices(t.bones[u].matrixWorld,t.boneInverses[u]),r.addScaledVector(kf.copy(ed).applyMatrix4(Ul),l)}}return r.applyMatrix4(this.bindMatrixInverse)})});var Gl=new on,nd=new on;function Gu(e,r){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,r===void 0)this.calculateInverses();else if(this.bones.length===r.length)this.boneInverses=r.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var t=0,n=this.bones.length;t<n;t++)this.boneInverses.push(new on)}}function rd(){Mt.call(this),this.type="Bone"}Object.assign(Gu.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,r=this.bones.length;e<r;e++){var t=new on;this.bones[e]&&t.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(t)}},pose:function(){for(var e=0,r=this.bones.length;e<r;e++){var t=this.bones[e];t&&t.matrixWorld.getInverse(this.boneInverses[e])}for(var n=0,o=this.bones.length;n<o;n++){var l=this.bones[n];l&&(l.parent&&l.parent.isBone?(l.matrix.getInverse(l.parent.matrixWorld),l.matrix.multiply(l.matrixWorld)):l.matrix.copy(l.matrixWorld),l.matrix.decompose(l.position,l.quaternion,l.scale))}},update:function(){for(var e=this.bones,r=this.boneInverses,t=this.boneMatrices,n=this.boneTexture,o=0,l=e.length;o<l;o++){var u=e[o]?e[o].matrixWorld:nd;Gl.multiplyMatrices(u,r[o]),Gl.toArray(t,16*o)}n!==void 0&&(n.needsUpdate=!0)},clone:function(){return new Gu(this.bones,this.boneInverses)},getBoneByName:function(e){for(var r=0,t=this.bones.length;r<t;r++){var n=this.bones[r];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),rd.prototype=Object.assign(Object.create(Mt.prototype),{constructor:rd,isBone:!0});var js=new on,zf=new on,Vs=[],Wo=new Jn;function lo(e,r,t){Jn.call(this,e,r),this.instanceMatrix=new Nt(new Float32Array(16*t),16),this.instanceColor=null,this.count=t,this.frustumCulled=!1}function $n(e){Ut.call(this),this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}lo.prototype=Object.assign(Object.create(Jn.prototype),{constructor:lo,isInstancedMesh:!0,copy:function(e){return Jn.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,r){this.instanceColor===null&&(this.instanceColor=new Nt(new Float32Array(3*this.count),3)),r.toArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,r){r.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,r){var t=this.matrixWorld,n=this.count;if(Wo.geometry=this.geometry,Wo.material=this.material,Wo.material!==void 0)for(var o=0;o<n;o++){this.getMatrixAt(o,js),zf.multiplyMatrices(t,js),Wo.matrixWorld=zf,Wo.raycast(e,Vs);for(var l=0,u=Vs.length;l<u;l++){var h=Vs[l];h.instanceId=o,h.object=this,r.push(h)}Vs.length=0}},setMatrixAt:function(e,r){r.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),$n.prototype=Object.create(Ut.prototype),$n.prototype.constructor=$n,$n.prototype.isLineBasicMaterial=!0,$n.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var id=new V,ad=new V,od=new on,uo=new ws,pi=new Kr;function Br(e,r,t){t===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Mt.call(this),this.type="Line",this.geometry=e!==void 0?e:new kt,this.material=r!==void 0?r:new $n,this.updateMorphTargets()}Br.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Br,isLine:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,t=[0],n=1,o=r.count;n<o;n++)id.fromBufferAttribute(r,n-1),ad.fromBufferAttribute(r,n),t[n]=t[n-1],t[n]+=id.distanceTo(ad);e.setAttribute("lineDistance",new tt(t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var l=e.vertices,u=e.lineDistances;u[0]=0;for(var h=1,p=l.length;h<p;h++)u[h]=u[h-1],u[h]+=l[h-1].distanceTo(l[h])}return this},raycast:function(e,r){var t=this.geometry,n=this.matrixWorld,o=e.params.Line.threshold;if(t.boundingSphere===null&&t.computeBoundingSphere(),pi.copy(t.boundingSphere),pi.applyMatrix4(n),pi.radius+=o,e.ray.intersectsSphere(pi)!==!1){od.getInverse(n),uo.copy(e.ray).applyMatrix4(od);var l=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=new V,p=new V,v=new V,x=new V,w=this.isLineSegments?2:1;if(t.isBufferGeometry){var T=t.index,S=t.attributes.position;if(T!==null)for(var C=T.array,P=0,A=C.length-1;P<A;P+=w){var O=C[P],H=C[P+1];if(h.fromBufferAttribute(S,O),p.fromBufferAttribute(S,H),!(uo.distanceSqToSegment(h,p,x,v)>u)){x.applyMatrix4(this.matrixWorld);var k=e.ray.origin.distanceTo(x);k<e.near||k>e.far||r.push({distance:k,point:v.clone().applyMatrix4(this.matrixWorld),index:P,face:null,faceIndex:null,object:this})}}else for(var B=0,G=S.count-1;B<G;B+=w)if(h.fromBufferAttribute(S,B),p.fromBufferAttribute(S,B+1),!(uo.distanceSqToSegment(h,p,x,v)>u)){x.applyMatrix4(this.matrixWorld);var Z=e.ray.origin.distanceTo(x);Z<e.near||Z>e.far||r.push({distance:Z,point:v.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}else if(t.isGeometry){for(var q=t.vertices,ie=q.length,ee=0;ee<ie-1;ee+=w)if(!(uo.distanceSqToSegment(q[ee],q[ee+1],x,v)>u)){x.applyMatrix4(this.matrixWorld);var se=e.ray.origin.distanceTo(x);se<e.near||se>e.far||r.push({distance:se,point:v.clone().applyMatrix4(this.matrixWorld),index:ee,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var r=e.morphAttributes,t=Object.keys(r);if(t.length>0){var n=r[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,l=n.length;o<l;o++){var u=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{var h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var jl=new V,ju=new V;function ir(e,r){Br.call(this,e,r),this.type="LineSegments"}function Sa(e,r){Br.call(this,e,r),this.type="LineLoop"}function Fi(e){Ut.call(this),this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}ir.prototype=Object.assign(Object.create(Br.prototype),{constructor:ir,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,t=[],n=0,o=r.count;n<o;n+=2)jl.fromBufferAttribute(r,n),ju.fromBufferAttribute(r,n+1),t[n]=n===0?0:t[n-1],t[n+1]=t[n]+jl.distanceTo(ju);e.setAttribute("lineDistance",new tt(t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var l=e.vertices,u=e.lineDistances,h=0,p=l.length;h<p;h+=2)jl.copy(l[h]),ju.copy(l[h+1]),u[h]=h===0?0:u[h-1],u[h+1]=u[h]+jl.distanceTo(ju);return this}}),Sa.prototype=Object.assign(Object.create(Br.prototype),{constructor:Sa,isLineLoop:!0}),Fi.prototype=Object.create(Ut.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isPointsMaterial=!0,Fi.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Bf=new on,Ma=new ws,Ea=new Kr,Ws=new V;function $s(e,r){Mt.call(this),this.type="Points",this.geometry=e!==void 0?e:new kt,this.material=r!==void 0?r:new Fi,this.updateMorphTargets()}function Vl(e,r,t,n,o,l,u){var h=Ma.distanceSqToPoint(e);if(h<t){var p=new V;Ma.closestPointToPoint(e,p),p.applyMatrix4(n);var v=o.ray.origin.distanceTo(p);if(v<o.near||v>o.far)return;l.push({distance:v,distanceToRay:Math.sqrt(h),point:p,index:r,face:null,object:u})}}function sd(e,r,t,n,o,l,u,h,p){cn.call(this,e,r,t,n,o,l,u,h,p),this.format=u!==void 0?u:ze,this.minFilter=l!==void 0?l:$,this.magFilter=o!==void 0?o:$,this.generateMipmaps=!1;var v=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function x(){v.needsUpdate=!0,e.requestVideoFrameCallback(x)})}function Va(e,r,t,n,o,l,u,h,p,v,x,w){cn.call(this,null,l,u,h,p,v,n,o,x,w),this.image={width:r,height:t},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ti(e,r,t,n,o,l,u,h,p){cn.call(this,e,r,t,n,o,l,u,h,p),this.needsUpdate=!0}function co(e,r,t,n,o,l,u,h,p,v){if((v=v!==void 0?v:it)!==it&&v!==st)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");t===void 0&&v===it&&(t=he),t===void 0&&v===st&&(t=Ge),cn.call(this,null,n,o,l,u,h,v,t,p),this.image={width:e,height:r},this.magFilter=u!==void 0?u:D,this.minFilter=h!==void 0?h:D,this.flipY=!1,this.generateMipmaps=!1}$s.prototype=Object.assign(Object.create(Mt.prototype),{constructor:$s,isPoints:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,r){var t=this.geometry,n=this.matrixWorld,o=e.params.Points.threshold;if(t.boundingSphere===null&&t.computeBoundingSphere(),Ea.copy(t.boundingSphere),Ea.applyMatrix4(n),Ea.radius+=o,e.ray.intersectsSphere(Ea)!==!1){Bf.getInverse(n),Ma.copy(e.ray).applyMatrix4(Bf);var l=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l;if(t.isBufferGeometry){var h=t.index,p=t.attributes.position;if(h!==null)for(var v=h.array,x=0,w=v.length;x<w;x++){var T=v[x];Ws.fromBufferAttribute(p,T),Vl(Ws,T,u,n,e,r,this)}else for(var S=0,C=p.count;S<C;S++)Ws.fromBufferAttribute(p,S),Vl(Ws,S,u,n,e,r,this)}else for(var P=t.vertices,A=0,O=P.length;A<O;A++)Vl(P[A],A,u,n,e,r,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var r=e.morphAttributes,t=Object.keys(r);if(t.length>0){var n=r[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,l=n.length;o<l;o++){var u=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{var h=e.morphTargets;h!==void 0&&h.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),sd.prototype=Object.assign(Object.create(cn.prototype),{constructor:sd,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Va.prototype=Object.create(cn.prototype),Va.prototype.constructor=Va,Va.prototype.isCompressedTexture=!0,Ti.prototype=Object.create(cn.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isCanvasTexture=!0,co.prototype=Object.create(cn.prototype),co.prototype.constructor=co,co.prototype.isDepthTexture=!0;var Vu=0,ri=new on,Wu=new Mt,fo=new V;function Bn(){Object.defineProperty(this,"id",{value:Vu+=2}),this.uuid=Ct.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Bn.prototype=Object.assign(Object.create(Kt.prototype),{constructor:Bn,isGeometry:!0,applyMatrix4:function(e){for(var r=new Mn().getNormalMatrix(e),t=0,n=this.vertices.length;t<n;t++)this.vertices[t].applyMatrix4(e);for(var o=0,l=this.faces.length;o<l;o++){var u=this.faces[o];u.normal.applyMatrix3(r).normalize();for(var h=0,p=u.vertexNormals.length;h<p;h++)u.vertexNormals[h].applyMatrix3(r).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return ri.makeRotationX(e),this.applyMatrix4(ri),this},rotateY:function(e){return ri.makeRotationY(e),this.applyMatrix4(ri),this},rotateZ:function(e){return ri.makeRotationZ(e),this.applyMatrix4(ri),this},translate:function(e,r,t){return ri.makeTranslation(e,r,t),this.applyMatrix4(ri),this},scale:function(e,r,t){return ri.makeScale(e,r,t),this.applyMatrix4(ri),this},lookAt:function(e){return Wu.lookAt(e),Wu.updateMatrix(),this.applyMatrix4(Wu.matrix),this},fromBufferGeometry:function(e){var r=this,t=e.index!==null?e.index:void 0,n=e.attributes;if(n.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var o=n.position,l=n.normal,u=n.color,h=n.uv,p=n.uv2;p!==void 0&&(this.faceVertexUvs[1]=[]);for(var v=0;v<o.count;v++)r.vertices.push(new V().fromBufferAttribute(o,v)),u!==void 0&&r.colors.push(new ht().fromBufferAttribute(u,v));function x(k,B,G,Z){var q=u===void 0?[]:[r.colors[k].clone(),r.colors[B].clone(),r.colors[G].clone()],ie=l===void 0?[]:[new V().fromBufferAttribute(l,k),new V().fromBufferAttribute(l,B),new V().fromBufferAttribute(l,G)],ee=new xl(k,B,G,ie,q,Z);r.faces.push(ee),h!==void 0&&r.faceVertexUvs[0].push([new Ae().fromBufferAttribute(h,k),new Ae().fromBufferAttribute(h,B),new Ae().fromBufferAttribute(h,G)]),p!==void 0&&r.faceVertexUvs[1].push([new Ae().fromBufferAttribute(p,k),new Ae().fromBufferAttribute(p,B),new Ae().fromBufferAttribute(p,G)])}var w=e.groups;if(w.length>0)for(var T=0;T<w.length;T++)for(var S=w[T],C=S.start,P=C,A=C+S.count;P<A;P+=3)t!==void 0?x(t.getX(P),t.getX(P+1),t.getX(P+2),S.materialIndex):x(P,P+1,P+2,S.materialIndex);else if(t!==void 0)for(var O=0;O<t.count;O+=3)x(t.getX(O),t.getX(O+1),t.getX(O+2));else for(var H=0;H<o.count;H+=3)x(H,H+1,H+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(fo).negate(),this.translate(fo.x,fo.y,fo.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,r=this.boundingSphere.radius,t=r===0?1:1/r,n=new on;return n.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var e=new V,r=new V,t=0,n=this.faces.length;t<n;t++){var o=this.faces[t],l=this.vertices[o.a],u=this.vertices[o.b],h=this.vertices[o.c];e.subVectors(h,u),r.subVectors(l,u),e.cross(r),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);for(var r=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)r[t]=new V;if(e)for(var o=new V,l=new V,u=0,h=this.faces.length;u<h;u++){var p=this.faces[u],v=this.vertices[p.a],x=this.vertices[p.b],w=this.vertices[p.c];o.subVectors(w,x),l.subVectors(v,x),o.cross(l),r[p.a].add(o),r[p.b].add(o),r[p.c].add(o)}else{this.computeFaceNormals();for(var T=0,S=this.faces.length;T<S;T++){var C=this.faces[T];r[C.a].add(C.normal),r[C.b].add(C.normal),r[C.c].add(C.normal)}}for(var P=0,A=this.vertices.length;P<A;P++)r[P].normalize();for(var O=0,H=this.faces.length;O<H;O++){var k=this.faces[O],B=k.vertexNormals;B.length===3?(B[0].copy(r[k.a]),B[1].copy(r[k.b]),B[2].copy(r[k.c])):(B[0]=r[k.a].clone(),B[1]=r[k.b].clone(),B[2]=r[k.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,r=this.faces.length;e<r;e++){var t=this.faces[e],n=t.vertexNormals;n.length===3?(n[0].copy(t.normal),n[1].copy(t.normal),n[2].copy(t.normal)):(n[0]=t.normal.clone(),n[1]=t.normal.clone(),n[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,r=this.faces.length;e<r;e++){var t=this.faces[e];t.__originalFaceNormal?t.__originalFaceNormal.copy(t.normal):t.__originalFaceNormal=t.normal.clone(),t.__originalVertexNormals||(t.__originalVertexNormals=[]);for(var n=0,o=t.vertexNormals.length;n<o;n++)t.__originalVertexNormals[n]?t.__originalVertexNormals[n].copy(t.vertexNormals[n]):t.__originalVertexNormals[n]=t.vertexNormals[n].clone()}var l=new Bn;l.faces=this.faces;for(var u=0,h=this.morphTargets.length;u<h;u++){if(!this.morphNormals[u]){this.morphNormals[u]={},this.morphNormals[u].faceNormals=[],this.morphNormals[u].vertexNormals=[];for(var p=this.morphNormals[u].faceNormals,v=this.morphNormals[u].vertexNormals,x=0,w=this.faces.length;x<w;x++){var T=new V,S={a:new V,b:new V,c:new V};p.push(T),v.push(S)}}var C=this.morphNormals[u];l.vertices=this.morphTargets[u].vertices,l.computeFaceNormals(),l.computeVertexNormals();for(var P=0,A=this.faces.length;P<A;P++){var O=this.faces[P],H=C.faceNormals[P],k=C.vertexNormals[P];H.copy(O.normal),k.a.copy(O.vertexNormals[0]),k.b.copy(O.vertexNormals[1]),k.c.copy(O.vertexNormals[2])}}for(var B=0,G=this.faces.length;B<G;B++){var Z=this.faces[B];Z.normal=Z.__originalFaceNormal,Z.vertexNormals=Z.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Kr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,r,t){if(e&&e.isGeometry){var n,o=this.vertices.length,l=this.vertices,u=e.vertices,h=this.faces,p=e.faces,v=this.colors,x=e.colors;t===void 0&&(t=0),r!==void 0&&(n=new Mn().getNormalMatrix(r));for(var w=0,T=u.length;w<T;w++){var S=u[w].clone();r!==void 0&&S.applyMatrix4(r),l.push(S)}for(var C=0,P=x.length;C<P;C++)v.push(x[C].clone());for(var A=0,O=p.length;A<O;A++){var H=p[A],k=void 0,B=void 0,G=H.vertexNormals,Z=H.vertexColors,q=new xl(H.a+o,H.b+o,H.c+o);q.normal.copy(H.normal),n!==void 0&&q.normal.applyMatrix3(n).normalize();for(var ie=0,ee=G.length;ie<ee;ie++)k=G[ie].clone(),n!==void 0&&k.applyMatrix3(n).normalize(),q.vertexNormals.push(k);q.color.copy(H.color);for(var se=0,ce=Z.length;se<ce;se++)B=Z[se],q.vertexColors.push(B.clone());q.materialIndex=H.materialIndex+t,h.push(q)}for(var J=0,Se=e.faceVertexUvs.length;J<Se;J++){var Me=e.faceVertexUvs[J];this.faceVertexUvs[J]===void 0&&(this.faceVertexUvs[J]=[]);for(var ve=0,Ne=Me.length;ve<Ne;ve++){for(var $e=Me[ve],we=[],Le=0,Ee=$e.length;Le<Ee;Le++)we.push($e[Le].clone());this.faceVertexUvs[J].push(we)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e={},r=[],t=[],n=Math.pow(10,4),o=0,l=this.vertices.length;o<l;o++){var u=this.vertices[o],h=Math.round(u.x*n)+"_"+Math.round(u.y*n)+"_"+Math.round(u.z*n);e[h]===void 0?(e[h]=o,r.push(this.vertices[o]),t[o]=r.length-1):t[o]=t[e[h]]}for(var p=[],v=0,x=this.faces.length;v<x;v++){var w=this.faces[v];w.a=t[w.a],w.b=t[w.b],w.c=t[w.c];for(var T=[w.a,w.b,w.c],S=0;S<3;S++)if(T[S]===T[(S+1)%3]){p.push(v);break}}for(var C=p.length-1;C>=0;C--){var P=p[C];this.faces.splice(P,1);for(var A=0,O=this.faceVertexUvs.length;A<O;A++)this.faceVertexUvs[A].splice(P,1)}var H=this.vertices.length-r.length;return this.vertices=r,H},setFromPoints:function(e){this.vertices=[];for(var r=0,t=e.length;r<t;r++){var n=e[r];this.vertices.push(new V(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,r=e.length,t=0;t<r;t++)e[t]._id=t;e.sort(function(v,x){return v.materialIndex-x.materialIndex});var n,o,l=this.faceVertexUvs[0],u=this.faceVertexUvs[1];l&&l.length===r&&(n=[]),u&&u.length===r&&(o=[]);for(var h=0;h<r;h++){var p=e[h]._id;n&&n.push(l[p]),o&&o.push(u[p])}n&&(this.faceVertexUvs[0]=n),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var r=this.parameters;for(var t in r)r[t]!==void 0&&(e[t]=r[t]);return e}for(var n=[],o=0;o<this.vertices.length;o++){var l=this.vertices[o];n.push(l.x,l.y,l.z)}for(var u=[],h=[],p={},v=[],x={},w=[],T={},S=0;S<this.faces.length;S++){var C=this.faces[S],P=this.faceVertexUvs[0][S]!==void 0,A=C.normal.length()>0,O=C.vertexNormals.length>0,H=C.color.r!==1||C.color.g!==1||C.color.b!==1,k=C.vertexColors.length>0,B=0;if(B=ie(B,0,0),B=ie(B,1,!0),B=ie(B,2,!1),B=ie(B,3,P),B=ie(B,4,A),B=ie(B,5,O),B=ie(B,6,H),B=ie(B,7,k),u.push(B),u.push(C.a,C.b,C.c),u.push(C.materialIndex),P){var G=this.faceVertexUvs[0][S];u.push(ce(G[0]),ce(G[1]),ce(G[2]))}if(A&&u.push(ee(C.normal)),O){var Z=C.vertexNormals;u.push(ee(Z[0]),ee(Z[1]),ee(Z[2]))}if(H&&u.push(se(C.color)),k){var q=C.vertexColors;u.push(se(q[0]),se(q[1]),se(q[2]))}}function ie(J,Se,Me){return Me?J|1<<Se:J&~(1<<Se)}function ee(J){var Se=J.x.toString()+J.y.toString()+J.z.toString();return p[Se]!==void 0||(p[Se]=h.length/3,h.push(J.x,J.y,J.z)),p[Se]}function se(J){var Se=J.r.toString()+J.g.toString()+J.b.toString();return x[Se]!==void 0||(x[Se]=v.length,v.push(J.getHex())),x[Se]}function ce(J){var Se=J.x.toString()+J.y.toString();return T[Se]!==void 0||(T[Se]=w.length/2,w.push(J.x,J.y)),T[Se]}return e.data={},e.data.vertices=n,e.data.normals=h,v.length>0&&(e.data.colors=v),w.length>0&&(e.data.uvs=[w]),e.data.faces=u,e},clone:function(){return new Bn().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var r=e.vertices,t=0,n=r.length;t<n;t++)this.vertices.push(r[t].clone());for(var o=e.colors,l=0,u=o.length;l<u;l++)this.colors.push(o[l].clone());for(var h=e.faces,p=0,v=h.length;p<v;p++)this.faces.push(h[p].clone());for(var x=0,w=e.faceVertexUvs.length;x<w;x++){var T=e.faceVertexUvs[x];this.faceVertexUvs[x]===void 0&&(this.faceVertexUvs[x]=[]);for(var S=0,C=T.length;S<C;S++){for(var P=T[S],A=[],O=0,H=P.length;O<H;O++){var k=P[O];A.push(k.clone())}this.faceVertexUvs[x].push(A)}}for(var B=e.morphTargets,G=0,Z=B.length;G<Z;G++){var q={};if(q.name=B[G].name,B[G].vertices!==void 0){q.vertices=[];for(var ie=0,ee=B[G].vertices.length;ie<ee;ie++)q.vertices.push(B[G].vertices[ie].clone())}if(B[G].normals!==void 0){q.normals=[];for(var se=0,ce=B[G].normals.length;se<ce;se++)q.normals.push(B[G].normals[se].clone())}this.morphTargets.push(q)}for(var J=e.morphNormals,Se=0,Me=J.length;Se<Me;Se++){var ve={};if(J[Se].vertexNormals!==void 0){ve.vertexNormals=[];for(var Ne=0,$e=J[Se].vertexNormals.length;Ne<$e;Ne++){var we=J[Se].vertexNormals[Ne],Le={};Le.a=we.a.clone(),Le.b=we.b.clone(),Le.c=we.c.clone(),ve.vertexNormals.push(Le)}}if(J[Se].faceNormals!==void 0){ve.faceNormals=[];for(var Ee=0,We=J[Se].faceNormals.length;Ee<We;Ee++)ve.faceNormals.push(J[Se].faceNormals[Ee].clone())}this.morphNormals.push(ve)}for(var bt=e.skinWeights,Ht=0,te=bt.length;Ht<te;Ht++)this.skinWeights.push(bt[Ht].clone());for(var K=e.skinIndices,Pe=0,_e=K.length;Pe<_e;Pe++)this.skinIndices.push(K[Pe].clone());for(var ke=e.lineDistances,re=0,qe=ke.length;re<qe;re++)this.lineDistances.push(ke[re]);var et=e.boundingBox;et!==null&&(this.boundingBox=et.clone());var ut=e.boundingSphere;return ut!==null&&(this.boundingSphere=ut.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var $u=function(e){function r(t,n,o,l,u,h){var p;return(p=e.call(this)||this).type="BoxGeometry",p.parameters={width:t,height:n,depth:o,widthSegments:l,heightSegments:u,depthSegments:h},p.fromBufferGeometry(new Ru(t,n,o,l,u,h)),p.mergeVertices(),p}return Ve(r,e),r}(Bn),er=function(e){function r(t,n,o,l){var u;(u=e.call(this)||this).type="CircleBufferGeometry",u.parameters={radius:t,segments:n,thetaStart:o,thetaLength:l},t=t||1,n=n!==void 0?Math.max(3,n):8,o=o!==void 0?o:0,l=l!==void 0?l:2*Math.PI;var h=[],p=[],v=[],x=[],w=new V,T=new Ae;p.push(0,0,0),v.push(0,0,1),x.push(.5,.5);for(var S=0,C=3;S<=n;S++,C+=3){var P=o+S/n*l;w.x=t*Math.cos(P),w.y=t*Math.sin(P),p.push(w.x,w.y,w.z),v.push(0,0,1),T.x=(p[C]/t+1)/2,T.y=(p[C+1]/t+1)/2,x.push(T.x,T.y)}for(var A=1;A<=n;A++)h.push(A,A+1,0);return u.setIndex(h),u.setAttribute("position",new tt(p,3)),u.setAttribute("normal",new tt(v,3)),u.setAttribute("uv",new tt(x,2)),u}return Ve(r,e),r}(kt),qu=function(e){function r(t,n,o,l){var u;return(u=e.call(this)||this).type="CircleGeometry",u.parameters={radius:t,segments:n,thetaStart:o,thetaLength:l},u.fromBufferGeometry(new er(t,n,o,l)),u.mergeVertices(),u}return Ve(r,e),r}(Bn),qs=function(e){function r(t,n,o,l,u,h,p,v){var x;(x=e.call(this)||this).type="CylinderBufferGeometry",x.parameters={radiusTop:t,radiusBottom:n,height:o,radialSegments:l,heightSegments:u,openEnded:h,thetaStart:p,thetaLength:v};var w=Ft(x);t=t!==void 0?t:1,n=n!==void 0?n:1,o=o||1,l=Math.floor(l)||8,u=Math.floor(u)||1,h=h!==void 0&&h,p=p!==void 0?p:0,v=v!==void 0?v:2*Math.PI;var T=[],S=[],C=[],P=[],A=0,O=[],H=o/2,k=0;function B(G){for(var Z=A,q=new Ae,ie=new V,ee=0,se=G===!0?t:n,ce=G===!0?1:-1,J=1;J<=l;J++)S.push(0,H*ce,0),C.push(0,ce,0),P.push(.5,.5),A++;for(var Se=A,Me=0;Me<=l;Me++){var ve=Me/l*v+p,Ne=Math.cos(ve),$e=Math.sin(ve);ie.x=se*$e,ie.y=H*ce,ie.z=se*Ne,S.push(ie.x,ie.y,ie.z),C.push(0,ce,0),q.x=.5*Ne+.5,q.y=.5*$e*ce+.5,P.push(q.x,q.y),A++}for(var we=0;we<l;we++){var Le=Z+we,Ee=Se+we;G===!0?T.push(Ee,Ee+1,Le):T.push(Ee+1,Ee,Le),ee+=3}w.addGroup(k,ee,G===!0?1:2),k+=ee}return function(){for(var G=new V,Z=new V,q=0,ie=(n-t)/o,ee=0;ee<=u;ee++){for(var se=[],ce=ee/u,J=ce*(n-t)+t,Se=0;Se<=l;Se++){var Me=Se/l,ve=Me*v+p,Ne=Math.sin(ve),$e=Math.cos(ve);Z.x=J*Ne,Z.y=-ce*o+H,Z.z=J*$e,S.push(Z.x,Z.y,Z.z),G.set(Ne,ie,$e).normalize(),C.push(G.x,G.y,G.z),P.push(Me,1-ce),se.push(A++)}O.push(se)}for(var we=0;we<l;we++)for(var Le=0;Le<u;Le++){var Ee=O[Le][we],We=O[Le+1][we],bt=O[Le+1][we+1],Ht=O[Le][we+1];T.push(Ee,We,Ht),T.push(We,bt,Ht),q+=6}w.addGroup(k,q,0),k+=q}(),h===!1&&(t>0&&B(!0),n>0&&B(!1)),x.setIndex(T),x.setAttribute("position",new tt(S,3)),x.setAttribute("normal",new tt(C,3)),x.setAttribute("uv",new tt(P,2)),x}return Ve(r,e),r}(kt),Xu=function(e){function r(t,n,o,l,u,h,p,v){var x;return(x=e.call(this)||this).type="CylinderGeometry",x.parameters={radiusTop:t,radiusBottom:n,height:o,radialSegments:l,heightSegments:u,openEnded:h,thetaStart:p,thetaLength:v},x.fromBufferGeometry(new qs(t,n,o,l,u,h,p,v)),x.mergeVertices(),x}return Ve(r,e),r}(Bn),Yu=function(e){function r(t,n,o,l,u,h,p){var v;return(v=e.call(this,0,t,n,o,l,u,h,p)||this).type="ConeGeometry",v.parameters={radius:t,height:n,radialSegments:o,heightSegments:l,openEnded:u,thetaStart:h,thetaLength:p},v}return Ve(r,e),r}(Xu),ld=function(e){function r(t,n,o,l,u,h,p){var v;return(v=e.call(this,0,t,n,o,l,u,h,p)||this).type="ConeBufferGeometry",v.parameters={radius:t,height:n,radialSegments:o,heightSegments:l,openEnded:u,thetaStart:h,thetaLength:p},v}return Ve(r,e),r}(qs),Hi=function(e){function r(t,n,o,l){var u;(u=e.call(this)||this).type="PolyhedronBufferGeometry",u.parameters={vertices:t,indices:n,radius:o,detail:l},o=o||1;var h=[],p=[];function v(P,A,O,H){for(var k=H+1,B=[],G=0;G<=k;G++){B[G]=[];for(var Z=P.clone().lerp(O,G/k),q=A.clone().lerp(O,G/k),ie=k-G,ee=0;ee<=ie;ee++)B[G][ee]=ee===0&&G===k?Z:Z.clone().lerp(q,ee/ie)}for(var se=0;se<k;se++)for(var ce=0;ce<2*(k-se)-1;ce++){var J=Math.floor(ce/2);ce%2==0?(x(B[se][J+1]),x(B[se+1][J]),x(B[se][J])):(x(B[se][J+1]),x(B[se+1][J+1]),x(B[se+1][J]))}}function x(P){h.push(P.x,P.y,P.z)}function w(P,A){var O=3*P;A.x=t[O+0],A.y=t[O+1],A.z=t[O+2]}function T(P,A,O,H){H<0&&P.x===1&&(p[A]=P.x-1),O.x===0&&O.z===0&&(p[A]=H/2/Math.PI+.5)}function S(P){return Math.atan2(P.z,-P.x)}function C(P){return Math.atan2(-P.y,Math.sqrt(P.x*P.x+P.z*P.z))}return function(P){for(var A=new V,O=new V,H=new V,k=0;k<n.length;k+=3)w(n[k+0],A),w(n[k+1],O),w(n[k+2],H),v(A,O,H,P)}(l=l||0),function(P){for(var A=new V,O=0;O<h.length;O+=3)A.x=h[O+0],A.y=h[O+1],A.z=h[O+2],A.normalize().multiplyScalar(P),h[O+0]=A.x,h[O+1]=A.y,h[O+2]=A.z}(o),function(){for(var P=new V,A=0;A<h.length;A+=3){P.x=h[A+0],P.y=h[A+1],P.z=h[A+2];var O=S(P)/2/Math.PI+.5,H=C(P)/Math.PI+.5;p.push(O,1-H)}(function(){for(var k=new V,B=new V,G=new V,Z=new V,q=new Ae,ie=new Ae,ee=new Ae,se=0,ce=0;se<h.length;se+=9,ce+=6){k.set(h[se+0],h[se+1],h[se+2]),B.set(h[se+3],h[se+4],h[se+5]),G.set(h[se+6],h[se+7],h[se+8]),q.set(p[ce+0],p[ce+1]),ie.set(p[ce+2],p[ce+3]),ee.set(p[ce+4],p[ce+5]),Z.copy(k).add(B).add(G).divideScalar(3);var J=S(Z);T(q,ce+0,k,J),T(ie,ce+2,B,J),T(ee,ce+4,G,J)}})(),function(){for(var k=0;k<p.length;k+=6){var B=p[k+0],G=p[k+2],Z=p[k+4],q=Math.max(B,G,Z),ie=Math.min(B,G,Z);q>.9&&ie<.1&&(B<.2&&(p[k+0]+=1),G<.2&&(p[k+2]+=1),Z<.2&&(p[k+4]+=1))}}()}(),u.setAttribute("position",new tt(h,3)),u.setAttribute("normal",new tt(h.slice(),3)),u.setAttribute("uv",new tt(p,2)),l===0?u.computeVertexNormals():u.normalizeNormals(),u}return Ve(r,e),r}(kt),tr=function(e){function r(t,n){var o,l=(1+Math.sqrt(5))/2,u=1/l,h=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-u,-l,0,-u,l,0,u,-l,0,u,l,-u,-l,0,-u,l,0,u,-l,0,u,l,0,-l,0,-u,l,0,-u,-l,0,u,l,0,u];return(o=e.call(this,h,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,n)||this).type="DodecahedronBufferGeometry",o.parameters={radius:t,detail:n},o}return Ve(r,e),r}(Hi),Rr=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="DodecahedronGeometry",o.parameters={radius:t,detail:n},o.fromBufferGeometry(new tr(t,n)),o.mergeVertices(),o}return Ve(r,e),r}(Bn),vr=new V,Xs=new V,Ys=new V,Wa=new Ir,Ff=function(e){function r(t,n){var o;(o=e.call(this)||this).type="EdgesGeometry",o.parameters={thresholdAngle:n},n=n!==void 0?n:1,t.isGeometry&&(t=new kt().fromGeometry(t));for(var l=Math.pow(10,4),u=Math.cos(Ct.DEG2RAD*n),h=t.getIndex(),p=t.getAttribute("position"),v=h?h.count:p.count,x=[0,0,0],w=["a","b","c"],T=new Array(3),S={},C=[],P=0;P<v;P+=3){h?(x[0]=h.getX(P),x[1]=h.getX(P+1),x[2]=h.getX(P+2)):(x[0]=P,x[1]=P+1,x[2]=P+2);var A=Wa.a,O=Wa.b,H=Wa.c;if(A.fromBufferAttribute(p,x[0]),O.fromBufferAttribute(p,x[1]),H.fromBufferAttribute(p,x[2]),Wa.getNormal(Ys),T[0]=Math.round(A.x*l)+","+Math.round(A.y*l)+","+Math.round(A.z*l),T[1]=Math.round(O.x*l)+","+Math.round(O.y*l)+","+Math.round(O.z*l),T[2]=Math.round(H.x*l)+","+Math.round(H.y*l)+","+Math.round(H.z*l),T[0]!==T[1]&&T[1]!==T[2]&&T[2]!==T[0])for(var k=0;k<3;k++){var B=(k+1)%3,G=T[k],Z=T[B],q=Wa[w[k]],ie=Wa[w[B]],ee=G+"_"+Z,se=Z+"_"+G;se in S&&S[se]?(Ys.dot(S[se].normal)<=u&&(C.push(q.x,q.y,q.z),C.push(ie.x,ie.y,ie.z)),S[se]=null):ee in S||(S[ee]={index0:x[k],index1:x[B],normal:Ys.clone()})}}for(var ce in S)if(S[ce]){var J=S[ce],Se=J.index0,Me=J.index1;vr.fromBufferAttribute(p,Se),Xs.fromBufferAttribute(p,Me),C.push(vr.x,vr.y,vr.z),C.push(Xs.x,Xs.y,Xs.z)}return o.setAttribute("position",new tt(C,3)),o}return Ve(r,e),r}(kt),ii=function(e,r,t){t=t||2;var n,o,l,u,h,p,v,x=r.length,w=x?r[0]*t:e.length,T=ud(e,0,w,t,!0),S=[];if(!T||T.next===T.prev)return S;if(x&&(T=function(P,A,O,H){var k,B,G,Z=[];for(k=0,B=A.length;k<B;k++)(G=ud(P,A[k]*H,k<B-1?A[k+1]*H:P.length,H,!1))===G.next&&(G.steiner=!0),Z.push(mp(G));for(Z.sort(Uf),k=0;k<Z.length;k++)hp(Z[k],O),O=$a(O,O.next);return O}(e,r,T,t)),e.length>80*t){n=l=e[0],o=u=e[1];for(var C=t;C<w;C+=t)(h=e[C])<n&&(n=h),(p=e[C+1])<o&&(o=p),h>l&&(l=h),p>u&&(u=p);v=(v=Math.max(l-n,u-o))!==0?1/v:0}return Zs(T,S,t,n,o,v),S};function ud(e,r,t,n,o){var l,u;if(o===function(h,p,v,x){for(var w=0,T=p,S=v-x;T<v;T+=x)w+=(h[S]-h[T])*(h[T+1]+h[S+1]),S=T;return w}(e,r,t,n)>0)for(l=r;l<t;l+=n)u=dd(l,e[l],e[l+1],u);else for(l=t-n;l>=r;l-=n)u=dd(l,e[l],e[l+1],u);return u&&Ju(u,u.next)&&($l(u),u=u.next),u}function $a(e,r){if(!e)return e;r||(r=e);var t,n=e;do if(t=!1,n.steiner||!Ju(n,n.next)&&nr(n.prev,n,n.next)!==0)n=n.next;else{if($l(n),(n=r=n.prev)===n.next)break;t=!0}while(t||n!==r);return r}function Zs(e,r,t,n,o,l,u){if(e){!u&&l&&function(x,w,T,S){var C=x;do C.z===null&&(C.z=cd(C.x,C.y,w,T,S)),C.prevZ=C.prev,C.nextZ=C.next,C=C.next;while(C!==x);C.prevZ.nextZ=null,C.prevZ=null,function(P){var A,O,H,k,B,G,Z,q,ie=1;do{for(O=P,P=null,B=null,G=0;O;){for(G++,H=O,Z=0,A=0;A<ie&&(Z++,H=H.nextZ);A++);for(q=ie;Z>0||q>0&&H;)Z!==0&&(q===0||!H||O.z<=H.z)?(k=O,O=O.nextZ,Z--):(k=H,H=H.nextZ,q--),B?B.nextZ=k:P=k,k.prevZ=B,B=k;O=H}B.nextZ=null,ie*=2}while(G>1)}(C)}(e,n,o,l);for(var h,p,v=e;e.prev!==e.next;)if(h=e.prev,p=e.next,l?ia(e,n,o,l):qa(e))r.push(h.i/t),r.push(e.i/t),r.push(p.i/t),$l(e),e=p.next,v=p.next;else if((e=p)===v){u?u===1?Zs(e=Zu($a(e),r,t),r,t,n,o,l,2):u===2&&Hf(e,r,t,n,o,l):Zs($a(e),r,t,n,o,l,1);break}}}function qa(e){var r=e.prev,t=e,n=e.next;if(nr(r,t,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(Js(r.x,r.y,t.x,t.y,n.x,n.y,o.x,o.y)&&nr(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function ia(e,r,t,n){var o=e.prev,l=e,u=e.next;if(nr(o,l,u)>=0)return!1;for(var h=o.x<l.x?o.x<u.x?o.x:u.x:l.x<u.x?l.x:u.x,p=o.y<l.y?o.y<u.y?o.y:u.y:l.y<u.y?l.y:u.y,v=o.x>l.x?o.x>u.x?o.x:u.x:l.x>u.x?l.x:u.x,x=o.y>l.y?o.y>u.y?o.y:u.y:l.y>u.y?l.y:u.y,w=cd(h,p,r,t,n),T=cd(v,x,r,t,n),S=e.prevZ,C=e.nextZ;S&&S.z>=w&&C&&C.z<=T;){if(S!==e.prev&&S!==e.next&&Js(o.x,o.y,l.x,l.y,u.x,u.y,S.x,S.y)&&nr(S.prev,S,S.next)>=0||(S=S.prevZ,C!==e.prev&&C!==e.next&&Js(o.x,o.y,l.x,l.y,u.x,u.y,C.x,C.y)&&nr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=w;){if(S!==e.prev&&S!==e.next&&Js(o.x,o.y,l.x,l.y,u.x,u.y,S.x,S.y)&&nr(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=T;){if(C!==e.prev&&C!==e.next&&Js(o.x,o.y,l.x,l.y,u.x,u.y,C.x,C.y)&&nr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Zu(e,r,t){var n=e;do{var o=n.prev,l=n.next.next;!Ju(o,l)&&Wl(o,n,n.next,l)&&$o(o,l)&&$o(l,o)&&(r.push(o.i/t),r.push(n.i/t),r.push(l.i/t),$l(n),$l(n.next),n=e=l),n=n.next}while(n!==e);return $a(n)}function Hf(e,r,t,n,o,l){var u=e;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&gp(u,h)){var p=Gf(u,h);return u=$a(u,u.next),p=$a(p,p.next),Zs(u,r,t,n,o,l),void Zs(p,r,t,n,o,l)}h=h.next}u=u.next}while(u!==e)}function Uf(e,r){return e.x-r.x}function hp(e,r){if(r=function(n,o){var l,u=o,h=n.x,p=n.y,v=-1/0;do{if(p<=u.y&&p>=u.next.y&&u.next.y!==u.y){var x=u.x+(p-u.y)*(u.next.x-u.x)/(u.next.y-u.y);if(x<=h&&x>v){if(v=x,x===h){if(p===u.y)return u;if(p===u.next.y)return u.next}l=u.x<u.next.x?u:u.next}}u=u.next}while(u!==o);if(!l)return null;if(h===v)return l;var w,T=l,S=l.x,C=l.y,P=1/0;u=l;do h>=u.x&&u.x>=S&&h!==u.x&&Js(p<C?h:v,p,S,C,p<C?v:h,p,u.x,u.y)&&(w=Math.abs(p-u.y)/(h-u.x),$o(u,n)&&(w<P||w===P&&(u.x>l.x||u.x===l.x&&pp(l,u)))&&(l=u,P=w)),u=u.next;while(u!==T);return l}(e,r)){var t=Gf(r,e);$a(r,r.next),$a(t,t.next)}}function pp(e,r){return nr(e.prev,e,r.prev)<0&&nr(r.next,e,e.next)<0}function cd(e,r,t,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-n)*o)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function mp(e){var r=e,t=e;do(r.x<t.x||r.x===t.x&&r.y<t.y)&&(t=r),r=r.next;while(r!==e);return t}function Js(e,r,t,n,o,l,u,h){return(o-u)*(r-h)-(e-u)*(l-h)>=0&&(e-u)*(n-h)-(t-u)*(r-h)>=0&&(t-u)*(l-h)-(o-u)*(n-h)>=0}function gp(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!function(t,n){var o=t;do{if(o.i!==t.i&&o.next.i!==t.i&&o.i!==n.i&&o.next.i!==n.i&&Wl(o,o.next,t,n))return!0;o=o.next}while(o!==t);return!1}(e,r)&&($o(e,r)&&$o(r,e)&&function(t,n){var o=t,l=!1,u=(t.x+n.x)/2,h=(t.y+n.y)/2;do o.y>h!=o.next.y>h&&o.next.y!==o.y&&u<(o.next.x-o.x)*(h-o.y)/(o.next.y-o.y)+o.x&&(l=!l),o=o.next;while(o!==t);return l}(e,r)&&(nr(e.prev,e,r.prev)||nr(e,r.prev,r))||Ju(e,r)&&nr(e.prev,e,e.next)>0&&nr(r.prev,r,r.next)>0)}function nr(e,r,t){return(r.y-e.y)*(t.x-r.x)-(r.x-e.x)*(t.y-r.y)}function Ju(e,r){return e.x===r.x&&e.y===r.y}function Wl(e,r,t,n){var o=Qs(nr(e,r,t)),l=Qs(nr(e,r,n)),u=Qs(nr(t,n,e)),h=Qs(nr(t,n,r));return o!==l&&u!==h||!(o!==0||!Qu(e,t,r))||!(l!==0||!Qu(e,n,r))||!(u!==0||!Qu(t,e,n))||!(h!==0||!Qu(t,r,n))}function Qu(e,r,t){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}function Qs(e){return e>0?1:e<0?-1:0}function $o(e,r){return nr(e.prev,e,e.next)<0?nr(e,r,e.next)>=0&&nr(e,e.prev,r)>=0:nr(e,r,e.prev)<0||nr(e,e.next,r)<0}function Gf(e,r){var t=new fd(e.i,e.x,e.y),n=new fd(r.i,r.x,r.y),o=e.next,l=r.prev;return e.next=r,r.prev=e,t.next=o,o.prev=t,n.next=t,t.prev=n,l.next=n,n.prev=l,n}function dd(e,r,t,n){var o=new fd(e,r,t);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function $l(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function fd(e,r,t){this.i=e,this.x=r,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Xa={area:function(e){for(var r=e.length,t=0,n=r-1,o=0;o<r;n=o++)t+=e[n].x*e[o].y-e[o].x*e[n].y;return .5*t},isClockWise:function(e){return Xa.area(e)<0},triangulateShape:function(e,r){var t=[],n=[],o=[];jf(e),hd(t,e);var l=e.length;r.forEach(jf);for(var u=0;u<r.length;u++)n.push(l),l+=r[u].length,hd(t,r[u]);for(var h=ii(t,n),p=0;p<h.length;p+=3)o.push(h.slice(p,p+3));return o}};function jf(e){var r=e.length;r>2&&e[r-1].equals(e[0])&&e.pop()}function hd(e,r){for(var t=0;t<r.length;t++)e.push(r[t].x),e.push(r[t].y)}var ql=function(e){function r(t,n){var o;(o=e.call(this)||this).type="ExtrudeBufferGeometry",o.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];for(var l=Ft(o),u=[],h=[],p=0,v=t.length;p<v;p++)x(t[p]);function x(w){var T=[],S=n.curveSegments!==void 0?n.curveSegments:12,C=n.steps!==void 0?n.steps:1,P=n.depth!==void 0?n.depth:100,A=n.bevelEnabled===void 0||n.bevelEnabled,O=n.bevelThickness!==void 0?n.bevelThickness:6,H=n.bevelSize!==void 0?n.bevelSize:O-2,k=n.bevelOffset!==void 0?n.bevelOffset:0,B=n.bevelSegments!==void 0?n.bevelSegments:3,G=n.extrudePath,Z=n.UVGenerator!==void 0?n.UVGenerator:vp;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),P=n.amount);var q,ie,ee,se,ce,J=!1;G&&(q=G.getSpacedPoints(C),J=!0,A=!1,ie=G.computeFrenetFrames(C,!1),ee=new V,se=new V,ce=new V),A||(B=0,O=0,H=0,k=0);var Se=w.extractPoints(S),Me=Se.shape,ve=Se.holes;if(!Xa.isClockWise(Me)){Me=Me.reverse();for(var Ne=0,$e=ve.length;Ne<$e;Ne++){var we=ve[Ne];Xa.isClockWise(we)&&(ve[Ne]=we.reverse())}}for(var Le=Xa.triangulateShape(Me,ve),Ee=Me,We=0,bt=ve.length;We<bt;We++){var Ht=ve[We];Me=Me.concat(Ht)}function te(Zt,yn,Nn){return yn||console.error("THREE.ExtrudeGeometry: vec does not exist"),yn.clone().multiplyScalar(Nn).add(Zt)}var K=Me.length,Pe=Le.length;function _e(Zt,yn,Nn){var xn,On,Dn,Vr=Zt.x-yn.x,oi=Zt.y-yn.y,$i=Nn.x-Zt.x,Eo=Nn.y-Zt.y,xc=Vr*Vr+oi*oi,Xx=Vr*Eo-oi*$i;if(Math.abs(Xx)>Number.EPSILON){var Iv=Math.sqrt(xc),kv=Math.sqrt($i*$i+Eo*Eo),zv=yn.x-oi/Iv,Bv=yn.y+Vr/Iv,Fv=((Nn.x-Eo/kv-zv)*Eo-(Nn.y+$i/kv-Bv)*$i)/(Vr*Eo-oi*$i),Hv=(xn=zv+Vr*Fv-Zt.x)*xn+(On=Bv+oi*Fv-Zt.y)*On;if(Hv<=2)return new Ae(xn,On);Dn=Math.sqrt(Hv/2)}else{var kp=!1;Vr>Number.EPSILON?$i>Number.EPSILON&&(kp=!0):Vr<-Number.EPSILON?$i<-Number.EPSILON&&(kp=!0):Math.sign(oi)===Math.sign(Eo)&&(kp=!0),kp?(xn=-oi,On=Vr,Dn=Math.sqrt(xc)):(xn=Vr,On=oi,Dn=Math.sqrt(xc/2))}return new Ae(xn/Dn,On/Dn)}for(var ke=[],re=0,qe=Ee.length,et=qe-1,ut=re+1;re<qe;re++,et++,ut++)et===qe&&(et=0),ut===qe&&(ut=0),ke[re]=_e(Ee[re],Ee[et],Ee[ut]);for(var Ke,St=[],$t=ke.concat(),An=0,Fn=ve.length;An<Fn;An++){var tn=ve[An];Ke=[];for(var Ln=0,zn=tn.length,Wi=zn-1,Zr=Ln+1;Ln<zn;Ln++,Wi++,Zr++)Wi===zn&&(Wi=0),Zr===zn&&(Zr=0),Ke[Ln]=_e(tn[Ln],tn[Wi],tn[Zr]);St.push(Ke),$t=$t.concat(Ke)}for(var Jr=0;Jr<B;Jr++){for(var bi=Jr/B,jr=O*Math.cos(bi*Math.PI/2),rt=H*Math.sin(bi*Math.PI/2)+k,al=0,ng=Ee.length;al<ng;al++){var kd=te(Ee[al],ke[al],rt);Tt(kd.x,kd.y,-jr)}for(var gc=0,os=ve.length;gc<os;gc++){var hh=ve[gc];Ke=St[gc];for(var vc=0,Ip=hh.length;vc<Ip;vc++){var ph=te(hh[vc],Ke[vc],rt);Tt(ph.x,ph.y,-jr)}}}for(var mh=H+k,ol=0;ol<K;ol++){var ss=A?te(Me[ol],$t[ol],mh):Me[ol];J?(se.copy(ie.normals[0]).multiplyScalar(ss.x),ee.copy(ie.binormals[0]).multiplyScalar(ss.y),ce.copy(q[0]).add(se).add(ee),Tt(ce.x,ce.y,ce.z)):Tt(ss.x,ss.y,0)}for(var sl=1;sl<=C;sl++)for(var hu=0;hu<K;hu++){var yc=A?te(Me[hu],$t[hu],mh):Me[hu];J?(se.copy(ie.normals[sl]).multiplyScalar(yc.x),ee.copy(ie.binormals[sl]).multiplyScalar(yc.y),ce.copy(q[sl]).add(se).add(ee),Tt(ce.x,ce.y,ce.z)):Tt(yc.x,yc.y,P/C*sl)}for(var ls=B-1;ls>=0;ls--){for(var gh=ls/B,Q=O*Math.cos(gh*Math.PI/2),Ie=H*Math.sin(gh*Math.PI/2)+k,be=0,Fe=Ee.length;be<Fe;be++){var at=te(Ee[be],ke[be],Ie);Tt(at.x,at.y,P+Q)}for(var dn=0,_n=ve.length;dn<_n;dn++){var Cn=ve[dn];Ke=St[dn];for(var Qt=0,pr=Cn.length;Qt<pr;Qt++){var Pr=te(Cn[Qt],Ke[Qt],Ie);J?Tt(Pr.x,Pr.y+q[C-1].y,q[C-1].x+Q):Tt(Pr.x,Pr.y,P+Q)}}}function Pn(Zt,yn){for(var Nn=Zt.length;--Nn>=0;){var xn=Nn,On=Nn-1;On<0&&(On=Zt.length-1);for(var Dn=0,Vr=C+2*B;Dn<Vr;Dn++){var oi=K*Dn,$i=K*(Dn+1);Or(yn+xn+oi,yn+On+oi,yn+On+$i,yn+xn+$i)}}}function Tt(Zt,yn,Nn){T.push(Zt),T.push(yn),T.push(Nn)}function Li(Zt,yn,Nn){sr(Zt),sr(yn),sr(Nn);var xn=u.length/3,On=Z.generateTopUV(l,u,xn-3,xn-2,xn-1);Ai(On[0]),Ai(On[1]),Ai(On[2])}function Or(Zt,yn,Nn,xn){sr(Zt),sr(yn),sr(xn),sr(yn),sr(Nn),sr(xn);var On=u.length/3,Dn=Z.generateSideWallUV(l,u,On-6,On-3,On-2,On-1);Ai(Dn[0]),Ai(Dn[1]),Ai(Dn[3]),Ai(Dn[1]),Ai(Dn[2]),Ai(Dn[3])}function sr(Zt){u.push(T[3*Zt+0]),u.push(T[3*Zt+1]),u.push(T[3*Zt+2])}function Ai(Zt){h.push(Zt.x),h.push(Zt.y)}(function(){var Zt=u.length/3;if(A){for(var yn=0,Nn=K*yn,xn=0;xn<Pe;xn++){var On=Le[xn];Li(On[2]+Nn,On[1]+Nn,On[0]+Nn)}Nn=K*(yn=C+2*B);for(var Dn=0;Dn<Pe;Dn++){var Vr=Le[Dn];Li(Vr[0]+Nn,Vr[1]+Nn,Vr[2]+Nn)}}else{for(var oi=0;oi<Pe;oi++){var $i=Le[oi];Li($i[2],$i[1],$i[0])}for(var Eo=0;Eo<Pe;Eo++){var xc=Le[Eo];Li(xc[0]+K*C,xc[1]+K*C,xc[2]+K*C)}}l.addGroup(Zt,u.length/3-Zt,0)})(),function(){var Zt=u.length/3,yn=0;Pn(Ee,yn),yn+=Ee.length;for(var Nn=0,xn=ve.length;Nn<xn;Nn++){var On=ve[Nn];Pn(On,yn),yn+=On.length}l.addGroup(Zt,u.length/3-Zt,1)}()}return o.setAttribute("position",new tt(u,3)),o.setAttribute("uv",new tt(h,2)),o.computeVertexNormals(),o}return Ve(r,e),r.prototype.toJSON=function(){var t=kt.prototype.toJSON.call(this);return function(n,o,l){if(l.shapes=[],Array.isArray(n))for(var u=0,h=n.length;u<h;u++){var p=n[u];l.shapes.push(p.uuid)}else l.shapes.push(n.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,t)},r}(kt),vp={generateTopUV:function(e,r,t,n,o){var l=r[3*t],u=r[3*t+1],h=r[3*n],p=r[3*n+1],v=r[3*o],x=r[3*o+1];return[new Ae(l,u),new Ae(h,p),new Ae(v,x)]},generateSideWallUV:function(e,r,t,n,o,l){var u=r[3*t],h=r[3*t+1],p=r[3*t+2],v=r[3*n],x=r[3*n+1],w=r[3*n+2],T=r[3*o],S=r[3*o+1],C=r[3*o+2],P=r[3*l],A=r[3*l+1],O=r[3*l+2];return Math.abs(h-x)<.01?[new Ae(u,1-p),new Ae(v,1-w),new Ae(T,1-C),new Ae(P,1-O)]:[new Ae(h,1-p),new Ae(x,1-w),new Ae(S,1-C),new Ae(A,1-O)]}},pd=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="ExtrudeGeometry",o.parameters={shapes:t,options:n},o.fromBufferGeometry(new ql(t,n)),o.mergeVertices(),o}return Ve(r,e),r.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return function(n,o,l){if(l.shapes=[],Array.isArray(n))for(var u=0,h=n.length;u<h;u++){var p=n[u];l.shapes.push(p.uuid)}else l.shapes.push(n.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,t)},r}(Bn),Vf=function(e){function r(t,n){var o,l=(1+Math.sqrt(5))/2,u=[-1,l,0,1,l,0,-1,-l,0,1,-l,0,0,-1,l,0,1,l,0,-1,-l,0,1,-l,l,0,-1,l,0,1,-l,0,-1,-l,0,1];return(o=e.call(this,u,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,n)||this).type="IcosahedronBufferGeometry",o.parameters={radius:t,detail:n},o}return Ve(r,e),r}(Hi),Wf=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="IcosahedronGeometry",o.parameters={radius:t,detail:n},o.fromBufferGeometry(new Vf(t,n)),o.mergeVertices(),o}return Ve(r,e),r}(Bn),$f=function(e){function r(t,n,o,l){var u;(u=e.call(this)||this).type="LatheBufferGeometry",u.parameters={points:t,segments:n,phiStart:o,phiLength:l},n=Math.floor(n)||12,o=o||0,l=l||2*Math.PI,l=Ct.clamp(l,0,2*Math.PI);for(var h=[],p=[],v=[],x=1/n,w=new V,T=new Ae,S=0;S<=n;S++)for(var C=o+S*x*l,P=Math.sin(C),A=Math.cos(C),O=0;O<=t.length-1;O++)w.x=t[O].x*P,w.y=t[O].y,w.z=t[O].x*A,p.push(w.x,w.y,w.z),T.x=S/n,T.y=O/(t.length-1),v.push(T.x,T.y);for(var H=0;H<n;H++)for(var k=0;k<t.length-1;k++){var B=k+H*t.length,G=B,Z=B+t.length,q=B+t.length+1,ie=B+1;h.push(G,Z,ie),h.push(Z,q,ie)}if(u.setIndex(h),u.setAttribute("position",new tt(p,3)),u.setAttribute("uv",new tt(v,2)),u.computeVertexNormals(),l===2*Math.PI)for(var ee=u.attributes.normal.array,se=new V,ce=new V,J=new V,Se=n*t.length*3,Me=0,ve=0;Me<t.length;Me++,ve+=3)se.x=ee[ve+0],se.y=ee[ve+1],se.z=ee[ve+2],ce.x=ee[Se+ve+0],ce.y=ee[Se+ve+1],ce.z=ee[Se+ve+2],J.addVectors(se,ce).normalize(),ee[ve+0]=ee[Se+ve+0]=J.x,ee[ve+1]=ee[Se+ve+1]=J.y,ee[ve+2]=ee[Se+ve+2]=J.z;return u}return Ve(r,e),r}(kt),yp=function(e){function r(t,n,o,l){var u;return(u=e.call(this)||this).type="LatheGeometry",u.parameters={points:t,segments:n,phiStart:o,phiLength:l},u.fromBufferGeometry(new $f(t,n,o,l)),u.mergeVertices(),u}return Ve(r,e),r}(Bn),Ku=function(e){function r(t,n){var o;return(o=e.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,n)||this).type="OctahedronBufferGeometry",o.parameters={radius:t,detail:n},o}return Ve(r,e),r}(Hi),qf=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="OctahedronGeometry",o.parameters={radius:t,detail:n},o.fromBufferGeometry(new Ku(t,n)),o.mergeVertices(),o}return Ve(r,e),r}(Bn);function Ks(e,r,t){kt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:r,stacks:t};var n=[],o=[],l=[],u=[],h=1e-5,p=new V,v=new V,x=new V,w=new V,T=new V;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var S=r+1,C=0;C<=t;C++)for(var P=C/t,A=0;A<=r;A++){var O=A/r;e(O,P,v),o.push(v.x,v.y,v.z),O-h>=0?(e(O-h,P,x),w.subVectors(v,x)):(e(O+h,P,x),w.subVectors(x,v)),P-h>=0?(e(O,P-h,x),T.subVectors(v,x)):(e(O,P+h,x),T.subVectors(x,v)),p.crossVectors(w,T).normalize(),l.push(p.x,p.y,p.z),u.push(O,P)}for(var H=0;H<t;H++)for(var k=0;k<r;k++){var B=H*S+k,G=H*S+k+1,Z=(H+1)*S+k+1,q=(H+1)*S+k;n.push(B,G,q),n.push(G,Z,q)}this.setIndex(n),this.setAttribute("position",new tt(o,3)),this.setAttribute("normal",new tt(l,3)),this.setAttribute("uv",new tt(u,2))}function qo(e,r,t){Bn.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:r,stacks:t},this.fromBufferGeometry(new Ks(e,r,t)),this.mergeVertices()}Ks.prototype=Object.create(kt.prototype),Ks.prototype.constructor=Ks,qo.prototype=Object.create(Bn.prototype),qo.prototype.constructor=qo;var xp=function(e){function r(t,n,o,l){var u;return(u=e.call(this)||this).type="PlaneGeometry",u.parameters={width:t,height:n,widthSegments:o,heightSegments:l},u.fromBufferGeometry(new Cu(t,n,o,l)),u.mergeVertices(),u}return Ve(r,e),r}(Bn),wp=function(e){function r(t,n,o,l){var u;return(u=e.call(this)||this).type="PolyhedronGeometry",u.parameters={vertices:t,indices:n,radius:o,detail:l},u.fromBufferGeometry(new Hi(t,n,o,l)),u.mergeVertices(),u}return Ve(r,e),r}(Bn),Xf=function(e){function r(t,n,o,l,u,h){var p;(p=e.call(this)||this).type="RingBufferGeometry",p.parameters={innerRadius:t,outerRadius:n,thetaSegments:o,phiSegments:l,thetaStart:u,thetaLength:h},t=t||.5,n=n||1,u=u!==void 0?u:0,h=h!==void 0?h:2*Math.PI,o=o!==void 0?Math.max(3,o):8;for(var v=[],x=[],w=[],T=[],S=t,C=(n-t)/(l=l!==void 0?Math.max(1,l):1),P=new V,A=new Ae,O=0;O<=l;O++){for(var H=0;H<=o;H++){var k=u+H/o*h;P.x=S*Math.cos(k),P.y=S*Math.sin(k),x.push(P.x,P.y,P.z),w.push(0,0,1),A.x=(P.x/n+1)/2,A.y=(P.y/n+1)/2,T.push(A.x,A.y)}S+=C}for(var B=0;B<l;B++)for(var G=B*(o+1),Z=0;Z<o;Z++){var q=Z+G,ie=q,ee=q+o+1,se=q+o+2,ce=q+1;v.push(ie,ee,ce),v.push(ee,se,ce)}return p.setIndex(v),p.setAttribute("position",new tt(x,3)),p.setAttribute("normal",new tt(w,3)),p.setAttribute("uv",new tt(T,2)),p}return Ve(r,e),r}(kt),aa=function(e){function r(t,n,o,l,u,h){var p;return(p=e.call(this)||this).type="RingGeometry",p.parameters={innerRadius:t,outerRadius:n,thetaSegments:o,phiSegments:l,thetaStart:u,thetaLength:h},p.fromBufferGeometry(new Xf(t,n,o,l,u,h)),p.mergeVertices(),p}return Ve(r,e),r}(Bn),ec=function(e){function r(t,n){var o;(o=e.call(this)||this).type="ShapeBufferGeometry",o.parameters={shapes:t,curveSegments:n},n=n||12;var l=[],u=[],h=[],p=[],v=0,x=0;if(Array.isArray(t)===!1)T(t);else for(var w=0;w<t.length;w++)T(t[w]),o.addGroup(v,x,w),v+=x,x=0;function T(S){var C=u.length/3,P=S.extractPoints(n),A=P.shape,O=P.holes;Xa.isClockWise(A)===!1&&(A=A.reverse());for(var H=0,k=O.length;H<k;H++){var B=O[H];Xa.isClockWise(B)===!0&&(O[H]=B.reverse())}for(var G=Xa.triangulateShape(A,O),Z=0,q=O.length;Z<q;Z++){var ie=O[Z];A=A.concat(ie)}for(var ee=0,se=A.length;ee<se;ee++){var ce=A[ee];u.push(ce.x,ce.y,0),h.push(0,0,1),p.push(ce.x,ce.y)}for(var J=0,Se=G.length;J<Se;J++){var Me=G[J],ve=Me[0]+C,Ne=Me[1]+C,$e=Me[2]+C;l.push(ve,Ne,$e),x+=3}}return o.setIndex(l),o.setAttribute("position",new tt(u,3)),o.setAttribute("normal",new tt(h,3)),o.setAttribute("uv",new tt(p,2)),o}return Ve(r,e),r.prototype.toJSON=function(){var t=kt.prototype.toJSON.call(this);return function(n,o){if(o.shapes=[],Array.isArray(n))for(var l=0,u=n.length;l<u;l++){var h=n[l];o.shapes.push(h.uuid)}else o.shapes.push(n.uuid);return o}(this.parameters.shapes,t)},r}(kt),Xl=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),o.parameters={shapes:t,curveSegments:n},o.fromBufferGeometry(new ec(t,n)),o.mergeVertices(),o}return Ve(r,e),r.prototype.toJSON=function(){var t=Bn.prototype.toJSON.call(this);return function(n,o){if(o.shapes=[],Array.isArray(n))for(var l=0,u=n.length;l<u;l++){var h=n[l];o.shapes.push(h.uuid)}else o.shapes.push(n.uuid);return o}(this.parameters.shapes,t)},r}(Bn),tc=function(e){function r(t,n,o,l,u,h,p){var v;(v=e.call(this)||this).type="SphereBufferGeometry",v.parameters={radius:t,widthSegments:n,heightSegments:o,phiStart:l,phiLength:u,thetaStart:h,thetaLength:p},t=t||1,n=Math.max(3,Math.floor(n)||8),o=Math.max(2,Math.floor(o)||6),l=l!==void 0?l:0,u=u!==void 0?u:2*Math.PI,h=h!==void 0?h:0,p=p!==void 0?p:Math.PI;for(var x=Math.min(h+p,Math.PI),w=0,T=[],S=new V,C=new V,P=[],A=[],O=[],H=[],k=0;k<=o;k++){var B=[],G=k/o,Z=0;k==0&&h==0?Z=.5/n:k==o&&x==Math.PI&&(Z=-.5/n);for(var q=0;q<=n;q++){var ie=q/n;S.x=-t*Math.cos(l+ie*u)*Math.sin(h+G*p),S.y=t*Math.cos(h+G*p),S.z=t*Math.sin(l+ie*u)*Math.sin(h+G*p),A.push(S.x,S.y,S.z),C.copy(S).normalize(),O.push(C.x,C.y,C.z),H.push(ie+Z,1-G),B.push(w++)}T.push(B)}for(var ee=0;ee<o;ee++)for(var se=0;se<n;se++){var ce=T[ee][se+1],J=T[ee][se],Se=T[ee+1][se],Me=T[ee+1][se+1];(ee!==0||h>0)&&P.push(ce,J,Me),(ee!==o-1||x<Math.PI)&&P.push(J,Se,Me)}return v.setIndex(P),v.setAttribute("position",new tt(A,3)),v.setAttribute("normal",new tt(O,3)),v.setAttribute("uv",new tt(H,2)),v}return Ve(r,e),r}(kt),Yf=function(e){function r(t,n,o,l,u,h,p){var v;return(v=e.call(this)||this).type="SphereGeometry",v.parameters={radius:t,widthSegments:n,heightSegments:o,phiStart:l,phiLength:u,thetaStart:h,thetaLength:p},v.fromBufferGeometry(new tc(t,n,o,l,u,h,p)),v.mergeVertices(),v}return Ve(r,e),r}(Bn),md=function(e){function r(t,n){var o;return(o=e.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,n)||this).type="TetrahedronBufferGeometry",o.parameters={radius:t,detail:n},o}return Ve(r,e),r}(Hi),gd=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="TetrahedronGeometry",o.parameters={radius:t,detail:n},o.fromBufferGeometry(new md(t,n)),o.mergeVertices(),o}return Ve(r,e),r}(Bn),Xo=function(e){function r(t,n){var o,l=(n=n||{}).font;if(!l||!l.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new kt||Ft(o);var u=l.generateShapes(t,n.size);return n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),(o=e.call(this,u,n)||this).type="TextBufferGeometry",o}return Ve(r,e),r}(ql),vd=function(e){function r(t,n){var o;return(o=e.call(this)||this).type="TextGeometry",o.parameters={text:t,parameters:n},o.fromBufferGeometry(new Xo(t,n)),o.mergeVertices(),o}return Ve(r,e),r}(Bn),nc=function(e){function r(t,n,o,l,u){var h;(h=e.call(this)||this).type="TorusBufferGeometry",h.parameters={radius:t,tube:n,radialSegments:o,tubularSegments:l,arc:u},t=t||1,n=n||.4,o=Math.floor(o)||8,l=Math.floor(l)||6,u=u||2*Math.PI;for(var p=[],v=[],x=[],w=[],T=new V,S=new V,C=new V,P=0;P<=o;P++)for(var A=0;A<=l;A++){var O=A/l*u,H=P/o*Math.PI*2;S.x=(t+n*Math.cos(H))*Math.cos(O),S.y=(t+n*Math.cos(H))*Math.sin(O),S.z=n*Math.sin(H),v.push(S.x,S.y,S.z),T.x=t*Math.cos(O),T.y=t*Math.sin(O),C.subVectors(S,T).normalize(),x.push(C.x,C.y,C.z),w.push(A/l),w.push(P/o)}for(var k=1;k<=o;k++)for(var B=1;B<=l;B++){var G=(l+1)*k+B-1,Z=(l+1)*(k-1)+B-1,q=(l+1)*(k-1)+B,ie=(l+1)*k+B;p.push(G,Z,ie),p.push(Z,q,ie)}return h.setIndex(p),h.setAttribute("position",new tt(v,3)),h.setAttribute("normal",new tt(x,3)),h.setAttribute("uv",new tt(w,2)),h}return Ve(r,e),r}(kt),bp=function(e){function r(t,n,o,l,u){var h;return(h=e.call(this)||this).type="TorusGeometry",h.parameters={radius:t,tube:n,radialSegments:o,tubularSegments:l,arc:u},h.fromBufferGeometry(new nc(t,n,o,l,u)),h.mergeVertices(),h}return Ve(r,e),r}(Bn),yd=function(e){function r(t,n,o,l,u,h){var p;(p=e.call(this)||this).type="TorusKnotBufferGeometry",p.parameters={radius:t,tube:n,tubularSegments:o,radialSegments:l,p:u,q:h},t=t||1,n=n||.4,o=Math.floor(o)||64,l=Math.floor(l)||8,u=u||2,h=h||3;for(var v=[],x=[],w=[],T=[],S=new V,C=new V,P=new V,A=new V,O=new V,H=new V,k=new V,B=0;B<=o;++B){var G=B/o*u*Math.PI*2;Ne(G,u,h,t,P),Ne(G+.01,u,h,t,A),H.subVectors(A,P),k.addVectors(A,P),O.crossVectors(H,k),k.crossVectors(O,H),O.normalize(),k.normalize();for(var Z=0;Z<=l;++Z){var q=Z/l*Math.PI*2,ie=-n*Math.cos(q),ee=n*Math.sin(q);S.x=P.x+(ie*k.x+ee*O.x),S.y=P.y+(ie*k.y+ee*O.y),S.z=P.z+(ie*k.z+ee*O.z),x.push(S.x,S.y,S.z),C.subVectors(S,P).normalize(),w.push(C.x,C.y,C.z),T.push(B/o),T.push(Z/l)}}for(var se=1;se<=o;se++)for(var ce=1;ce<=l;ce++){var J=(l+1)*(se-1)+(ce-1),Se=(l+1)*se+(ce-1),Me=(l+1)*se+ce,ve=(l+1)*(se-1)+ce;v.push(J,Se,ve),v.push(Se,Me,ve)}function Ne($e,we,Le,Ee,We){var bt=Math.cos($e),Ht=Math.sin($e),te=Le/we*$e,K=Math.cos(te);We.x=Ee*(2+K)*.5*bt,We.y=Ee*(2+K)*Ht*.5,We.z=Ee*Math.sin(te)*.5}return p.setIndex(v),p.setAttribute("position",new tt(x,3)),p.setAttribute("normal",new tt(w,3)),p.setAttribute("uv",new tt(T,2)),p}return Ve(r,e),r}(kt),Zf=function(e){function r(t,n,o,l,u,h,p){var v;return(v=e.call(this)||this).type="TorusKnotGeometry",v.parameters={radius:t,tube:n,tubularSegments:o,radialSegments:l,p:u,q:h},p!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),v.fromBufferGeometry(new yd(t,n,o,l,u,h)),v.mergeVertices(),v}return Ve(r,e),r}(Bn),xd=function(e){function r(t,n,o,l,u){var h;(h=e.call(this)||this).type="TubeBufferGeometry",h.parameters={path:t,tubularSegments:n,radius:o,radialSegments:l,closed:u},n=n||64,o=o||1,l=l||8,u=u||!1;var p=t.computeFrenetFrames(n,u);h.tangents=p.tangents,h.normals=p.normals,h.binormals=p.binormals;var v=new V,x=new V,w=new Ae,T=new V,S=[],C=[],P=[],A=[];function O(H){T=t.getPointAt(H/n,T);for(var k=p.normals[H],B=p.binormals[H],G=0;G<=l;G++){var Z=G/l*Math.PI*2,q=Math.sin(Z),ie=-Math.cos(Z);x.x=ie*k.x+q*B.x,x.y=ie*k.y+q*B.y,x.z=ie*k.z+q*B.z,x.normalize(),C.push(x.x,x.y,x.z),v.x=T.x+o*x.x,v.y=T.y+o*x.y,v.z=T.z+o*x.z,S.push(v.x,v.y,v.z)}}return function(){for(var H=0;H<n;H++)O(H);O(u===!1?n:0),function(){for(var k=0;k<=n;k++)for(var B=0;B<=l;B++)w.x=k/n,w.y=B/l,P.push(w.x,w.y)}(),function(){for(var k=1;k<=n;k++)for(var B=1;B<=l;B++){var G=(l+1)*(k-1)+(B-1),Z=(l+1)*k+(B-1),q=(l+1)*k+B,ie=(l+1)*(k-1)+B;A.push(G,Z,ie),A.push(Z,q,ie)}}()}(),h.setIndex(A),h.setAttribute("position",new tt(S,3)),h.setAttribute("normal",new tt(C,3)),h.setAttribute("uv",new tt(P,2)),h}return Ve(r,e),r.prototype.toJSON=function(){var t=kt.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},r}(kt),Jf=function(e){function r(t,n,o,l,u,h){var p;(p=e.call(this)||this).type="TubeGeometry",p.parameters={path:t,tubularSegments:n,radius:o,radialSegments:l,closed:u},h!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var v=new xd(t,n,o,l,u);return p.tangents=v.tangents,p.normals=v.normals,p.binormals=v.binormals,p.fromBufferGeometry(v),p.mergeVertices(),p}return Ve(r,e),r}(Bn),wd=function(e){function r(t){var n;(n=e.call(this)||this).type="WireframeGeometry";var o=[],l=[0,0],u={},h=["a","b","c"];if(t&&t.isGeometry){for(var p=t.faces,v=0,x=p.length;v<x;v++)for(var w=p[v],T=0;T<3;T++){var S=w[h[T]],C=w[h[(T+1)%3]];l[0]=Math.min(S,C),l[1]=Math.max(S,C);var P=l[0]+","+l[1];u[P]===void 0&&(u[P]={index1:l[0],index2:l[1]})}for(var A in u){var O=u[A],H=t.vertices[O.index1];o.push(H.x,H.y,H.z),H=t.vertices[O.index2],o.push(H.x,H.y,H.z)}}else if(t&&t.isBufferGeometry){var k=new V;if(t.index!==null){var B=t.attributes.position,G=t.index,Z=t.groups;Z.length===0&&(Z=[{start:0,count:G.count,materialIndex:0}]);for(var q=0,ie=Z.length;q<ie;++q)for(var ee=Z[q],se=ee.start,ce=se,J=se+ee.count;ce<J;ce+=3)for(var Se=0;Se<3;Se++){var Me=G.getX(ce+Se),ve=G.getX(ce+(Se+1)%3);l[0]=Math.min(Me,ve),l[1]=Math.max(Me,ve);var Ne=l[0]+","+l[1];u[Ne]===void 0&&(u[Ne]={index1:l[0],index2:l[1]})}for(var $e in u){var we=u[$e];k.fromBufferAttribute(B,we.index1),o.push(k.x,k.y,k.z),k.fromBufferAttribute(B,we.index2),o.push(k.x,k.y,k.z)}}else for(var Le=t.attributes.position,Ee=0,We=Le.count/3;Ee<We;Ee++)for(var bt=0;bt<3;bt++){var Ht=3*Ee+bt;k.fromBufferAttribute(Le,Ht),o.push(k.x,k.y,k.z);var te=3*Ee+(bt+1)%3;k.fromBufferAttribute(Le,te),o.push(k.x,k.y,k.z)}}return n.setAttribute("position",new tt(o,3)),n}return Ve(r,e),r}(kt),mi=Object.freeze({__proto__:null,BoxGeometry:$u,BoxBufferGeometry:Ru,CircleGeometry:qu,CircleBufferGeometry:er,ConeGeometry:Yu,ConeBufferGeometry:ld,CylinderGeometry:Xu,CylinderBufferGeometry:qs,DodecahedronGeometry:Rr,DodecahedronBufferGeometry:tr,EdgesGeometry:Ff,ExtrudeGeometry:pd,ExtrudeBufferGeometry:ql,IcosahedronGeometry:Wf,IcosahedronBufferGeometry:Vf,LatheGeometry:yp,LatheBufferGeometry:$f,OctahedronGeometry:qf,OctahedronBufferGeometry:Ku,ParametricGeometry:qo,ParametricBufferGeometry:Ks,PlaneGeometry:xp,PlaneBufferGeometry:Cu,PolyhedronGeometry:wp,PolyhedronBufferGeometry:Hi,RingGeometry:aa,RingBufferGeometry:Xf,ShapeGeometry:Xl,ShapeBufferGeometry:ec,SphereGeometry:Yf,SphereBufferGeometry:tc,TetrahedronGeometry:gd,TetrahedronBufferGeometry:md,TextGeometry:vd,TextBufferGeometry:Xo,TorusGeometry:bp,TorusBufferGeometry:nc,TorusKnotGeometry:Zf,TorusKnotBufferGeometry:yd,TubeGeometry:Jf,TubeBufferGeometry:xd,WireframeGeometry:wd});function Cr(e){Ut.call(this),this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.setValues(e)}function ar(e){li.call(this,e),this.type="RawShaderMaterial"}function Ta(e){Ut.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function ho(e){Ta.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(r){this.reflectivity=Ct.clamp(2.5*(r-1)/(r+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function po(e){Ut.call(this),this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Yo(e){Ut.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Zo(e){Ut.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function mo(e){Ut.call(this),this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jo(e){Ut.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function go(e){$n.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Cr.prototype=Object.create(Ut.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isShadowMaterial=!0,Cr.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this},ar.prototype=Object.create(li.prototype),ar.prototype.constructor=ar,ar.prototype.isRawShaderMaterial=!0,Ta.prototype=Object.create(Ut.prototype),Ta.prototype.constructor=Ta,Ta.prototype.isMeshStandardMaterial=!0,Ta.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},ho.prototype=Object.create(Ta.prototype),ho.prototype.constructor=ho,ho.prototype.isMeshPhysicalMaterial=!0,ho.prototype.copy=function(e){return Ta.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new ht).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},po.prototype=Object.create(Ut.prototype),po.prototype.constructor=po,po.prototype.isMeshPhongMaterial=!0,po.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Yo.prototype=Object.create(Ut.prototype),Yo.prototype.constructor=Yo,Yo.prototype.isMeshToonMaterial=!0,Yo.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Zo.prototype=Object.create(Ut.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isMeshNormalMaterial=!0,Zo.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},mo.prototype=Object.create(Ut.prototype),mo.prototype.constructor=mo,mo.prototype.isMeshLambertMaterial=!0,mo.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jo.prototype=Object.create(Ut.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isMeshMatcapMaterial=!0,Jo.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},go.prototype=Object.create($n.prototype),go.prototype.constructor=go,go.prototype.isLineDashedMaterial=!0,go.prototype.copy=function(e){return $n.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var _p=Object.freeze({__proto__:null,ShadowMaterial:Cr,SpriteMaterial:_a,RawShaderMaterial:ar,ShaderMaterial:li,PointsMaterial:Fi,MeshPhysicalMaterial:ho,MeshStandardMaterial:Ta,MeshPhongMaterial:po,MeshToonMaterial:Yo,MeshNormalMaterial:Zo,MeshLambertMaterial:mo,MeshDepthMaterial:ui,MeshDistanceMaterial:rr,MeshBasicMaterial:ea,MeshMatcapMaterial:Jo,LineDashedMaterial:go,LineBasicMaterial:$n,Material:Ut}),qn={arraySlice:function(e,r,t){return qn.isTypedArray(e)?new e.constructor(e.subarray(r,t!==void 0?t:e.length)):e.slice(r,t)},convertArray:function(e,r,t){return!e||!t&&e.constructor===r?e:typeof r.BYTES_PER_ELEMENT=="number"?new r(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var r=e.length,t=new Array(r),n=0;n!==r;++n)t[n]=n;return t.sort(function(o,l){return e[o]-e[l]}),t},sortedArray:function(e,r,t){for(var n=e.length,o=new e.constructor(n),l=0,u=0;u!==n;++l)for(var h=t[l]*r,p=0;p!==r;++p)o[u++]=e[h+p];return o},flattenJSON:function(e,r,t,n){for(var o=1,l=e[0];l!==void 0&&l[n]===void 0;)l=e[o++];if(l!==void 0){var u=l[n];if(u!==void 0)if(Array.isArray(u))do(u=l[n])!==void 0&&(r.push(l.time),t.push.apply(t,u)),l=e[o++];while(l!==void 0);else if(u.toArray!==void 0)do(u=l[n])!==void 0&&(r.push(l.time),u.toArray(t,t.length)),l=e[o++];while(l!==void 0);else do(u=l[n])!==void 0&&(r.push(l.time),t.push(u)),l=e[o++];while(l!==void 0)}},subclip:function(e,r,t,n,o){o=o||30;var l=e.clone();l.name=r;for(var u=[],h=0;h<l.tracks.length;++h){for(var p=l.tracks[h],v=p.getValueSize(),x=[],w=[],T=0;T<p.times.length;++T){var S=p.times[T]*o;if(!(S<t||S>=n)){x.push(p.times[T]);for(var C=0;C<v;++C)w.push(p.values[T*v+C])}}x.length!==0&&(p.times=qn.convertArray(x,p.times.constructor),p.values=qn.convertArray(w,p.values.constructor),u.push(p))}l.tracks=u;for(var P=1/0,A=0;A<l.tracks.length;++A)P>l.tracks[A].times[0]&&(P=l.tracks[A].times[0]);for(var O=0;O<l.tracks.length;++O)l.tracks[O].shift(-1*P);return l.resetDuration(),l},makeClipAdditive:function(e,r,t,n){r===void 0&&(r=0),t===void 0&&(t=e),(n===void 0||n<=0)&&(n=30);for(var o=t.tracks.length,l=r/n,u=function(p){var v=t.tracks[p],x=v.ValueTypeName;if(x==="bool"||x==="string")return"continue";var w=e.tracks.find(function(Me){return Me.name===v.name&&Me.ValueTypeName===x});if(w===void 0)return"continue";var T=0,S=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(T=S/3);var C=0,P=w.getValueSize();w.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(C=P/3);var A=v.times.length-1,O=void 0;if(l<=v.times[0]){var H=T,k=S-T;O=qn.arraySlice(v.values,H,k)}else if(l>=v.times[A]){var B=A*S+T,G=B+S-T;O=qn.arraySlice(v.values,B,G)}else{var Z=v.createInterpolant(),q=T,ie=S-T;Z.evaluate(l),O=qn.arraySlice(Z.resultBuffer,q,ie)}x==="quaternion"&&new En().fromArray(O).normalize().conjugate().toArray(O);for(var ee=w.times.length,se=0;se<ee;++se){var ce=se*P+C;if(x==="quaternion")En.multiplyQuaternionsFlat(w.values,ce,O,0,w.values,ce);else for(var J=P-2*C,Se=0;Se<J;++Se)w.values[ce+Se]-=O[Se]}},h=0;h<o;++h)u(h);return e.blendMode=pn,e}};function gi(e,r,t,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new r.constructor(t),this.sampleValues=r,this.valueSize=t}function Yl(e,r,t,n){gi.call(this,e,r,t,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Zl(e,r,t,n){gi.call(this,e,r,t,n)}function Jl(e,r,t,n){gi.call(this,e,r,t,n)}function Lr(e,r,t,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qn.convertArray(r,this.TimeBufferType),this.values=qn.convertArray(t,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function bd(e,r,t){Lr.call(this,e,r,t)}function rc(e,r,t,n){Lr.call(this,e,r,t,n)}function Qo(e,r,t,n){Lr.call(this,e,r,t,n)}function ic(e,r,t,n){gi.call(this,e,r,t,n)}function Ko(e,r,t,n){Lr.call(this,e,r,t,n)}function oa(e,r,t,n){Lr.call(this,e,r,t,n)}function Ql(e,r,t,n){Lr.call(this,e,r,t,n)}function Ui(e,r,t,n){this.name=e,this.tracks=t,this.duration=r!==void 0?r:-1,this.blendMode=n!==void 0?n:qt,this.uuid=Ct.generateUUID(),this.duration<0&&this.resetDuration()}function Qf(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var r=function(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qo;case"vector":case"vector2":case"vector3":case"vector4":return Ql;case"color":return rc;case"quaternion":return Ko;case"bool":case"boolean":return bd;case"string":return oa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}(e.type);if(e.times===void 0){var t=[],n=[];qn.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return r.parse!==void 0?r.parse(e):new r(e.name,e.times,e.values,e.interpolation)}Object.assign(gi.prototype,{evaluate:function(e){var r=this.parameterPositions,t=this._cachedIndex,n=r[t],o=r[t-1];e:{t:{var l;n:{r:if(!(e<n)){for(var u=t+2;;){if(n===void 0){if(e<o)break r;return t=r.length,this._cachedIndex=t,this.afterEnd_(t-1,e,o)}if(t===u)break;if(o=n,e<(n=r[++t]))break t}l=r.length;break n}if(e>=o)break e;var h=r[1];e<h&&(t=2,o=h);for(var p=t-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(t===p)break;if(n=o,e>=(o=r[--t-1]))break t}l=t,t=0}for(;t<l;){var v=t+l>>>1;e<r[v]?l=v:t=v+1}if(n=r[t],(o=r[t-1])===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(n===void 0)return t=r.length,this._cachedIndex=t,this.afterEnd_(t-1,o,e)}this._cachedIndex=t,this.intervalChanged_(t,o,n)}return this.interpolate_(t,o,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var r=this.resultBuffer,t=this.sampleValues,n=this.valueSize,o=e*n,l=0;l!==n;++l)r[l]=t[o+l];return r},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(gi.prototype,{beforeStart_:gi.prototype.copySampleValue_,afterEnd_:gi.prototype.copySampleValue_}),Yl.prototype=Object.assign(Object.create(gi.prototype),{constructor:Yl,DefaultSettings_:{endingStart:Bt,endingEnd:Bt},intervalChanged_:function(e,r,t){var n=this.parameterPositions,o=e-2,l=e+1,u=n[o],h=n[l];if(u===void 0)switch(this.getSettings_().endingStart){case Gt:o=e,u=2*r-t;break;case rn:u=r+n[o=n.length-2]-n[o+1];break;default:o=e,u=t}if(h===void 0)switch(this.getSettings_().endingEnd){case Gt:l=e,h=2*t-r;break;case rn:l=1,h=t+n[1]-n[0];break;default:l=e-1,h=r}var p=.5*(t-r),v=this.valueSize;this._weightPrev=p/(r-u),this._weightNext=p/(h-t),this._offsetPrev=o*v,this._offsetNext=l*v},interpolate_:function(e,r,t,n){for(var o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,v=this._offsetPrev,x=this._offsetNext,w=this._weightPrev,T=this._weightNext,S=(t-r)/(n-r),C=S*S,P=C*S,A=-w*P+2*w*C-w*S,O=(1+w)*P+(-1.5-2*w)*C+(-.5+w)*S+1,H=(-1-T)*P+(1.5+T)*C+.5*S,k=T*P-T*C,B=0;B!==u;++B)o[B]=A*l[v+B]+O*l[p+B]+H*l[h+B]+k*l[x+B];return o}}),Zl.prototype=Object.assign(Object.create(gi.prototype),{constructor:Zl,interpolate_:function(e,r,t,n){for(var o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,v=(t-r)/(n-r),x=1-v,w=0;w!==u;++w)o[w]=l[p+w]*x+l[h+w]*v;return o}}),Jl.prototype=Object.assign(Object.create(gi.prototype),{constructor:Jl,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Lr,{toJSON:function(e){var r,t=e.constructor;if(t.toJSON!==void 0)r=t.toJSON(e);else{r={name:e.name,times:qn.convertArray(e.times,Array),values:qn.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(r.interpolation=n)}return r.type=e.ValueTypeName,r}}),Object.assign(Lr.prototype,{constructor:Lr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Lt,InterpolantFactoryMethodDiscrete:function(e){return new Jl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Zl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Yl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var r;switch(e){case Te:r=this.InterpolantFactoryMethodDiscrete;break;case Lt:r=this.InterpolantFactoryMethodLinear;break;case At:r=this.InterpolantFactoryMethodSmooth}if(r===void 0){var t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=r,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Te;case this.InterpolantFactoryMethodLinear:return Lt;case this.InterpolantFactoryMethodSmooth:return At}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var r=this.times,t=0,n=r.length;t!==n;++t)r[t]+=e;return this},scale:function(e){if(e!==1)for(var r=this.times,t=0,n=r.length;t!==n;++t)r[t]*=e;return this},trim:function(e,r){for(var t=this.times,n=t.length,o=0,l=n-1;o!==n&&t[o]<e;)++o;for(;l!==-1&&t[l]>r;)--l;if(++l,o!==0||l!==n){o>=l&&(o=(l=Math.max(l,1))-1);var u=this.getValueSize();this.times=qn.arraySlice(t,o,l),this.values=qn.arraySlice(this.values,o*u,l*u)}return this},validate:function(){var e=!0,r=this.getValueSize();r-Math.floor(r)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var t=this.times,n=this.values,o=t.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var l=null,u=0;u!==o;u++){var h=t[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(l!==null&&l>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,l),e=!1;break}l=h}if(n!==void 0&&qn.isTypedArray(n))for(var p=0,v=n.length;p!==v;++p){var x=n[p];if(isNaN(x)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,x),e=!1;break}}return e},optimize:function(){for(var e=qn.arraySlice(this.times),r=qn.arraySlice(this.values),t=this.getValueSize(),n=this.getInterpolation()===At,o=e.length-1,l=1,u=1;u<o;++u){var h=!1,p=e[u];if(p!==e[u+1]&&(u!==1||p!==p[0]))if(n)h=!0;else for(var v=u*t,x=v-t,w=v+t,T=0;T!==t;++T){var S=r[v+T];if(S!==r[x+T]||S!==r[w+T]){h=!0;break}}if(h){if(u!==l){e[l]=e[u];for(var C=u*t,P=l*t,A=0;A!==t;++A)r[P+A]=r[C+A]}++l}}if(o>0){e[l]=e[o];for(var O=o*t,H=l*t,k=0;k!==t;++k)r[H+k]=r[O+k];++l}return l!==e.length?(this.times=qn.arraySlice(e,0,l),this.values=qn.arraySlice(r,0,l*t)):(this.times=e,this.values=r),this},clone:function(){var e=qn.arraySlice(this.times,0),r=qn.arraySlice(this.values,0),t=new this.constructor(this.name,e,r);return t.createInterpolant=this.createInterpolant,t}}),bd.prototype=Object.assign(Object.create(Lr.prototype),{constructor:bd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Te,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),rc.prototype=Object.assign(Object.create(Lr.prototype),{constructor:rc,ValueTypeName:"color"}),Qo.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Qo,ValueTypeName:"number"}),ic.prototype=Object.assign(Object.create(gi.prototype),{constructor:ic,interpolate_:function(e,r,t,n){for(var o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(t-r)/(n-r),p=e*u,v=p+u;p!==v;p+=4)En.slerpFlat(o,0,l,p-u,l,p,h);return o}}),Ko.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Ko,ValueTypeName:"quaternion",DefaultInterpolation:Lt,InterpolantFactoryMethodLinear:function(e){return new ic(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),oa.prototype=Object.assign(Object.create(Lr.prototype),{constructor:oa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Te,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ql.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Ql,ValueTypeName:"vector"}),Object.assign(Ui,{parse:function(e){for(var r=[],t=e.tracks,n=1/(e.fps||1),o=0,l=t.length;o!==l;++o)r.push(Qf(t[o]).scale(n));return new Ui(e.name,e.duration,r,e.blendMode)},toJSON:function(e){for(var r=[],t=e.tracks,n={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode},o=0,l=t.length;o!==l;++o)r.push(Lr.toJSON(t[o]));return n},CreateFromMorphTargetSequence:function(e,r,t,n){for(var o=r.length,l=[],u=0;u<o;u++){var h=[],p=[];h.push((u+o-1)%o,u,(u+1)%o),p.push(0,1,0);var v=qn.getKeyframeOrder(h);h=qn.sortedArray(h,1,v),p=qn.sortedArray(p,1,v),n||h[0]!==0||(h.push(o),p.push(p[0])),l.push(new Qo(".morphTargetInfluences["+r[u].name+"]",h,p).scale(1/t))}return new Ui(e,-1,l)},findByName:function(e,r){var t=e;if(!Array.isArray(e)){var n=e;t=n.geometry&&n.geometry.animations||n.animations}for(var o=0;o<t.length;o++)if(t[o].name===r)return t[o];return null},CreateClipsFromMorphTargetSequences:function(e,r,t){for(var n={},o=/^([\w-]*?)([\d]+)$/,l=0,u=e.length;l<u;l++){var h=e[l],p=h.name.match(o);if(p&&p.length>1){var v=p[1],x=n[v];x||(n[v]=x=[]),x.push(h)}}var w=[];for(var T in n)w.push(Ui.CreateFromMorphTargetSequence(T,n[T],r,t));return w},parseAnimation:function(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var t=function(B,G,Z,q,ie){if(Z.length!==0){var ee=[],se=[];qn.flattenJSON(Z,ee,se,q),ee.length!==0&&ie.push(new B(G,ee,se))}},n=[],o=e.name||"default",l=e.fps||30,u=e.blendMode,h=e.length||-1,p=e.hierarchy||[],v=0;v<p.length;v++){var x=p[v].keys;if(x&&x.length!==0)if(x[0].morphTargets){var w={},T=void 0;for(T=0;T<x.length;T++)if(x[T].morphTargets)for(var S=0;S<x[T].morphTargets.length;S++)w[x[T].morphTargets[S]]=-1;for(var C in w){for(var P=[],A=[],O=0;O!==x[T].morphTargets.length;++O){var H=x[T];P.push(H.time),A.push(H.morphTarget===C?1:0)}n.push(new Qo(".morphTargetInfluence["+C+"]",P,A))}h=w.length*(l||1)}else{var k=".bones["+r[v].name+"]";t(Ql,k+".position",x,"pos",n),t(Ko,k+".quaternion",x,"rot",n),t(Ql,k+".scale",x,"scl",n)}}return n.length===0?null:new Ui(o,h,n,u)}}),Object.assign(Ui.prototype,{resetDuration:function(){for(var e=0,r=0,t=this.tracks.length;r!==t;++r){var n=this.tracks[r];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,r=0;r<this.tracks.length;r++)e=e&&this.tracks[r].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());return new Ui(this.name,this.duration,e,this.blendMode)}});var es={enabled:!1,files:{},add:function(e,r){this.enabled!==!1&&(this.files[e]=r)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function _d(e,r,t){var n=this,o=!1,l=0,u=0,h=void 0,p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=t,this.itemStart=function(v){u++,o===!1&&n.onStart!==void 0&&n.onStart(v,l,u),o=!0},this.itemEnd=function(v){l++,n.onProgress!==void 0&&n.onProgress(v,l,u),l===u&&(o=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(v){n.onError!==void 0&&n.onError(v)},this.resolveURL=function(v){return h?h(v):v},this.setURLModifier=function(v){return h=v,this},this.addHandler=function(v,x){return p.push(v,x),this},this.removeHandler=function(v){var x=p.indexOf(v);return x!==-1&&p.splice(x,2),this},this.getHandler=function(v){for(var x=0,w=p.length;x<w;x+=2){var T=p[x],S=p[x+1];if(T.global&&(T.lastIndex=0),T.test(v))return S}return null}}var Kl=new _d;function Jt(e){this.manager=e!==void 0?e:Kl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Jt.prototype,{load:function(){},loadAsync:function(e,r){var t=this;return new Promise(function(n,o){t.load(e,n,r,o)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Ra={};function sa(e){Jt.call(this,e)}function eu(e){Jt.call(this,e)}function Fr(e){Jt.call(this,e)}function tu(e){Jt.call(this,e)}function dt(e){Jt.call(this,e)}function vo(e){Jt.call(this,e)}function nu(e){Jt.call(this,e)}function Ot(){this.type="Curve",this.arcLengthDivisions=200}function Gi(e,r,t,n,o,l,u,h){Ot.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=r||0,this.xRadius=t||1,this.yRadius=n||1,this.aStartAngle=o||0,this.aEndAngle=l||2*Math.PI,this.aClockwise=u||!1,this.aRotation=h||0}function Ya(e,r,t,n,o,l){Gi.call(this,e,r,t,t,n,o,l),this.type="ArcCurve"}function ru(){var e=0,r=0,t=0,n=0;function o(l,u,h,p){e=l,r=h,t=-3*l+3*u-2*h-p,n=2*l-2*u+h+p}return{initCatmullRom:function(l,u,h,p,v){o(u,h,v*(h-l),v*(p-u))},initNonuniformCatmullRom:function(l,u,h,p,v,x,w){var T=(u-l)/v-(h-l)/(v+x)+(h-u)/x,S=(h-u)/x-(p-u)/(x+w)+(p-h)/w;o(u,h,T*=x,S*=x)},calc:function(l){var u=l*l;return e+r*l+t*u+n*(u*l)}}}sa.prototype=Object.assign(Object.create(Jt.prototype),{constructor:sa,load:function(e,r,t,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,l=es.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){r&&r(l),o.manager.itemEnd(e)},0),l;if(Ra[e]===void 0){var u,h=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(h){var p=h[1],v=!!h[2],x=h[3];x=decodeURIComponent(x),v&&(x=atob(x));try{var w,T=(this.responseType||"").toLowerCase();switch(T){case"arraybuffer":case"blob":for(var S=new Uint8Array(x.length),C=0;C<x.length;C++)S[C]=x.charCodeAt(C);w=T==="blob"?new Blob([S.buffer],{type:p}):S.buffer;break;case"document":var P=new DOMParser;w=P.parseFromString(x,p);break;case"json":w=JSON.parse(x);break;default:w=x}setTimeout(function(){r&&r(w),o.manager.itemEnd(e)},0)}catch(O){setTimeout(function(){n&&n(O),o.manager.itemError(e),o.manager.itemEnd(e)},0)}}else{for(var A in Ra[e]=[],Ra[e].push({onLoad:r,onProgress:t,onError:n}),(u=new XMLHttpRequest).open("GET",e,!0),u.addEventListener("load",function(O){var H=this.response,k=Ra[e];if(delete Ra[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),es.add(e,H);for(var B=0,G=k.length;B<G;B++){var Z=k[B];Z.onLoad&&Z.onLoad(H)}o.manager.itemEnd(e)}else{for(var q=0,ie=k.length;q<ie;q++){var ee=k[q];ee.onError&&ee.onError(O)}o.manager.itemError(e),o.manager.itemEnd(e)}},!1),u.addEventListener("progress",function(O){for(var H=Ra[e],k=0,B=H.length;k<B;k++){var G=H[k];G.onProgress&&G.onProgress(O)}},!1),u.addEventListener("error",function(O){var H=Ra[e];delete Ra[e];for(var k=0,B=H.length;k<B;k++){var G=H[k];G.onError&&G.onError(O)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),u.addEventListener("abort",function(O){var H=Ra[e];delete Ra[e];for(var k=0,B=H.length;k<B;k++){var G=H[k];G.onError&&G.onError(O)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),this.responseType!==void 0&&(u.responseType=this.responseType),this.withCredentials!==void 0&&(u.withCredentials=this.withCredentials),u.overrideMimeType&&u.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain"),this.requestHeader)u.setRequestHeader(A,this.requestHeader[A]);u.send(null)}return o.manager.itemStart(e),u}Ra[e].push({onLoad:r,onProgress:t,onError:n})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),eu.prototype=Object.assign(Object.create(Jt.prototype),{constructor:eu,load:function(e,r,t,n){var o=this,l=new sa(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{r(o.parse(JSON.parse(u)))}catch(h){n?n(h):console.error(h),o.manager.itemError(e)}},t,n)},parse:function(e){for(var r=[],t=0;t<e.length;t++){var n=Ui.parse(e[t]);r.push(n)}return r}}),Fr.prototype=Object.assign(Object.create(Jt.prototype),{constructor:Fr,load:function(e,r,t,n){var o=this,l=[],u=new Va;u.image=l;var h=new sa(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);var p=0;function v(T){h.load(e[T],function(S){var C=o.parse(S,!0);l[T]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},(p+=1)===6&&(C.mipmapCount===1&&(u.minFilter=$),u.format=C.format,u.needsUpdate=!0,r&&r(u))},t,n)}if(Array.isArray(e))for(var x=0,w=e.length;x<w;++x)v(x);else h.load(e,function(T){var S=o.parse(T,!0);if(S.isCubemap)for(var C=S.mipmaps.length/S.mipmapCount,P=0;P<C;P++){l[P]={mipmaps:[]};for(var A=0;A<S.mipmapCount;A++)l[P].mipmaps.push(S.mipmaps[P*S.mipmapCount+A]),l[P].format=S.format,l[P].width=S.width,l[P].height=S.height}else u.image.width=S.width,u.image.height=S.height,u.mipmaps=S.mipmaps;S.mipmapCount===1&&(u.minFilter=$),u.format=S.format,u.needsUpdate=!0,r&&r(u)},t,n);return u}}),tu.prototype=Object.assign(Object.create(Jt.prototype),{constructor:tu,load:function(e,r,t,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,l=es.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){r&&r(l),o.manager.itemEnd(e)},0),l;var u=document.createElementNS("http://www.w3.org/1999/xhtml","img");function h(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1),es.add(e,this),r&&r(this),o.manager.itemEnd(e)}function p(v){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1),n&&n(v),o.manager.itemError(e),o.manager.itemEnd(e)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),o.manager.itemStart(e),u.src=e,u}}),dt.prototype=Object.assign(Object.create(Jt.prototype),{constructor:dt,load:function(e,r,t,n){var o=new Ga,l=new tu(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);var u=0;function h(v){l.load(e[v],function(x){o.images[v]=x,++u===6&&(o.needsUpdate=!0,r&&r(o))},void 0,n)}for(var p=0;p<e.length;++p)h(p);return o}}),vo.prototype=Object.assign(Object.create(Jt.prototype),{constructor:vo,load:function(e,r,t,n){var o=this,l=new ao,u=new sa(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(o.withCredentials),u.load(e,function(h){var p=o.parse(h);p&&(p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:I,l.wrapT=p.wrapT!==void 0?p.wrapT:I,l.magFilter=p.magFilter!==void 0?p.magFilter:$,l.minFilter=p.minFilter!==void 0?p.minFilter:$,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=oe),p.mipmapCount===1&&(l.minFilter=$),l.needsUpdate=!0,r&&r(l,p))},t,n),l}}),nu.prototype=Object.assign(Object.create(Jt.prototype),{constructor:nu,load:function(e,r,t,n){var o=new cn,l=new tu(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){o.image=u;var h=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;o.format=h?ze:Xe,o.needsUpdate=!0,r!==void 0&&r(o)},t,n),o}}),Object.assign(Ot.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,r){var t=this.getUtoTmapping(e);return this.getPoint(t,r)},getPoints:function(e){e===void 0&&(e=5);for(var r=[],t=0;t<=e;t++)r.push(this.getPoint(t/e));return r},getSpacedPoints:function(e){e===void 0&&(e=5);for(var r=[],t=0;t<=e;t++)r.push(this.getPointAt(t/e));return r},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r,t=[],n=this.getPoint(0),o=0;t.push(0);for(var l=1;l<=e;l++)o+=(r=this.getPoint(l/e)).distanceTo(n),t.push(o),n=r;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,r){var t,n=this.getLengths(),o=0,l=n.length;t=r||e*n[l-1];for(var u,h=0,p=l-1;h<=p;)if((u=n[o=Math.floor(h+(p-h)/2)]-t)<0)h=o+1;else{if(!(u>0)){p=o;break}p=o-1}if(n[o=p]===t)return o/(l-1);var v=n[o];return(o+(t-v)/(n[o+1]-v))/(l-1)},getTangent:function(e,r){var t=1e-4,n=e-t,o=e+t;n<0&&(n=0),o>1&&(o=1);var l=this.getPoint(n),u=this.getPoint(o),h=r||(l.isVector2?new Ae:new V);return h.copy(u).sub(l).normalize(),h},getTangentAt:function(e,r){var t=this.getUtoTmapping(e);return this.getTangent(t,r)},computeFrenetFrames:function(e,r){for(var t=new V,n=[],o=[],l=[],u=new V,h=new on,p=0;p<=e;p++){var v=p/e;n[p]=this.getTangentAt(v,new V),n[p].normalize()}o[0]=new V,l[0]=new V;var x=Number.MAX_VALUE,w=Math.abs(n[0].x),T=Math.abs(n[0].y),S=Math.abs(n[0].z);w<=x&&(x=w,t.set(1,0,0)),T<=x&&(x=T,t.set(0,1,0)),S<=x&&t.set(0,0,1),u.crossVectors(n[0],t).normalize(),o[0].crossVectors(n[0],u),l[0].crossVectors(n[0],o[0]);for(var C=1;C<=e;C++){if(o[C]=o[C-1].clone(),l[C]=l[C-1].clone(),u.crossVectors(n[C-1],n[C]),u.length()>Number.EPSILON){u.normalize();var P=Math.acos(Ct.clamp(n[C-1].dot(n[C]),-1,1));o[C].applyMatrix4(h.makeRotationAxis(u,P))}l[C].crossVectors(n[C],o[C])}if(r===!0){var A=Math.acos(Ct.clamp(o[0].dot(o[e]),-1,1));A/=e,n[0].dot(u.crossVectors(o[0],o[e]))>0&&(A=-A);for(var O=1;O<=e;O++)o[O].applyMatrix4(h.makeRotationAxis(n[O],A*O)),l[O].crossVectors(n[O],o[O])}return{tangents:n,normals:o,binormals:l}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Gi.prototype=Object.create(Ot.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isEllipseCurve=!0,Gi.prototype.getPoint=function(e,r){for(var t=r||new Ae,n=2*Math.PI,o=this.aEndAngle-this.aStartAngle,l=Math.abs(o)<Number.EPSILON;o<0;)o+=n;for(;o>n;)o-=n;o<Number.EPSILON&&(o=l?0:n),this.aClockwise!==!0||l||(o===n?o=-n:o-=n);var u=this.aStartAngle+e*o,h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){var v=Math.cos(this.aRotation),x=Math.sin(this.aRotation),w=h-this.aX,T=p-this.aY;h=w*v-T*x+this.aX,p=w*x+T*v+this.aY}return t.set(h,p)},Gi.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Gi.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Gi.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ya.prototype=Object.create(Gi.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isArcCurve=!0;var iu=new V,Sd=new ru,Md=new ru,Ed=new ru;function Hr(e,r,t,n){Ot.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=r||!1,this.curveType=t||"centripetal",this.tension=n!==void 0?n:.5}function Td(e,r,t,n,o){var l=.5*(n-r),u=.5*(o-t),h=e*e;return(2*t-2*n+l+u)*(e*h)+(-3*t+3*n-2*l-u)*h+l*e+t}function yr(e,r,t,n){return function(o,l){var u=1-o;return u*u*l}(e,r)+function(o,l){return 2*(1-o)*o*l}(e,t)+function(o,l){return o*o*l}(e,n)}function vi(e,r,t,n,o){return function(l,u){var h=1-l;return h*h*h*u}(e,r)+function(l,u){var h=1-l;return 3*h*h*l*u}(e,t)+function(l,u){return 3*(1-l)*l*l*u}(e,n)+function(l,u){return l*l*l*u}(e,o)}function Ur(e,r,t,n){Ot.call(this),this.type="CubicBezierCurve",this.v0=e||new Ae,this.v1=r||new Ae,this.v2=t||new Ae,this.v3=n||new Ae}function Ca(e,r,t,n){Ot.call(this),this.type="CubicBezierCurve3",this.v0=e||new V,this.v1=r||new V,this.v2=t||new V,this.v3=n||new V}function yi(e,r){Ot.call(this),this.type="LineCurve",this.v1=e||new Ae,this.v2=r||new Ae}function xr(e,r){Ot.call(this),this.type="LineCurve3",this.v1=e||new V,this.v2=r||new V}function la(e,r,t){Ot.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Ae,this.v1=r||new Ae,this.v2=t||new Ae}function Nr(e,r,t){Ot.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new V,this.v1=r||new V,this.v2=t||new V}function La(e){Ot.call(this),this.type="SplineCurve",this.points=e||[]}Hr.prototype=Object.create(Ot.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isCatmullRomCurve3=!0,Hr.prototype.getPoint=function(e,r){var t,n,o=r||new V,l=this.points,u=l.length,h=(u-(this.closed?0:1))*e,p=Math.floor(h),v=h-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/u)+1)*u:v===0&&p===u-1&&(p=u-2,v=1),this.closed||p>0?t=l[(p-1)%u]:(iu.subVectors(l[0],l[1]).add(l[0]),t=iu);var x=l[p%u],w=l[(p+1)%u];if(this.closed||p+2<u?n=l[(p+2)%u]:(iu.subVectors(l[u-1],l[u-2]).add(l[u-1]),n=iu),this.curveType==="centripetal"||this.curveType==="chordal"){var T=this.curveType==="chordal"?.5:.25,S=Math.pow(t.distanceToSquared(x),T),C=Math.pow(x.distanceToSquared(w),T),P=Math.pow(w.distanceToSquared(n),T);C<1e-4&&(C=1),S<1e-4&&(S=C),P<1e-4&&(P=C),Sd.initNonuniformCatmullRom(t.x,x.x,w.x,n.x,S,C,P),Md.initNonuniformCatmullRom(t.y,x.y,w.y,n.y,S,C,P),Ed.initNonuniformCatmullRom(t.z,x.z,w.z,n.z,S,C,P)}else this.curveType==="catmullrom"&&(Sd.initCatmullRom(t.x,x.x,w.x,n.x,this.tension),Md.initCatmullRom(t.y,x.y,w.y,n.y,this.tension),Ed.initCatmullRom(t.z,x.z,w.z,n.z,this.tension));return o.set(Sd.calc(v),Md.calc(v),Ed.calc(v)),o},Hr.prototype.copy=function(e){Ot.prototype.copy.call(this,e),this.points=[];for(var r=0,t=e.points.length;r<t;r++){var n=e.points[r];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Hr.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);e.points=[];for(var r=0,t=this.points.length;r<t;r++){var n=this.points[r];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Hr.prototype.fromJSON=function(e){Ot.prototype.fromJSON.call(this,e),this.points=[];for(var r=0,t=e.points.length;r<t;r++){var n=e.points[r];this.points.push(new V().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ur.prototype=Object.create(Ot.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCubicBezierCurve=!0,Ur.prototype.getPoint=function(e,r){var t=r||new Ae,n=this.v0,o=this.v1,l=this.v2,u=this.v3;return t.set(vi(e,n.x,o.x,l.x,u.x),vi(e,n.y,o.y,l.y,u.y)),t},Ur.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ur.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ur.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ca.prototype=Object.create(Ot.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isCubicBezierCurve3=!0,Ca.prototype.getPoint=function(e,r){var t=r||new V,n=this.v0,o=this.v1,l=this.v2,u=this.v3;return t.set(vi(e,n.x,o.x,l.x,u.x),vi(e,n.y,o.y,l.y,u.y),vi(e,n.z,o.z,l.z,u.z)),t},Ca.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ca.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ca.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},yi.prototype=Object.create(Ot.prototype),yi.prototype.constructor=yi,yi.prototype.isLineCurve=!0,yi.prototype.getPoint=function(e,r){var t=r||new Ae;return e===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},yi.prototype.getPointAt=function(e,r){return this.getPoint(e,r)},yi.prototype.getTangent=function(e,r){var t=r||new Ae;return t.copy(this.v2).sub(this.v1).normalize(),t},yi.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yi.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yi.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},xr.prototype=Object.create(Ot.prototype),xr.prototype.constructor=xr,xr.prototype.isLineCurve3=!0,xr.prototype.getPoint=function(e,r){var t=r||new V;return e===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},xr.prototype.getPointAt=function(e,r){return this.getPoint(e,r)},xr.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},xr.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},xr.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},la.prototype=Object.create(Ot.prototype),la.prototype.constructor=la,la.prototype.isQuadraticBezierCurve=!0,la.prototype.getPoint=function(e,r){var t=r||new Ae,n=this.v0,o=this.v1,l=this.v2;return t.set(yr(e,n.x,o.x,l.x),yr(e,n.y,o.y,l.y)),t},la.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},la.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},la.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Nr.prototype=Object.create(Ot.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isQuadraticBezierCurve3=!0,Nr.prototype.getPoint=function(e,r){var t=r||new V,n=this.v0,o=this.v1,l=this.v2;return t.set(yr(e,n.x,o.x,l.x),yr(e,n.y,o.y,l.y),yr(e,n.z,o.z,l.z)),t},Nr.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Nr.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Nr.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},La.prototype=Object.create(Ot.prototype),La.prototype.constructor=La,La.prototype.isSplineCurve=!0,La.prototype.getPoint=function(e,r){var t=r||new Ae,n=this.points,o=(n.length-1)*e,l=Math.floor(o),u=o-l,h=n[l===0?l:l-1],p=n[l],v=n[l>n.length-2?n.length-1:l+1],x=n[l>n.length-3?n.length-1:l+2];return t.set(Td(u,h.x,p.x,v.x,x.x),Td(u,h.y,p.y,v.y,x.y)),t},La.prototype.copy=function(e){Ot.prototype.copy.call(this,e),this.points=[];for(var r=0,t=e.points.length;r<t;r++){var n=e.points[r];this.points.push(n.clone())}return this},La.prototype.toJSON=function(){var e=Ot.prototype.toJSON.call(this);e.points=[];for(var r=0,t=this.points.length;r<t;r++){var n=this.points[r];e.points.push(n.toArray())}return e},La.prototype.fromJSON=function(e){Ot.prototype.fromJSON.call(this,e),this.points=[];for(var r=0,t=e.points.length;r<t;r++){var n=e.points[r];this.points.push(new Ae().fromArray(n))}return this};var Rd=Object.freeze({__proto__:null,ArcCurve:Ya,CatmullRomCurve3:Hr,CubicBezierCurve:Ur,CubicBezierCurve3:Ca,EllipseCurve:Gi,LineCurve:yi,LineCurve3:xr,QuadraticBezierCurve:la,QuadraticBezierCurve3:Nr,SplineCurve:La});function Za(){Ot.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ua(e){Za.call(this),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}function yo(e){ua.call(this,e),this.uuid=Ct.generateUUID(),this.type="Shape",this.holes=[]}function Xn(e,r){Mt.call(this),this.type="Light",this.color=new ht(e),this.intensity=r!==void 0?r:1}function el(e,r,t){Xn.call(this,e,t),this.type="HemisphereLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.groundColor=new ht(r)}function Aa(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new on,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new El,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new en(0,0,1,1)]}function Ri(){Aa.call(this,new Er(50,1,.5,500)),this.focus=1}function vn(e,r,t,n,o,l){Xn.call(this,e,r),this.type="SpotLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(u){this.intensity=u/Math.PI}}),this.distance=t!==void 0?t:0,this.angle=n!==void 0?n:Math.PI/3,this.penumbra=o!==void 0?o:0,this.decay=l!==void 0?l:1,this.shadow=new Ri}function Ar(){Aa.call(this,new Er(90,1,.5,500)),this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new en(2,1,1,1),new en(0,1,1,1),new en(3,1,1,1),new en(1,1,1,1),new en(3,0,1,1),new en(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}function or(e,r,t,n){Xn.call(this,e,r),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(o){this.intensity=o/(4*Math.PI)}}),this.distance=t!==void 0?t:0,this.decay=n!==void 0?n:1,this.shadow=new Ar}function cr(e,r,t,n,o,l){Ua.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=r!==void 0?r:1,this.top=t!==void 0?t:1,this.bottom=n!==void 0?n:-1,this.near=o!==void 0?o:.1,this.far=l!==void 0?l:2e3,this.updateProjectionMatrix()}function xi(){Aa.call(this,new cr(-5,5,5,-5,.5,500))}function xo(e,r){Xn.call(this,e,r),this.type="DirectionalLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,this.shadow=new xi}function dr(e,r){Xn.call(this,e,r),this.type="AmbientLight"}function ts(e,r,t,n){Xn.call(this,e,r),this.type="RectAreaLight",this.width=t!==void 0?t:10,this.height=n!==void 0?n:10}Za.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Za,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new yi(r,e))},getPoint:function(e){for(var r=e*this.getLength(),t=this.getCurveLengths(),n=0;n<t.length;){if(t[n]>=r){var o=t[n]-r,l=this.curves[n],u=l.getLength(),h=u===0?0:1-o/u;return l.getPointAt(h)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],r=0,t=0,n=this.curves.length;t<n;t++)r+=this.curves[t].getLength(),e.push(r);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var r=[],t=0;t<=e;t++)r.push(this.getPoint(t/e));return this.autoClose&&r.push(r[0]),r},getPoints:function(e){e=e||12;for(var r,t=[],n=0,o=this.curves;n<o.length;n++)for(var l=o[n],u=l&&l.isEllipseCurve?2*e:l&&(l.isLineCurve||l.isLineCurve3)?1:l&&l.isSplineCurve?e*l.points.length:e,h=l.getPoints(u),p=0;p<h.length;p++){var v=h[p];r&&r.equals(v)||(t.push(v),r=v)}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ot.prototype.copy.call(this,e),this.curves=[];for(var r=0,t=e.curves.length;r<t;r++){var n=e.curves[r];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ot.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var r=0,t=this.curves.length;r<t;r++){var n=this.curves[r];e.curves.push(n.toJSON())}return e},fromJSON:function(e){Ot.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var r=0,t=e.curves.length;r<t;r++){var n=e.curves[r];this.curves.push(new Rd[n.type]().fromJSON(n))}return this}}),ua.prototype=Object.assign(Object.create(Za.prototype),{constructor:ua,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var r=1,t=e.length;r<t;r++)this.lineTo(e[r].x,e[r].y);return this},moveTo:function(e,r){return this.currentPoint.set(e,r),this},lineTo:function(e,r){var t=new yi(this.currentPoint.clone(),new Ae(e,r));return this.curves.push(t),this.currentPoint.set(e,r),this},quadraticCurveTo:function(e,r,t,n){var o=new la(this.currentPoint.clone(),new Ae(e,r),new Ae(t,n));return this.curves.push(o),this.currentPoint.set(t,n),this},bezierCurveTo:function(e,r,t,n,o,l){var u=new Ur(this.currentPoint.clone(),new Ae(e,r),new Ae(t,n),new Ae(o,l));return this.curves.push(u),this.currentPoint.set(o,l),this},splineThru:function(e){var r=new La([this.currentPoint.clone()].concat(e));return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,r,t,n,o,l){var u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,r+h,t,n,o,l),this},absarc:function(e,r,t,n,o,l){return this.absellipse(e,r,t,t,n,o,l),this},ellipse:function(e,r,t,n,o,l,u,h){var p=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(e+p,r+v,t,n,o,l,u,h),this},absellipse:function(e,r,t,n,o,l,u,h){var p=new Gi(e,r,t,n,o,l,u,h);if(this.curves.length>0){var v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);var x=p.getPoint(1);return this.currentPoint.copy(x),this},copy:function(e){return Za.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Za.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Za.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),yo.prototype=Object.assign(Object.create(ua.prototype),{constructor:yo,getPointsHoles:function(e){for(var r=[],t=0,n=this.holes.length;t<n;t++)r[t]=this.holes[t].getPoints(e);return r},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ua.prototype.copy.call(this,e),this.holes=[];for(var r=0,t=e.holes.length;r<t;r++){var n=e.holes[r];this.holes.push(n.clone())}return this},toJSON:function(){var e=ua.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var r=0,t=this.holes.length;r<t;r++){var n=this.holes[r];e.holes.push(n.toJSON())}return e},fromJSON:function(e){ua.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var r=0,t=e.holes.length;r<t;r++){var n=e.holes[r];this.holes.push(new ua().fromJSON(n))}return this}}),Xn.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Xn,isLight:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var r=Mt.prototype.toJSON.call(this,e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}),el.prototype=Object.assign(Object.create(Xn.prototype),{constructor:el,isHemisphereLight:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Aa.prototype,{_projScreenMatrix:new on,_lightPositionWorld:new V,_lookTarget:new V,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var r=this.camera,t=this.matrix,n=this._projScreenMatrix,o=this._lookTarget,l=this._lightPositionWorld;l.setFromMatrixPosition(e.matrixWorld),r.position.copy(l),o.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(o),r.updateMatrixWorld(),n.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),t.multiply(r.projectionMatrix),t.multiply(r.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ri.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Ri,isSpotLightShadow:!0,updateMatrices:function(e){var r=this.camera,t=2*Ct.RAD2DEG*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,o=e.distance||r.far;t===r.fov&&n===r.aspect&&o===r.far||(r.fov=t,r.aspect=n,r.far=o,r.updateProjectionMatrix()),Aa.prototype.updateMatrices.call(this,e)}}),vn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:vn,isSpotLight:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ar.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Ar,isPointLightShadow:!0,updateMatrices:function(e,r){r===void 0&&(r=0);var t=this.camera,n=this.matrix,o=this._lightPositionWorld,l=this._lookTarget,u=this._projScreenMatrix;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),l.copy(t.position),l.add(this._cubeDirections[r]),t.up.copy(this._cubeUps[r]),t.lookAt(l),t.updateMatrixWorld(),n.makeTranslation(-o.x,-o.y,-o.z),u.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u)}}),or.prototype=Object.assign(Object.create(Xn.prototype),{constructor:or,isPointLight:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),cr.prototype=Object.assign(Object.create(Ua.prototype),{constructor:cr,isOrthographicCamera:!0,copy:function(e,r){return Ua.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,r,t,n,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=t,this.view.offsetY=n,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),t=(this.right+this.left)/2,n=(this.top+this.bottom)/2,o=t-e,l=t+e,u=n+r,h=n-r;if(this.view!==null&&this.view.enabled){var p=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l=(o+=p*this.view.offsetX)+p*this.view.width,h=(u-=v*this.view.offsetY)-v*this.view.height}this.projectionMatrix.makeOrthographic(o,l,u,h,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var r=Mt.prototype.toJSON.call(this,e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}),xi.prototype=Object.assign(Object.create(Aa.prototype),{constructor:xi,isDirectionalLightShadow:!0,updateMatrices:function(e){Aa.prototype.updateMatrices.call(this,e)}}),xo.prototype=Object.assign(Object.create(Xn.prototype),{constructor:xo,isDirectionalLight:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),dr.prototype=Object.assign(Object.create(Xn.prototype),{constructor:dr,isAmbientLight:!0}),ts.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ts,isRectAreaLight:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var r=Xn.prototype.toJSON.call(this,e);return r.object.width=this.width,r.object.height=this.height,r}});var ns=function(){function e(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new V)}var r=e.prototype;return r.set=function(t){for(var n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this},r.zero=function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},r.getAt=function(t,n){var o=t.x,l=t.y,u=t.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.282095),n.addScaledVector(h[1],.488603*l),n.addScaledVector(h[2],.488603*u),n.addScaledVector(h[3],.488603*o),n.addScaledVector(h[4],o*l*1.092548),n.addScaledVector(h[5],l*u*1.092548),n.addScaledVector(h[6],.315392*(3*u*u-1)),n.addScaledVector(h[7],o*u*1.092548),n.addScaledVector(h[8],.546274*(o*o-l*l)),n},r.getIrradianceAt=function(t,n){var o=t.x,l=t.y,u=t.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.886227),n.addScaledVector(h[1],1.023328*l),n.addScaledVector(h[2],1.023328*u),n.addScaledVector(h[3],1.023328*o),n.addScaledVector(h[4],.858086*o*l),n.addScaledVector(h[5],.858086*l*u),n.addScaledVector(h[6],.743125*u*u-.247708),n.addScaledVector(h[7],.858086*o*u),n.addScaledVector(h[8],.429043*(o*o-l*l)),n},r.add=function(t){for(var n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this},r.addScaledSH=function(t,n){for(var o=0;o<9;o++)this.coefficients[o].addScaledVector(t.coefficients[o],n);return this},r.scale=function(t){for(var n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this},r.lerp=function(t,n){for(var o=0;o<9;o++)this.coefficients[o].lerp(t.coefficients[o],n);return this},r.equals=function(t){for(var n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0},r.copy=function(t){return this.set(t.coefficients)},r.clone=function(){return new this.constructor().copy(this)},r.fromArray=function(t,n){n===void 0&&(n=0);for(var o=this.coefficients,l=0;l<9;l++)o[l].fromArray(t,n+3*l);return this},r.toArray=function(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);for(var o=this.coefficients,l=0;l<9;l++)o[l].toArray(t,n+3*l);return t},e.getBasisAt=function(t,n){var o=t.x,l=t.y,u=t.z;n[0]=.282095,n[1]=.488603*l,n[2]=.488603*u,n[3]=.488603*o,n[4]=1.092548*o*l,n[5]=1.092548*l*u,n[6]=.315392*(3*u*u-1),n[7]=1.092548*o*u,n[8]=.546274*(o*o-l*l)},e}();function wi(e,r){Xn.call(this,void 0,r),this.type="LightProbe",this.sh=e!==void 0?e:new ns}function au(e){Jt.call(this,e),this.textures={}}wi.prototype=Object.assign(Object.create(Xn.prototype),{constructor:wi,isLightProbe:!0,copy:function(e){return Xn.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var r=Xn.prototype.toJSON.call(this,e);return r.object.sh=this.sh.toArray(),r}}),au.prototype=Object.assign(Object.create(Jt.prototype),{constructor:au,load:function(e,r,t,n){var o=this,l=new sa(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{r(o.parse(JSON.parse(u)))}catch(h){n?n(h):console.error(h),o.manager.itemError(e)}},t,n)},parse:function(e){var r=this.textures;function t(p){return r[p]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",p),r[p]}var n=new _p[e.type];if(e.uuid!==void 0&&(n.uuid=e.uuid),e.name!==void 0&&(n.name=e.name),e.color!==void 0&&n.color!==void 0&&n.color.setHex(e.color),e.roughness!==void 0&&(n.roughness=e.roughness),e.metalness!==void 0&&(n.metalness=e.metalness),e.sheen!==void 0&&(n.sheen=new ht().setHex(e.sheen)),e.emissive!==void 0&&n.emissive!==void 0&&n.emissive.setHex(e.emissive),e.specular!==void 0&&n.specular!==void 0&&n.specular.setHex(e.specular),e.shininess!==void 0&&(n.shininess=e.shininess),e.clearcoat!==void 0&&(n.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(n.fog=e.fog),e.flatShading!==void 0&&(n.flatShading=e.flatShading),e.blending!==void 0&&(n.blending=e.blending),e.combine!==void 0&&(n.combine=e.combine),e.side!==void 0&&(n.side=e.side),e.opacity!==void 0&&(n.opacity=e.opacity),e.transparent!==void 0&&(n.transparent=e.transparent),e.alphaTest!==void 0&&(n.alphaTest=e.alphaTest),e.depthTest!==void 0&&(n.depthTest=e.depthTest),e.depthWrite!==void 0&&(n.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(n.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(n.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(n.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(n.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(n.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(n.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(n.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(n.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(n.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(n.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(n.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(n.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(n.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(n.rotation=e.rotation),e.linewidth!==1&&(n.linewidth=e.linewidth),e.dashSize!==void 0&&(n.dashSize=e.dashSize),e.gapSize!==void 0&&(n.gapSize=e.gapSize),e.scale!==void 0&&(n.scale=e.scale),e.polygonOffset!==void 0&&(n.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(n.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(n.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(n.skinning=e.skinning),e.morphTargets!==void 0&&(n.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(n.morphNormals=e.morphNormals),e.dithering!==void 0&&(n.dithering=e.dithering),e.vertexTangents!==void 0&&(n.vertexTangents=e.vertexTangents),e.visible!==void 0&&(n.visible=e.visible),e.toneMapped!==void 0&&(n.toneMapped=e.toneMapped),e.userData!==void 0&&(n.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),e.uniforms!==void 0)for(var o in e.uniforms){var l=e.uniforms[o];switch(n.uniforms[o]={},l.type){case"t":n.uniforms[o].value=t(l.value);break;case"c":n.uniforms[o].value=new ht().setHex(l.value);break;case"v2":n.uniforms[o].value=new Ae().fromArray(l.value);break;case"v3":n.uniforms[o].value=new V().fromArray(l.value);break;case"v4":n.uniforms[o].value=new en().fromArray(l.value);break;case"m3":n.uniforms[o].value=new Mn().fromArray(l.value);break;case"m4":n.uniforms[o].value=new on().fromArray(l.value);break;default:n.uniforms[o].value=l.value}}if(e.defines!==void 0&&(n.defines=e.defines),e.vertexShader!==void 0&&(n.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(n.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var u in e.extensions)n.extensions[u]=e.extensions[u];if(e.shading!==void 0&&(n.flatShading=e.shading===1),e.size!==void 0&&(n.size=e.size),e.sizeAttenuation!==void 0&&(n.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(n.map=t(e.map)),e.matcap!==void 0&&(n.matcap=t(e.matcap)),e.alphaMap!==void 0&&(n.alphaMap=t(e.alphaMap)),e.bumpMap!==void 0&&(n.bumpMap=t(e.bumpMap)),e.bumpScale!==void 0&&(n.bumpScale=e.bumpScale),e.normalMap!==void 0&&(n.normalMap=t(e.normalMap)),e.normalMapType!==void 0&&(n.normalMapType=e.normalMapType),e.normalScale!==void 0){var h=e.normalScale;Array.isArray(h)===!1&&(h=[h,h]),n.normalScale=new Ae().fromArray(h)}return e.displacementMap!==void 0&&(n.displacementMap=t(e.displacementMap)),e.displacementScale!==void 0&&(n.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(n.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(n.roughnessMap=t(e.roughnessMap)),e.metalnessMap!==void 0&&(n.metalnessMap=t(e.metalnessMap)),e.emissiveMap!==void 0&&(n.emissiveMap=t(e.emissiveMap)),e.emissiveIntensity!==void 0&&(n.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(n.specularMap=t(e.specularMap)),e.envMap!==void 0&&(n.envMap=t(e.envMap)),e.envMapIntensity!==void 0&&(n.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(n.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(n.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(n.lightMap=t(e.lightMap)),e.lightMapIntensity!==void 0&&(n.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(n.aoMap=t(e.aoMap)),e.aoMapIntensity!==void 0&&(n.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(n.gradientMap=t(e.gradientMap)),e.clearcoatMap!==void 0&&(n.clearcoatMap=t(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(n.clearcoatRoughnessMap=t(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(n.clearcoatNormalMap=t(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(n.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(n.transmission=e.transmission),e.transmissionMap!==void 0&&(n.transmissionMap=t(e.transmissionMap)),n},setTextures:function(e){return this.textures=e,this}});var tl={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var r="",t=0,n=e.length;t<n;t++)r+=String.fromCharCode(e[t]);try{return decodeURIComponent(escape(r))}catch{return r}},extractUrlBase:function(e){var r=e.lastIndexOf("/");return r===-1?"./":e.substr(0,r+1)}};function Gr(){kt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ou(e,r,t,n){typeof t=="number"&&(n=t,t=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Nt.call(this,e,r,t),this.meshPerAttribute=n||1}function wo(e){Jt.call(this,e)}Gr.prototype=Object.assign(Object.create(kt.prototype),{constructor:Gr,isInstancedBufferGeometry:!0,copy:function(e){return kt.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e=kt.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ou.prototype=Object.assign(Object.create(Nt.prototype),{constructor:ou,isInstancedBufferAttribute:!0,copy:function(e){return Nt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Nt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),wo.prototype=Object.assign(Object.create(Jt.prototype),{constructor:wo,load:function(e,r,t,n){var o=this,l=new sa(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{r(o.parse(JSON.parse(u)))}catch(h){n?n(h):console.error(h),o.manager.itemError(e)}},t,n)},parse:function(e){var r={},t={};function n(se,ce){if(r[ce]!==void 0)return r[ce];var J=se.interleavedBuffers[ce],Se=function(ve,Ne){if(t[Ne]!==void 0)return t[Ne];var $e=ve.arrayBuffers[Ne],we=new Uint32Array($e).buffer;return t[Ne]=we,we}(se,J.buffer),Me=new Tr(new nl[J.type](Se),J.stride);return Me.uuid=J.uuid,r[ce]=Me,Me}var o=e.isInstancedBufferGeometry?new Gr:new kt,l=e.data.index;if(l!==void 0){var u=new nl[l.type](l.array);o.setIndex(new Nt(u,1))}var h=e.data.attributes;for(var p in h){var v=h[p],x=void 0;if(v.isInterleavedBufferAttribute)x=new ba(n(e.data,v.data),v.itemSize,v.offset,v.normalized);else{var w=new nl[v.type](v.array);x=new(v.isInstancedBufferAttribute?ou:Nt)(w,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),o.setAttribute(p,x)}var T=e.data.morphAttributes;if(T)for(var S in T){for(var C=T[S],P=[],A=0,O=C.length;A<O;A++){var H=C[A],k=void 0;H.isInterleavedBufferAttribute?k=new ba(n(e.data,H.data),H.itemSize,H.offset,H.normalized):k=new Nt(new nl[H.type](H.array),H.itemSize,H.normalized),H.name!==void 0&&(k.name=H.name),P.push(k)}o.morphAttributes[S]=P}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);var B=e.data.groups||e.data.drawcalls||e.data.offsets;if(B!==void 0)for(var G=0,Z=B.length;G!==Z;++G){var q=B[G];o.addGroup(q.start,q.count,q.materialIndex)}var ie=e.data.boundingSphere;if(ie!==void 0){var ee=new V;ie.center!==void 0&&ee.fromArray(ie.center),o.boundingSphere=new Kr(ee,ie.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});var ca,nl={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array},Kf=function(e){function r(n){return e.call(this,n)||this}Ve(r,e);var t=r.prototype;return t.load=function(n,o,l,u){var h=this,p=this.path===""?tl.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||p;var v=new sa(this.manager);v.setPath(this.path),v.setRequestHeader(this.requestHeader),v.setWithCredentials(this.withCredentials),v.load(n,function(x){var w=null;try{w=JSON.parse(x)}catch(S){return u!==void 0&&u(S),void console.error("THREE:ObjectLoader: Can't parse "+n+".",S.message)}var T=w.metadata;T!==void 0&&T.type!==void 0&&T.type.toLowerCase()!=="geometry"?h.parse(w,o):console.error("THREE.ObjectLoader: Can't load "+n)},l,u)},t.parse=function(n,o){var l=this.parseShape(n.shapes),u=this.parseGeometries(n.geometries,l),h=this.parseImages(n.images,function(){o!==void 0&&o(x)}),p=this.parseTextures(n.textures,h),v=this.parseMaterials(n.materials,p),x=this.parseObject(n.object,u,v);return n.animations&&(x.animations=this.parseAnimations(n.animations)),n.images!==void 0&&n.images.length!==0||o!==void 0&&o(x),x},t.parseShape=function(n){var o={};if(n!==void 0)for(var l=0,u=n.length;l<u;l++){var h=new yo().fromJSON(n[l]);o[h.uuid]=h}return o},t.parseGeometries=function(n,o){var l,u={};if(n!==void 0)for(var h=new wo,p=0,v=n.length;p<v;p++){var x=void 0,w=n[p];switch(w.type){case"PlaneGeometry":case"PlaneBufferGeometry":x=new mi[w.type](w.width,w.height,w.widthSegments,w.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":x=new mi[w.type](w.width,w.height,w.depth,w.widthSegments,w.heightSegments,w.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":x=new mi[w.type](w.radius,w.segments,w.thetaStart,w.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":x=new mi[w.type](w.radiusTop,w.radiusBottom,w.height,w.radialSegments,w.heightSegments,w.openEnded,w.thetaStart,w.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":x=new mi[w.type](w.radius,w.height,w.radialSegments,w.heightSegments,w.openEnded,w.thetaStart,w.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":x=new mi[w.type](w.radius,w.widthSegments,w.heightSegments,w.phiStart,w.phiLength,w.thetaStart,w.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":x=new mi[w.type](w.radius,w.detail);break;case"RingGeometry":case"RingBufferGeometry":x=new mi[w.type](w.innerRadius,w.outerRadius,w.thetaSegments,w.phiSegments,w.thetaStart,w.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":x=new mi[w.type](w.radius,w.tube,w.radialSegments,w.tubularSegments,w.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":x=new mi[w.type](w.radius,w.tube,w.tubularSegments,w.radialSegments,w.p,w.q);break;case"TubeGeometry":case"TubeBufferGeometry":x=new mi[w.type](new Rd[w.path.type]().fromJSON(w.path),w.tubularSegments,w.radius,w.radialSegments,w.closed);break;case"LatheGeometry":case"LatheBufferGeometry":x=new mi[w.type](w.points,w.segments,w.phiStart,w.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":x=new mi[w.type](w.vertices,w.indices,w.radius,w.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":l=[];for(var T=0,S=w.shapes.length;T<S;T++){var C=o[w.shapes[T]];l.push(C)}x=new mi[w.type](l,w.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":l=[];for(var P=0,A=w.shapes.length;P<A;P++){var O=o[w.shapes[P]];l.push(O)}var H=w.options.extrudePath;H!==void 0&&(w.options.extrudePath=new Rd[H.type]().fromJSON(H)),x=new mi[w.type](l,w.options);break;case"BufferGeometry":case"InstancedBufferGeometry":x=h.parse(w);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+w.type+'"');continue}x.uuid=w.uuid,w.name!==void 0&&(x.name=w.name),x.isBufferGeometry===!0&&w.userData!==void 0&&(x.userData=w.userData),u[w.uuid]=x}return u},t.parseMaterials=function(n,o){var l={},u={};if(n!==void 0){var h=new au;h.setTextures(o);for(var p=0,v=n.length;p<v;p++){var x=n[p];if(x.type==="MultiMaterial"){for(var w=[],T=0;T<x.materials.length;T++){var S=x.materials[T];l[S.uuid]===void 0&&(l[S.uuid]=h.parse(S)),w.push(l[S.uuid])}u[x.uuid]=w}else l[x.uuid]===void 0&&(l[x.uuid]=h.parse(x)),u[x.uuid]=l[x.uuid]}}return u},t.parseAnimations=function(n){for(var o=[],l=0;l<n.length;l++){var u=n[l],h=Ui.parse(u);u.uuid!==void 0&&(h.uuid=u.uuid),o.push(h)}return o},t.parseImages=function(n,o){var l,u=this,h={};function p(k){return u.manager.itemStart(k),l.load(k,function(){u.manager.itemEnd(k)},void 0,function(){u.manager.itemError(k),u.manager.itemEnd(k)})}if(n!==void 0&&n.length>0){var v=new _d(o);(l=new tu(v)).setCrossOrigin(this.crossOrigin);for(var x=0,w=n.length;x<w;x++){var T=n[x],S=T.url;if(Array.isArray(S)){h[T.uuid]=[];for(var C=0,P=S.length;C<P;C++){var A=S[C],O=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:u.resourcePath+A;h[T.uuid].push(p(O))}}else{var H=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(T.url)?T.url:u.resourcePath+T.url;h[T.uuid]=p(H)}}}return h},t.parseTextures=function(n,o){function l(w,T){return typeof w=="number"?w:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",w),T[w])}var u={};if(n!==void 0)for(var h=0,p=n.length;h<p;h++){var v=n[h];v.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',v.uuid),o[v.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",v.image);var x=void 0;(x=Array.isArray(o[v.image])?new Ga(o[v.image]):new cn(o[v.image])).needsUpdate=!0,x.uuid=v.uuid,v.name!==void 0&&(x.name=v.name),v.mapping!==void 0&&(x.mapping=l(v.mapping,rs)),v.offset!==void 0&&x.offset.fromArray(v.offset),v.repeat!==void 0&&x.repeat.fromArray(v.repeat),v.center!==void 0&&x.center.fromArray(v.center),v.rotation!==void 0&&(x.rotation=v.rotation),v.wrap!==void 0&&(x.wrapS=l(v.wrap[0],ac),x.wrapT=l(v.wrap[1],ac)),v.format!==void 0&&(x.format=v.format),v.type!==void 0&&(x.type=v.type),v.encoding!==void 0&&(x.encoding=v.encoding),v.minFilter!==void 0&&(x.minFilter=l(v.minFilter,bo)),v.magFilter!==void 0&&(x.magFilter=l(v.magFilter,bo)),v.anisotropy!==void 0&&(x.anisotropy=v.anisotropy),v.flipY!==void 0&&(x.flipY=v.flipY),v.premultiplyAlpha!==void 0&&(x.premultiplyAlpha=v.premultiplyAlpha),v.unpackAlignment!==void 0&&(x.unpackAlignment=v.unpackAlignment),u[v.uuid]=x}return u},t.parseObject=function(n,o,l){var u,h,p;function v(k){return o[k]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",k),o[k]}function x(k){if(k!==void 0){if(Array.isArray(k)){for(var B=[],G=0,Z=k.length;G<Z;G++){var q=k[G];l[q]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",q),B.push(l[q])}return B}return l[k]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",k),l[k]}}switch(n.type){case"Scene":u=new If,n.background!==void 0&&Number.isInteger(n.background)&&(u.background=new ht(n.background)),n.fog!==void 0&&(n.fog.type==="Fog"?u.fog=new Df(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(u.fog=new Kc(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":u=new Er(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(u.focus=n.focus),n.zoom!==void 0&&(u.zoom=n.zoom),n.filmGauge!==void 0&&(u.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(u.filmOffset=n.filmOffset),n.view!==void 0&&(u.view=Object.assign({},n.view));break;case"OrthographicCamera":u=new cr(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(u.zoom=n.zoom),n.view!==void 0&&(u.view=Object.assign({},n.view));break;case"AmbientLight":u=new dr(n.color,n.intensity);break;case"DirectionalLight":u=new xo(n.color,n.intensity);break;case"PointLight":u=new or(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":u=new ts(n.color,n.intensity,n.width,n.height);break;case"SpotLight":u=new vn(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":u=new el(n.color,n.groundColor,n.intensity);break;case"LightProbe":u=new wi().fromJSON(n);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":u=new Jn(h=v(n.geometry),p=x(n.material));break;case"InstancedMesh":h=v(n.geometry),p=x(n.material);var w=n.count,T=n.instanceMatrix;(u=new lo(h,p,w)).instanceMatrix=new Nt(new Float32Array(T.array),16);break;case"LOD":u=new Gs;break;case"Line":u=new Br(v(n.geometry),x(n.material),n.mode);break;case"LineLoop":u=new Sa(v(n.geometry),x(n.material));break;case"LineSegments":u=new ir(v(n.geometry),x(n.material));break;case"PointCloud":case"Points":u=new $s(v(n.geometry),x(n.material));break;case"Sprite":u=new hi(x(n.material));break;case"Group":u=new so;break;default:u=new Mt}if(u.uuid=n.uuid,n.name!==void 0&&(u.name=n.name),n.matrix!==void 0?(u.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(u.matrixAutoUpdate=n.matrixAutoUpdate),u.matrixAutoUpdate&&u.matrix.decompose(u.position,u.quaternion,u.scale)):(n.position!==void 0&&u.position.fromArray(n.position),n.rotation!==void 0&&u.rotation.fromArray(n.rotation),n.quaternion!==void 0&&u.quaternion.fromArray(n.quaternion),n.scale!==void 0&&u.scale.fromArray(n.scale)),n.castShadow!==void 0&&(u.castShadow=n.castShadow),n.receiveShadow!==void 0&&(u.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(u.shadow.bias=n.shadow.bias),n.shadow.normalBias!==void 0&&(u.shadow.normalBias=n.shadow.normalBias),n.shadow.radius!==void 0&&(u.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&u.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(u.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(u.visible=n.visible),n.frustumCulled!==void 0&&(u.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(u.renderOrder=n.renderOrder),n.userData!==void 0&&(u.userData=n.userData),n.layers!==void 0&&(u.layers.mask=n.layers),n.children!==void 0)for(var S=n.children,C=0;C<S.length;C++)u.add(this.parseObject(S[C],o,l));if(n.type==="LOD"){n.autoUpdate!==void 0&&(u.autoUpdate=n.autoUpdate);for(var P=n.levels,A=0;A<P.length;A++){var O=P[A],H=u.getObjectByProperty("uuid",O.object);H!==void 0&&u.addLevel(H,O.distance)}}return u},t.setTexturePath=function(n){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(n)},r}(Jt),rs={UVMapping:f,CubeReflectionMapping:m,CubeRefractionMapping:y,EquirectangularReflectionMapping:b,EquirectangularRefractionMapping:M,CubeUVReflectionMapping:R,CubeUVRefractionMapping:L},ac={RepeatWrapping:N,ClampToEdgeWrapping:I,MirroredRepeatWrapping:F},bo={NearestFilter:D,NearestMipmapNearestFilter:W,NearestMipmapLinearFilter:X,LinearFilter:$,LinearMipmapNearestFilter:j,LinearMipmapLinearFilter:oe};function su(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Jt.call(this,e),this.options={premultiplyAlpha:"none"}}function rl(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}function oc(e){this.type="Font",this.data=e}function Cd(e,r,t,n,o){var l=o.glyphs[e]||o.glyphs["?"];if(l){var u,h,p,v,x,w,T,S,C=new rl;if(l.o)for(var P=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),A=0,O=P.length;A<O;)switch(P[A++]){case"m":u=P[A++]*r+t,h=P[A++]*r+n,C.moveTo(u,h);break;case"l":u=P[A++]*r+t,h=P[A++]*r+n,C.lineTo(u,h);break;case"q":p=P[A++]*r+t,v=P[A++]*r+n,x=P[A++]*r+t,w=P[A++]*r+n,C.quadraticCurveTo(x,w,p,v);break;case"b":p=P[A++]*r+t,v=P[A++]*r+n,x=P[A++]*r+t,w=P[A++]*r+n,T=P[A++]*r+t,S=P[A++]*r+n,C.bezierCurveTo(x,w,T,S,p,v)}return{offsetX:l.ha*r,path:C}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+o.familyName+".")}function lu(e){Jt.call(this,e)}su.prototype=Object.assign(Object.create(Jt.prototype),{constructor:su,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,r,t,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,l=es.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){r&&r(l),o.manager.itemEnd(e)},0),l;var u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(e,u).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,o.options)}).then(function(h){es.add(e,h),r&&r(h),o.manager.itemEnd(e)}).catch(function(h){n&&n(h),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}),Object.assign(rl.prototype,{moveTo:function(e,r){return this.currentPath=new ua,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r),this},lineTo:function(e,r){return this.currentPath.lineTo(e,r),this},quadraticCurveTo:function(e,r,t,n){return this.currentPath.quadraticCurveTo(e,r,t,n),this},bezierCurveTo:function(e,r,t,n,o,l){return this.currentPath.bezierCurveTo(e,r,t,n,o,l),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,r){function t(we){for(var Le=[],Ee=0,We=we.length;Ee<We;Ee++){var bt=we[Ee],Ht=new yo;Ht.curves=bt.curves,Le.push(Ht)}return Le}function n(we,Le){for(var Ee=Le.length,We=!1,bt=Ee-1,Ht=0;Ht<Ee;bt=Ht++){var te=Le[bt],K=Le[Ht],Pe=K.x-te.x,_e=K.y-te.y;if(Math.abs(_e)>Number.EPSILON){if(_e<0&&(te=Le[Ht],Pe=-Pe,K=Le[bt],_e=-_e),we.y<te.y||we.y>K.y)continue;if(we.y===te.y){if(we.x===te.x)return!0}else{var ke=_e*(we.x-te.x)-Pe*(we.y-te.y);if(ke===0)return!0;if(ke<0)continue;We=!We}}else{if(we.y!==te.y)continue;if(K.x<=we.x&&we.x<=te.x||te.x<=we.x&&we.x<=K.x)return!0}}return We}var o,l,u,h=Xa.isClockWise,p=this.subPaths;if(p.length===0)return[];if(r===!0)return t(p);var v=[];if(p.length===1)return l=p[0],(u=new yo).curves=l.curves,v.push(u),v;var x=!h(p[0].getPoints());x=e?!x:x;var w,T,S=[],C=[],P=[],A=0;C[A]=void 0,P[A]=[];for(var O=0,H=p.length;O<H;O++)o=h(w=(l=p[O]).getPoints()),(o=e?!o:o)?(!x&&C[A]&&A++,C[A]={s:new yo,p:w},C[A].s.curves=l.curves,x&&A++,P[A]=[]):P[A].push({h:l,p:w[0]});if(!C[0])return t(p);if(C.length>1){for(var k=!1,B=[],G=0,Z=C.length;G<Z;G++)S[G]=[];for(var q=0,ie=C.length;q<ie;q++)for(var ee=P[q],se=0;se<ee.length;se++){for(var ce=ee[se],J=!0,Se=0;Se<C.length;Se++)n(ce.p,C[Se].p)&&(q!==Se&&B.push({froms:q,tos:Se,hole:se}),J?(J=!1,S[Se].push(ce)):k=!0);J&&S[q].push(ce)}B.length>0&&(k||(P=S))}for(var Me=0,ve=C.length;Me<ve;Me++){u=C[Me].s,v.push(u);for(var Ne=0,$e=(T=P[Me]).length;Ne<$e;Ne++)u.holes.push(T[Ne].h)}return v}}),Object.assign(oc.prototype,{isFont:!0,generateShapes:function(e,r){r===void 0&&(r=100);for(var t=[],n=function(u,h,p){for(var v=Array.from?Array.from(u):String(u).split(""),x=h/p.resolution,w=(p.boundingBox.yMax-p.boundingBox.yMin+p.underlineThickness)*x,T=[],S=0,C=0,P=0;P<v.length;P++){var A=v[P];if(A===`
`)S=0,C-=w;else{var O=Cd(A,x,S,C,p);S+=O.offsetX,T.push(O.path)}}return T}(e,r,this.data),o=0,l=n.length;o<l;o++)Array.prototype.push.apply(t,n[o].toShapes());return t}}),lu.prototype=Object.assign(Object.create(Jt.prototype),{constructor:lu,load:function(e,r,t,n){var o=this,l=new sa(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){var h;try{h=JSON.parse(u)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),h=JSON.parse(u.substring(65,u.length-2))}var p=o.parse(h);r&&r(p)},t,n)},parse:function(e){return new oc(e)}});var Xr={getContext:function(){return ca===void 0&&(ca=new(window.AudioContext||window.webkitAudioContext)),ca},setContext:function(e){ca=e}};function Pa(e){Jt.call(this,e)}function ji(e,r,t){wi.call(this,void 0,t);var n=new ht().set(e),o=new ht().set(r),l=new V(n.r,n.g,n.b),u=new V(o.r,o.g,o.b),h=Math.sqrt(Math.PI),p=h*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(u).multiplyScalar(h),this.sh.coefficients[1].copy(l).sub(u).multiplyScalar(p)}function ai(e,r){wi.call(this,void 0,r);var t=new ht().set(e);this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}Pa.prototype=Object.assign(Object.create(Jt.prototype),{constructor:Pa,load:function(e,r,t,n){var o=this,l=new sa(o.manager);l.setResponseType("arraybuffer"),l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{var h=u.slice(0);Xr.getContext().decodeAudioData(h,function(p){r(p)})}catch(p){n?n(p):console.error(p),o.manager.itemError(e)}},t,n)}}),ji.prototype=Object.assign(Object.create(wi.prototype),{constructor:ji,isHemisphereLightProbe:!0,copy:function(e){return wi.prototype.copy.call(this,e),this},toJSON:function(e){return wi.prototype.toJSON.call(this,e)}}),ai.prototype=Object.assign(Object.create(wi.prototype),{constructor:ai,isAmbientLightProbe:!0,copy:function(e){return wi.prototype.copy.call(this,e),this},toJSON:function(e){return wi.prototype.toJSON.call(this,e)}});var eh=new on,Ld=new on;function Ad(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(Ad.prototype,{update:function(e){var r=this._cache;if(r.focus!==e.focus||r.fov!==e.fov||r.aspect!==e.aspect*this.aspect||r.near!==e.near||r.far!==e.far||r.zoom!==e.zoom||r.eyeSep!==this.eyeSep){r.focus=e.focus,r.fov=e.fov,r.aspect=e.aspect*this.aspect,r.near=e.near,r.far=e.far,r.zoom=e.zoom,r.eyeSep=this.eyeSep;var t,n,o=e.projectionMatrix.clone(),l=r.eyeSep/2,u=l*r.near/r.focus,h=r.near*Math.tan(Ct.DEG2RAD*r.fov*.5)/r.zoom;Ld.elements[12]=-l,eh.elements[12]=l,t=-h*r.aspect+u,n=h*r.aspect+u,o.elements[0]=2*r.near/(n-t),o.elements[8]=(n+t)/(n-t),this.cameraL.projectionMatrix.copy(o),t=-h*r.aspect-u,n=h*r.aspect-u,o.elements[0]=2*r.near/(n-t),o.elements[8]=(n+t)/(n-t),this.cameraR.projectionMatrix.copy(o)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ld),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(eh)}});var Sp=function(){function e(t){this.autoStart=t===void 0||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var r=e.prototype;return r.start=function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},r.stop=function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},r.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},r.getDelta=function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var n=(typeof performance>"u"?Date:performance).now();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t},e}(),Ci=new V,th=new En,nh=new V,Vi=new V,rh=function(e){function r(){var n;return(n=e.call(this)||this).type="AudioListener",n.context=Xr.getContext(),n.gain=n.context.createGain(),n.gain.connect(n.context.destination),n.filter=null,n.timeDelta=0,n._clock=new Sp,n}Ve(r,e);var t=r.prototype;return t.getInput=function(){return this.gain},t.removeFilter=function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},t.getFilter=function(){return this.filter},t.setFilter=function(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},t.getMasterVolume=function(){return this.gain.gain.value},t.setMasterVolume=function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this},t.updateMatrixWorld=function(n){e.prototype.updateMatrixWorld.call(this,n);var o=this.context.listener,l=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ci,th,nh),Vi.set(0,0,-1).applyQuaternion(th),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(Ci.x,u),o.positionY.linearRampToValueAtTime(Ci.y,u),o.positionZ.linearRampToValueAtTime(Ci.z,u),o.forwardX.linearRampToValueAtTime(Vi.x,u),o.forwardY.linearRampToValueAtTime(Vi.y,u),o.forwardZ.linearRampToValueAtTime(Vi.z,u),o.upX.linearRampToValueAtTime(l.x,u),o.upY.linearRampToValueAtTime(l.y,u),o.upZ.linearRampToValueAtTime(l.z,u)}else o.setPosition(Ci.x,Ci.y,Ci.z),o.setOrientation(Vi.x,Vi.y,Vi.z,l.x,l.y,l.z)},r}(Mt),_o=function(e){function r(n){var o;return(o=e.call(this)||this).type="Audio",o.listener=n,o.context=n.context,o.gain=o.context.createGain(),o.gain.connect(n.getInput()),o.autoplay=!1,o.buffer=null,o.detune=0,o.loop=!1,o.loopStart=0,o.loopEnd=0,o.offset=0,o.duration=void 0,o.playbackRate=1,o.isPlaying=!1,o.hasPlaybackControl=!0,o.source=null,o.sourceType="empty",o._startedAt=0,o._progress=0,o._connected=!1,o.filters=[],o}Ve(r,e);var t=r.prototype;return t.getOutput=function(){return this.gain},t.setNodeSource=function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},t.setMediaElementSource=function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this},t.setMediaStreamSource=function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this},t.setBuffer=function(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},t.play=function(n){if(n===void 0&&(n=0),this.isPlaying!==!0){if(this.hasPlaybackControl!==!1){this._startedAt=this.context.currentTime+n;var o=this.context.createBufferSource();return o.buffer=this.buffer,o.loop=this.loop,o.loopStart=this.loopStart,o.loopEnd=this.loopEnd,o.onended=this.onEnded.bind(this),o.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=o,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},t.pause=function(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},t.stop=function(){if(this.hasPlaybackControl!==!1)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},t.connect=function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this},t.disconnect=function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this},t.getFilters=function(){return this.filters},t.setFilters=function(n){return n||(n=[]),this._connected===!0?(this.disconnect(),this.filters=n.slice(),this.connect()):this.filters=n.slice(),this},t.setDetune=function(n){if(this.detune=n,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},t.getDetune=function(){return this.detune},t.getFilter=function(){return this.getFilters()[0]},t.setFilter=function(n){return this.setFilters(n?[n]:[])},t.setPlaybackRate=function(n){if(this.hasPlaybackControl!==!1)return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},t.getPlaybackRate=function(){return this.playbackRate},t.onEnded=function(){this.isPlaying=!1},t.getLoop=function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},t.setLoop=function(n){if(this.hasPlaybackControl!==!1)return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},t.setLoopStart=function(n){return this.loopStart=n,this},t.setLoopEnd=function(n){return this.loopEnd=n,this},t.getVolume=function(){return this.gain.gain.value},t.setVolume=function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this},r}(Mt),is=new V,ih=new En,ah=new V,Ja=new V,Ym=function(e){function r(n){var o;return(o=e.call(this,n)||this).panner=o.context.createPanner(),o.panner.panningModel="HRTF",o.panner.connect(o.gain),o}Ve(r,e);var t=r.prototype;return t.getOutput=function(){return this.panner},t.getRefDistance=function(){return this.panner.refDistance},t.setRefDistance=function(n){return this.panner.refDistance=n,this},t.getRolloffFactor=function(){return this.panner.rolloffFactor},t.setRolloffFactor=function(n){return this.panner.rolloffFactor=n,this},t.getDistanceModel=function(){return this.panner.distanceModel},t.setDistanceModel=function(n){return this.panner.distanceModel=n,this},t.getMaxDistance=function(){return this.panner.maxDistance},t.setMaxDistance=function(n){return this.panner.maxDistance=n,this},t.setDirectionalCone=function(n,o,l){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=l,this},t.updateMatrixWorld=function(n){if(e.prototype.updateMatrixWorld.call(this,n),this.hasPlaybackControl!==!0||this.isPlaying!==!1){this.matrixWorld.decompose(is,ih,ah),Ja.set(0,0,1).applyQuaternion(ih);var o=this.panner;if(o.positionX){var l=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(is.x,l),o.positionY.linearRampToValueAtTime(is.y,l),o.positionZ.linearRampToValueAtTime(is.z,l),o.orientationX.linearRampToValueAtTime(Ja.x,l),o.orientationY.linearRampToValueAtTime(Ja.y,l),o.orientationZ.linearRampToValueAtTime(Ja.z,l)}else o.setPosition(is.x,is.y,is.z),o.setOrientation(Ja.x,Ja.y,Ja.z)}},r}(_o),Mp=function(){function e(t,n){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n!==void 0?n:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}var r=e.prototype;return r.getFrequencyData=function(){return this.analyser.getByteFrequencyData(this.data),this.data},r.getAverageFrequency=function(){for(var t=0,n=this.getFrequencyData(),o=0;o<n.length;o++)t+=n[o];return t/n.length},e}();function Pd(e,r,t){var n,o,l;switch(this.binding=e,this.valueSize=t,r){case"quaternion":n=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*t),this._workIndex=5;break;case"string":case"bool":n=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(5*t);break;default:n=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*t)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Pd.prototype,{accumulate:function(e,r){var t=this.buffer,n=this.valueSize,o=e*n+n,l=this.cumulativeWeight;if(l===0){for(var u=0;u!==n;++u)t[o+u]=t[u];l=r}else{var h=r/(l+=r);this._mixBufferRegion(t,o,0,h,n)}this.cumulativeWeight=l},accumulateAdditive:function(e){var r=this.buffer,t=this.valueSize,n=t*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,n,0,e,t),this.cumulativeWeightAdditive+=e},apply:function(e){var r=this.valueSize,t=this.buffer,n=e*r+r,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){var h=r*this._origIndex;this._mixBufferRegion(t,n,h,1-o,r)}l>0&&this._mixBufferRegionAdditive(t,n,this._addIndex*r,1,r);for(var p=r,v=r+r;p!==v;++p)if(t[p]!==t[p+r]){u.setValue(t,n);break}},saveOriginalState:function(){var e=this.binding,r=this.buffer,t=this.valueSize,n=t*this._origIndex;e.getValue(r,n);for(var o=t,l=n;o!==l;++o)r[o]=r[n+o%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,r=e+this.valueSize,t=e;t<r;t++)this.buffer[t]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize,t=0;t<this.valueSize;t++)this.buffer[r+t]=this.buffer[e+t]},_select:function(e,r,t,n,o){if(n>=.5)for(var l=0;l!==o;++l)e[r+l]=e[t+l]},_slerp:function(e,r,t,n){En.slerpFlat(e,r,e,r,e,t,n)},_slerpAdditive:function(e,r,t,n,o){var l=this._workIndex*o;En.multiplyQuaternionsFlat(e,l,e,r,e,t),En.slerpFlat(e,r,e,r,e,l,n)},_lerp:function(e,r,t,n,o){for(var l=1-n,u=0;u!==o;++u){var h=r+u;e[h]=e[h]*l+e[t+u]*n}},_lerpAdditive:function(e,r,t,n,o){for(var l=0;l!==o;++l){var u=r+l;e[u]=e[u]+e[t+l]*n}}});var Ep="\\[\\]\\.:\\/",il=new RegExp("[\\[\\]\\.:\\/]","g"),oh="[^\\[\\]\\.:\\/]",uu="[^"+Ep.replace("\\.","")+"]",Tp=/((?:WC+[\/:])*)/.source.replace("WC",oh),fr=/(WCOD+)?/.source.replace("WCOD",uu),Zm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oh),Rp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oh),Jm=new RegExp("^"+Tp+fr+Zm+Rp+"$"),Qm=["material","materials","bones"];function sh(e,r,t){var n=t||Yr.parseTrackName(r);this._targetGroup=e,this._bindings=e.subscribe_(r,n)}function Yr(e,r,t){this.path=r,this.parsedPath=t||Yr.parseTrackName(r),this.node=Yr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Cp(){this.uuid=Ct.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var r=0,t=arguments.length;r!==t;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}Object.assign(sh.prototype,{getValue:function(e,r){this.bind();var t=this._targetGroup.nCachedObjects_,n=this._bindings[t];n!==void 0&&n.getValue(e,r)},setValue:function(e,r){for(var t=this._bindings,n=this._targetGroup.nCachedObjects_,o=t.length;n!==o;++n)t[n].setValue(e,r)},bind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,t=e.length;r!==t;++r)e[r].bind()},unbind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,t=e.length;r!==t;++r)e[r].unbind()}}),Object.assign(Yr,{Composite:sh,create:function(e,r,t){return e&&e.isAnimationObjectGroup?new Yr.Composite(e,r,t):new Yr(e,r,t)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(il,"")},parseTrackName:function(e){var r=Jm.exec(e);if(!r)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},n=t.nodeName&&t.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){var o=t.nodeName.substring(n+1);Qm.indexOf(o)!==-1&&(t.nodeName=t.nodeName.substring(0,n),t.objectName=o)}if(t.propertyName===null||t.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t},findNode:function(e,r){if(!r||r===""||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(r);if(t!==void 0)return t}if(e.children){var n=function o(l){for(var u=0;u<l.length;u++){var h=l[u];if(h.name===r||h.uuid===r)return h;var p=o(h.children);if(p)return p}return null}(e.children);if(n)return n}return null}}),Object.assign(Yr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,r){e[r]=this.node[this.propertyName]},function(e,r){for(var t=this.resolvedProperty,n=0,o=t.length;n!==o;++n)e[r++]=t[n]},function(e,r){e[r]=this.resolvedProperty[this.propertyIndex]},function(e,r){this.resolvedProperty.toArray(e,r)}],SetterByBindingTypeAndVersioning:[[function(e,r){this.targetObject[this.propertyName]=e[r]},function(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.needsUpdate=!0},function(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,r){for(var t=this.resolvedProperty,n=0,o=t.length;n!==o;++n)t[n]=e[r++]},function(e,r){for(var t=this.resolvedProperty,n=0,o=t.length;n!==o;++n)t[n]=e[r++];this.targetObject.needsUpdate=!0},function(e,r){for(var t=this.resolvedProperty,n=0,o=t.length;n!==o;++n)t[n]=e[r++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,r){this.resolvedProperty[this.propertyIndex]=e[r]},function(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.needsUpdate=!0},function(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,r){this.resolvedProperty.fromArray(e,r)},function(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.needsUpdate=!0},function(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,r){this.bind(),this.getValue(e,r)},setValue:function(e,r){this.bind(),this.setValue(e,r)},bind:function(){var e=this.node,r=this.parsedPath,t=r.objectName,n=r.propertyName,o=r.propertyIndex;if(e||(e=Yr.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(t){var l=r.objectIndex;switch(t){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var u=0;u<e.length;u++)if(e[u].name===l){l=u;break}break;default:if(e[t]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[t]}if(l!==void 0){if(e[l]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}var h=e[n];if(h!==void 0){var p=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?p=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(p=this.Versioning.MatrixWorldNeedsUpdate);var v=this.BindingType.Direct;if(o!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}v=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=o}else h.fromArray!==void 0&&h.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(v=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=n;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][p]}else{var x=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+x+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Yr.prototype,{_getValue_unbound:Yr.prototype.getValue,_setValue_unbound:Yr.prototype.setValue}),Object.assign(Cp.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,r=this._indicesByUUID,t=this._paths,n=this._parsedPaths,o=this._bindings,l=o.length,u=void 0,h=e.length,p=this.nCachedObjects_,v=0,x=arguments.length;v!==x;++v){var w=arguments[v],T=w.uuid,S=r[T];if(S===void 0){S=h++,r[T]=S,e.push(w);for(var C=0,P=l;C!==P;++C)o[C].push(new Yr(w,t[C],n[C]))}else if(S<p){u=e[S];var A=--p,O=e[A];r[O.uuid]=S,e[S]=O,r[T]=A,e[A]=w;for(var H=0,k=l;H!==k;++H){var B=o[H],G=B[A],Z=B[S];B[S]=G,Z===void 0&&(Z=new Yr(w,t[H],n[H])),B[A]=Z}}else e[S]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p},remove:function(){for(var e=this._objects,r=this._indicesByUUID,t=this._bindings,n=t.length,o=this.nCachedObjects_,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],p=h.uuid,v=r[p];if(v!==void 0&&v>=o){var x=o++,w=e[x];r[w.uuid]=v,e[v]=w,r[p]=x,e[x]=h;for(var T=0,S=n;T!==S;++T){var C=t[T],P=C[x],A=C[v];C[v]=P,C[x]=A}}}this.nCachedObjects_=o},uncache:function(){for(var e=this._objects,r=this._indicesByUUID,t=this._bindings,n=t.length,o=this.nCachedObjects_,l=e.length,u=0,h=arguments.length;u!==h;++u){var p=arguments[u],v=p.uuid,x=r[v];if(x!==void 0)if(delete r[v],x<o){var w=--o,T=e[w],S=--l,C=e[S];r[T.uuid]=x,e[x]=T,r[C.uuid]=w,e[w]=C,e.pop();for(var P=0,A=n;P!==A;++P){var O=t[P],H=O[w],k=O[S];O[x]=H,O[w]=k,O.pop()}}else{var B=--l,G=e[B];B>0&&(r[G.uuid]=x),e[x]=G,e.pop();for(var Z=0,q=n;Z!==q;++Z){var ie=t[Z];ie[x]=ie[B],ie.pop()}}}this.nCachedObjects_=o},subscribe_:function(e,r){var t=this._bindingsIndicesByPath,n=t[e],o=this._bindings;if(n!==void 0)return o[n];var l=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,v=this.nCachedObjects_,x=new Array(p);n=o.length,t[e]=n,l.push(e),u.push(r),o.push(x);for(var w=v,T=h.length;w!==T;++w){var S=h[w];x[w]=new Yr(S,e,r)}return x},unsubscribe_:function(e){var r=this._bindingsIndicesByPath,t=r[e];if(t!==void 0){var n=this._paths,o=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u];r[e[u]]=t,l[t]=h,l.pop(),o[t]=o[u],o.pop(),n[t]=n[u],n.pop()}}});var da=function(){function e(t,n,o,l){this._mixer=t,this._clip=n,this._localRoot=o||null,this.blendMode=l||n.blendMode;for(var u=n.tracks,h=u.length,p=new Array(h),v={endingStart:Bt,endingEnd:Bt},x=0;x!==h;++x){var w=u[x].createInterpolant(null);p[x]=w,w.settings=v}this._interpolantSettings=v,this._interpolants=p,this._propertyBindings=new Array(h),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}var r=e.prototype;return r.play=function(){return this._mixer._activateAction(this),this},r.stop=function(){return this._mixer._deactivateAction(this),this.reset()},r.reset=function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},r.isRunning=function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},r.isScheduled=function(){return this._mixer._isActiveAction(this)},r.startAt=function(t){return this._startTime=t,this},r.setLoop=function(t,n){return this.loop=t,this.repetitions=n,this},r.setEffectiveWeight=function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},r.getEffectiveWeight=function(){return this._effectiveWeight},r.fadeIn=function(t){return this._scheduleFading(t,0,1)},r.fadeOut=function(t){return this._scheduleFading(t,1,0)},r.crossFadeFrom=function(t,n,o){if(t.fadeOut(n),this.fadeIn(n),o){var l=this._clip.duration,u=t._clip.duration,h=u/l,p=l/u;t.warp(1,h,n),this.warp(p,1,n)}return this},r.crossFadeTo=function(t,n,o){return t.crossFadeFrom(this,n,o)},r.stopFading=function(){var t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},r.setEffectiveTimeScale=function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},r.getEffectiveTimeScale=function(){return this._effectiveTimeScale},r.setDuration=function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},r.syncWith=function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},r.halt=function(t){return this.warp(this._effectiveTimeScale,0,t)},r.warp=function(t,n,o){var l=this._mixer,u=l.time,h=this.timeScale,p=this._timeScaleInterpolant;p===null&&(p=l._lendControlInterpolant(),this._timeScaleInterpolant=p);var v=p.parameterPositions,x=p.sampleValues;return v[0]=u,v[1]=u+o,x[0]=t/h,x[1]=n/h,this},r.stopWarping=function(){var t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},r.getMixer=function(){return this._mixer},r.getClip=function(){return this._clip},r.getRoot=function(){return this._localRoot||this._mixer._root},r._update=function(t,n,o,l){if(this.enabled){var u=this._startTime;if(u!==null){var h=(t-u)*o;if(h<0||o===0)return;this._startTime=null,n=o*h}n*=this._updateTimeScale(t);var p=this._updateTime(n),v=this._updateWeight(t);if(v>0){var x=this._interpolants,w=this._propertyBindings;switch(this.blendMode){case pn:for(var T=0,S=x.length;T!==S;++T)x[T].evaluate(p),w[T].accumulateAdditive(v);break;case qt:default:for(var C=0,P=x.length;C!==P;++C)x[C].evaluate(p),w[C].accumulate(l,v)}}}else this._updateWeight(t)},r._updateWeight=function(t){var n=0;if(this.enabled){n=this.weight;var o=this._weightInterpolant;if(o!==null){var l=o.evaluate(t)[0];n*=l,t>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n},r._updateTimeScale=function(t){var n=0;if(!this.paused){n=this.timeScale;var o=this._timeScaleInterpolant;o!==null&&(n*=o.evaluate(t)[0],t>o.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n},r._updateTime=function(t){var n=this._clip.duration,o=this.loop,l=this.time+t,u=this._loopCount,h=o===2202;if(t===0)return u===-1?l:h&&(1&u)==1?n-l:l;if(o===2200){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=n)l=n;else{if(!(l<0)){this.time=l;break e}l=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(u===-1&&(t>=0?(u=0,this._setEndings(!0,this.repetitions===0,h)):this._setEndings(this.repetitions===0,!0,h)),l>=n||l<0){var p=Math.floor(l/n);l-=n*p,u+=Math.abs(p);var v=this.repetitions-u;if(v<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=t>0?n:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(v===1){var x=t<0;this._setEndings(x,!x,h)}else this._setEndings(!1,!1,h);this._loopCount=u,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:p})}}else this.time=l;if(h&&(1&u)==1)return n-l}return l},r._setEndings=function(t,n,o){var l=this._interpolantSettings;o?(l.endingStart=Gt,l.endingEnd=Gt):(l.endingStart=t?this.zeroSlopeAtStart?Gt:Bt:rn,l.endingEnd=n?this.zeroSlopeAtEnd?Gt:Bt:rn)},r._scheduleFading=function(t,n,o){var l=this._mixer,u=l.time,h=this._weightInterpolant;h===null&&(h=l._lendControlInterpolant(),this._weightInterpolant=h);var p=h.parameterPositions,v=h.sampleValues;return p[0]=u,v[0]=n,p[1]=u+t,v[1]=o,this},e}();function sc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}sc.prototype=Object.assign(Object.create(Kt.prototype),{constructor:sc,_bindAction:function(e,r){var t=e._localRoot||this._root,n=e._clip.tracks,o=n.length,l=e._propertyBindings,u=e._interpolants,h=t.uuid,p=this._bindingsByRootAndName,v=p[h];v===void 0&&(v={},p[h]=v);for(var x=0;x!==o;++x){var w=n[x],T=w.name,S=v[T];if(S!==void 0)l[x]=S;else{if((S=l[x])!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,h,T));continue}var C=r&&r._propertyBindings[x].binding.parsedPath;++(S=new Pd(Yr.create(t,T,C),w.ValueTypeName,w.getValueSize())).referenceCount,this._addInactiveBinding(S,h,T),l[x]=S}u[x].resultBuffer=S.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var r=(e._localRoot||this._root).uuid,t=e._clip.uuid,n=this._actionsByClip[t];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,t,r)}for(var o=e._propertyBindings,l=0,u=o.length;l!==u;++l){var h=o[l];h.useCount++==0&&(this._lendBinding(h),h.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var r=e._propertyBindings,t=0,n=r.length;t!==n;++t){var o=r[t];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var r=e._cacheIndex;return r!==null&&r<this._nActiveActions},_addInactiveAction:function(e,r,t){var n=this._actions,o=this._actionsByClip,l=o[r];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[r]=l;else{var u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=n.length,n.push(e),l.actionByRoot[t]=e},_removeInactiveAction:function(e){var r=this._actions,t=r[r.length-1],n=e._cacheIndex;t._cacheIndex=n,r[n]=t,r.pop(),e._cacheIndex=null;var o=e._clip.uuid,l=this._actionsByClip,u=l[o],h=u.knownActions,p=h[h.length-1],v=e._byClipCacheIndex;p._byClipCacheIndex=v,h[v]=p,h.pop(),e._byClipCacheIndex=null,delete u.actionByRoot[(e._localRoot||this._root).uuid],h.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var r=e._propertyBindings,t=0,n=r.length;t!==n;++t){var o=r[t];--o.referenceCount==0&&this._removeInactiveBinding(o)}},_lendAction:function(e){var r=this._actions,t=e._cacheIndex,n=this._nActiveActions++,o=r[n];e._cacheIndex=n,r[n]=e,o._cacheIndex=t,r[t]=o},_takeBackAction:function(e){var r=this._actions,t=e._cacheIndex,n=--this._nActiveActions,o=r[n];e._cacheIndex=n,r[n]=e,o._cacheIndex=t,r[t]=o},_addInactiveBinding:function(e,r,t){var n=this._bindingsByRootAndName,o=this._bindings,l=n[r];l===void 0&&(l={},n[r]=l),l[t]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var r=this._bindings,t=e.binding,n=t.rootNode.uuid,o=t.path,l=this._bindingsByRootAndName,u=l[n],h=r[r.length-1],p=e._cacheIndex;h._cacheIndex=p,r[p]=h,r.pop(),delete u[o],Object.keys(u).length===0&&delete l[n]},_lendBinding:function(e){var r=this._bindings,t=e._cacheIndex,n=this._nActiveBindings++,o=r[n];e._cacheIndex=n,r[n]=e,o._cacheIndex=t,r[t]=o},_takeBackBinding:function(e){var r=this._bindings,t=e._cacheIndex,n=--this._nActiveBindings,o=r[n];e._cacheIndex=n,r[n]=e,o._cacheIndex=t,r[t]=o},_lendControlInterpolant:function(){var e=this._controlInterpolants,r=this._nActiveControlInterpolants++,t=e[r];return t===void 0&&((t=new Zl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=r,e[r]=t),t},_takeBackControlInterpolant:function(e){var r=this._controlInterpolants,t=e.__cacheIndex,n=--this._nActiveControlInterpolants,o=r[n];e.__cacheIndex=n,r[n]=e,o.__cacheIndex=t,r[t]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,r,t){var n=r||this._root,o=n.uuid,l=typeof e=="string"?Ui.findByName(n,e):e,u=l!==null?l.uuid:e,h=this._actionsByClip[u],p=null;if(t===void 0&&(t=l!==null?l.blendMode:qt),h!==void 0){var v=h.actionByRoot[o];if(v!==void 0&&v.blendMode===t)return v;p=h.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;var x=new da(this,l,r,t);return this._bindAction(x,p),this._addInactiveAction(x,u,o),x},existingAction:function(e,r){var t=r||this._root,n=t.uuid,o=typeof e=="string"?Ui.findByName(t,e):e,l=o?o.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[n]||null},stopAllAction:function(){for(var e=this._actions,r=this._nActiveActions-1;r>=0;--r)e[r].stop();return this},update:function(e){e*=this.timeScale;for(var r=this._actions,t=this._nActiveActions,n=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1,u=0;u!==t;++u)r[u]._update(n,e,o,l);for(var h=this._bindings,p=this._nActiveBindings,v=0;v!==p;++v)h[v].apply(l);return this},setTime:function(e){this.time=0;for(var r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var r=this._actions,t=e.uuid,n=this._actionsByClip,o=n[t];if(o!==void 0){for(var l=o.knownActions,u=0,h=l.length;u!==h;++u){var p=l[u];this._deactivateAction(p);var v=p._cacheIndex,x=r[r.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,x._cacheIndex=v,r[v]=x,r.pop(),this._removeInactiveBindingsForAction(p)}delete n[t]}},uncacheRoot:function(e){var r=e.uuid,t=this._actionsByClip;for(var n in t){var o=t[n].actionByRoot[r];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}var l=this._bindingsByRootAndName[r];if(l!==void 0)for(var u in l){var h=l[u];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(e,r){var t=this.existingAction(e,r);t!==null&&(this._deactivateAction(t),this._removeInactiveAction(t))}});var Lp=function(){function e(r){typeof r=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),r=arguments[1]),this.value=r}return e.prototype.clone=function(){return new e(this.value.clone===void 0?this.value:this.value.clone())},e}();function Qa(e,r,t){Tr.call(this,e,r),this.meshPerAttribute=t||1}function cu(e,r,t,n,o){this.buffer=e,this.type=r,this.itemSize=t,this.elementSize=n,this.count=o,this.version=0}function So(e,r,t,n){this.ray=new ws(e,r),this.near=t||0,this.far=n||1/0,this.camera=null,this.layers=new Ji,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function lc(e,r){return e.distance-r.distance}function uc(e,r,t,n){if(e.layers.test(r.layers)&&e.raycast(r,t),n===!0)for(var o=e.children,l=0,u=o.length;l<u;l++)uc(o[l],r,t,!0)}Qa.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Qa,isInstancedInterleavedBuffer:!0,copy:function(e){return Tr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var r=Tr.prototype.clone.call(this,e);return r.meshPerAttribute=this.meshPerAttribute,r},toJSON:function(e){var r=Tr.prototype.toJSON.call(this,e);return r.isInstancedInterleavedBuffer=!0,r.meshPerAttribute=this.meshPerAttribute,r}}),Object.defineProperty(cu.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(cu.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,r){return this.type=e,this.elementSize=r,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(So.prototype,{set:function(e,r){this.ray.set(e,r)},setFromCamera:function(e,r){r&&r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r&&r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r,t){var n=t||[];return uc(e,this,n,r),n.sort(lc),n},intersectObjects:function(e,r,t){var n=t||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var o=0,l=e.length;o<l;o++)uc(e[o],this,n,r);return n.sort(lc),n}});var lh=function(){function e(t,n,o){return t===void 0&&(t=1),n===void 0&&(n=0),o===void 0&&(o=0),this.radius=t,this.phi=n,this.theta=o,this}var r=e.prototype;return r.set=function(t,n,o){return this.radius=t,this.phi=n,this.theta=o,this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},r.makeSafe=function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},r.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},r.setFromCartesianCoords=function(t,n,o){return this.radius=Math.sqrt(t*t+n*n+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,o),this.phi=Math.acos(Ct.clamp(n/this.radius,-1,1))),this},e}(),Km=function(){function e(t,n,o){return this.radius=t!==void 0?t:1,this.theta=n!==void 0?n:0,this.y=o!==void 0?o:0,this}var r=e.prototype;return r.set=function(t,n,o){return this.radius=t,this.theta=n,this.y=o,this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},r.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},r.setFromCartesianCoords=function(t,n,o){return this.radius=Math.sqrt(t*t+o*o),this.theta=Math.atan2(t,o),this.y=n,this},e}(),Nd=new Ae,Ap=function(){function e(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new Ae(1/0,1/0),this.max=n!==void 0?n:new Ae(-1/0,-1/0)}var r=e.prototype;return r.set=function(t,n){return this.min.copy(t),this.max.copy(n),this},r.setFromPoints=function(t){this.makeEmpty();for(var n=0,o=t.length;n<o;n++)this.expandByPoint(t[n]);return this},r.setFromCenterAndSize=function(t,n){var o=Nd.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},r.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},r.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},r.getCenter=function(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},r.getSize=function(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},r.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},r.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},r.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},r.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},r.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},r.getParameter=function(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Ae),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},r.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},r.clampPoint=function(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Ae),n.copy(t).clamp(this.min,this.max)},r.distanceToPoint=function(t){return Nd.copy(t).clamp(this.min,this.max).sub(t).length()},r.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this},r.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},r.translate=function(t){return this.min.add(t),this.max.add(t),this},r.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},e}(),uh=new V,cc=new V,dc=function(){function e(t,n){this.start=t!==void 0?t:new V,this.end=n!==void 0?n:new V}var r=e.prototype;return r.set=function(t,n){return this.start.copy(t),this.end.copy(n),this},r.clone=function(){return new this.constructor().copy(this)},r.copy=function(t){return this.start.copy(t.start),this.end.copy(t.end),this},r.getCenter=function(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new V),t.addVectors(this.start,this.end).multiplyScalar(.5)},r.delta=function(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new V),t.subVectors(this.end,this.start)},r.distanceSq=function(){return this.start.distanceToSquared(this.end)},r.distance=function(){return this.start.distanceTo(this.end)},r.at=function(t,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new V),this.delta(n).multiplyScalar(t).add(this.start)},r.closestPointToPointParameter=function(t,n){uh.subVectors(t,this.start),cc.subVectors(this.end,this.start);var o=cc.dot(cc),l=cc.dot(uh)/o;return n&&(l=Ct.clamp(l,0,1)),l},r.closestPointToPoint=function(t,n,o){var l=this.closestPointToPointParameter(t,n);return o===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),o=new V),this.delta(o).multiplyScalar(l).add(this.start)},r.applyMatrix4=function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},r.equals=function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},e}();function as(e){Mt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}as.prototype=Object.create(Mt.prototype),as.prototype.constructor=as,as.prototype.isImmediateRenderObject=!0;var ch=new V,dh=function(e){function r(n,o){var l;(l=e.call(this)||this).light=n,l.light.updateMatrixWorld(),l.matrix=n.matrixWorld,l.matrixAutoUpdate=!1,l.color=o;for(var u=new kt,h=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],p=0,v=1;p<32;p++,v++){var x=p/32*Math.PI*2,w=v/32*Math.PI*2;h.push(Math.cos(x),Math.sin(x),1,Math.cos(w),Math.sin(w),1)}u.setAttribute("position",new tt(h,3));var T=new $n({fog:!1,toneMapped:!1});return l.cone=new ir(u,T),l.add(l.cone),l.update(),l}Ve(r,e);var t=r.prototype;return t.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},t.update=function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,o=n*Math.tan(this.light.angle);this.cone.scale.set(o,o,n),ch.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ch),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)},r}(Mt),Mo=new V,du=new on,fu=new on,Od=function(e){function r(t){for(var n,o=fc(t),l=new kt,u=[],h=[],p=new ht(0,0,1),v=new ht(0,1,0),x=0;x<o.length;x++){var w=o[x];w.parent&&w.parent.isBone&&(u.push(0,0,0),u.push(0,0,0),h.push(p.r,p.g,p.b),h.push(v.r,v.g,v.b))}l.setAttribute("position",new tt(u,3)),l.setAttribute("color",new tt(h,3));var T=new $n({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(n=e.call(this,l,T)||this).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=t,n.bones=o,n.matrix=t.matrixWorld,n.matrixAutoUpdate=!1,n}return Ve(r,e),r.prototype.updateMatrixWorld=function(t){var n=this.bones,o=this.geometry,l=o.getAttribute("position");fu.getInverse(this.root.matrixWorld);for(var u=0,h=0;u<n.length;u++){var p=n[u];p.parent&&p.parent.isBone&&(du.multiplyMatrices(fu,p.matrixWorld),Mo.setFromMatrixPosition(du),l.setXYZ(h,Mo.x,Mo.y,Mo.z),du.multiplyMatrices(fu,p.parent.matrixWorld),Mo.setFromMatrixPosition(du),l.setXYZ(h+1,Mo.x,Mo.y,Mo.z),h+=2)}o.getAttribute("position").needsUpdate=!0,e.prototype.updateMatrixWorld.call(this,t)},r}(ir);function fc(e){var r=[];e&&e.isBone&&r.push(e);for(var t=0;t<e.children.length;t++)r.push.apply(r,fc(e.children[t]));return r}var Pp=function(e){function r(n,o,l){var u,h=new tc(o,4,2),p=new ea({wireframe:!0,fog:!1,toneMapped:!1});return(u=e.call(this,h,p)||this).light=n,u.light.updateMatrixWorld(),u.color=l,u.type="PointLightHelper",u.matrix=u.light.matrixWorld,u.matrixAutoUpdate=!1,u.update(),u}Ve(r,e);var t=r.prototype;return t.dispose=function(){this.geometry.dispose(),this.material.dispose()},t.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)},r}(Jn),eg=new V,hc=new ht,Np=new ht,pc=function(e){function r(n,o,l){var u;(u=e.call(this)||this).light=n,u.light.updateMatrixWorld(),u.matrix=n.matrixWorld,u.matrixAutoUpdate=!1,u.color=l;var h=new Ku(o);h.rotateY(.5*Math.PI),u.material=new ea({wireframe:!0,fog:!1,toneMapped:!1}),u.color===void 0&&(u.material.vertexColors=!0);var p=h.getAttribute("position"),v=new Float32Array(3*p.count);return h.setAttribute("color",new Nt(v,3)),u.add(new Jn(h,u.material)),u.update(),u}Ve(r,e);var t=r.prototype;return t.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},t.update=function(){var n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var o=n.geometry.getAttribute("color");hc.copy(this.light.color),Np.copy(this.light.groundColor);for(var l=0,u=o.count;l<u;l++){var h=l<u/2?hc:Np;o.setXYZ(l,h.r,h.g,h.b)}o.needsUpdate=!0}n.lookAt(eg.setFromMatrixPosition(this.light.matrixWorld).negate())},r}(Mt),Op=function(e){function r(t,n,o,l){var u;t=t||10,n=n||10,o=new ht(o!==void 0?o:4473924),l=new ht(l!==void 0?l:8947848);for(var h=n/2,p=t/n,v=t/2,x=[],w=[],T=0,S=0,C=-v;T<=n;T++,C+=p){x.push(-v,0,C,v,0,C),x.push(C,0,-v,C,0,v);var P=T===h?o:l;P.toArray(w,S),S+=3,P.toArray(w,S),S+=3,P.toArray(w,S),S+=3,P.toArray(w,S),S+=3}var A=new kt;A.setAttribute("position",new tt(x,3)),A.setAttribute("color",new tt(w,3));var O=new $n({vertexColors:!0,toneMapped:!1});return(u=e.call(this,A,O)||this).type="GridHelper",u}return Ve(r,e),r}(ir),Dd=function(e){function r(t,n,o,l,u,h){var p;t=t||10,n=n||16,o=o||8,l=l||64,u=new ht(u!==void 0?u:4473924),h=new ht(h!==void 0?h:8947848);for(var v=[],x=[],w=0;w<=n;w++){var T=w/n*(2*Math.PI),S=Math.sin(T)*t,C=Math.cos(T)*t;v.push(0,0,0),v.push(S,0,C);var P=1&w?u:h;x.push(P.r,P.g,P.b),x.push(P.r,P.g,P.b)}for(var A=0;A<=o;A++)for(var O=1&A?u:h,H=t-t/o*A,k=0;k<l;k++){var B=k/l*(2*Math.PI),G=Math.sin(B)*H,Z=Math.cos(B)*H;v.push(G,0,Z),x.push(O.r,O.g,O.b),B=(k+1)/l*(2*Math.PI),G=Math.sin(B)*H,Z=Math.cos(B)*H,v.push(G,0,Z),x.push(O.r,O.g,O.b)}var q=new kt;q.setAttribute("position",new tt(v,3)),q.setAttribute("color",new tt(x,3));var ie=new $n({vertexColors:!0,toneMapped:!1});return(p=e.call(this,q,ie)||this).type="PolarGridHelper",p}return Ve(r,e),r}(ir),a=new V,s=new V,d=new V,g=function(e){function r(n,o,l){var u;(u=e.call(this)||this).light=n,u.light.updateMatrixWorld(),u.matrix=n.matrixWorld,u.matrixAutoUpdate=!1,u.color=l,o===void 0&&(o=1);var h=new kt;h.setAttribute("position",new tt([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));var p=new $n({fog:!1,toneMapped:!1});return u.lightPlane=new Br(h,p),u.add(u.lightPlane),(h=new kt).setAttribute("position",new tt([0,0,0,0,0,1],3)),u.targetLine=new Br(h,p),u.add(u.targetLine),u.update(),u}Ve(r,e);var t=r.prototype;return t.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},t.update=function(){a.setFromMatrixPosition(this.light.matrixWorld),s.setFromMatrixPosition(this.light.target.matrixWorld),d.subVectors(s,a),this.lightPlane.lookAt(s),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(s),this.targetLine.scale.z=d.length()},r}(Mt),_=new V,E=new Ua,z=function(e){function r(t){var n,o=new kt,l=new $n({color:16777215,vertexColors:!0,toneMapped:!1}),u=[],h=[],p={},v=new ht(16755200),x=new ht(16711680),w=new ht(43775),T=new ht(16777215),S=new ht(3355443);function C(A,O,H){P(A,H),P(O,H)}function P(A,O){u.push(0,0,0),h.push(O.r,O.g,O.b),p[A]===void 0&&(p[A]=[]),p[A].push(u.length/3-1)}return C("n1","n2",v),C("n2","n4",v),C("n4","n3",v),C("n3","n1",v),C("f1","f2",v),C("f2","f4",v),C("f4","f3",v),C("f3","f1",v),C("n1","f1",v),C("n2","f2",v),C("n3","f3",v),C("n4","f4",v),C("p","n1",x),C("p","n2",x),C("p","n3",x),C("p","n4",x),C("u1","u2",w),C("u2","u3",w),C("u3","u1",w),C("c","t",T),C("p","c",S),C("cn1","cn2",S),C("cn3","cn4",S),C("cf1","cf2",S),C("cf3","cf4",S),o.setAttribute("position",new tt(u,3)),o.setAttribute("color",new tt(h,3)),(n=e.call(this,o,l)||this).type="CameraHelper",n.camera=t,n.camera.updateProjectionMatrix&&n.camera.updateProjectionMatrix(),n.matrix=t.matrixWorld,n.matrixAutoUpdate=!1,n.pointMap=p,n.update(),n}return Ve(r,e),r.prototype.update=function(){var t=this.geometry,n=this.pointMap;E.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Y("c",n,t,E,0,0,-1),Y("t",n,t,E,0,0,1),Y("n1",n,t,E,-1,-1,-1),Y("n2",n,t,E,1,-1,-1),Y("n3",n,t,E,-1,1,-1),Y("n4",n,t,E,1,1,-1),Y("f1",n,t,E,-1,-1,1),Y("f2",n,t,E,1,-1,1),Y("f3",n,t,E,-1,1,1),Y("f4",n,t,E,1,1,1),Y("u1",n,t,E,.7,1.1,-1),Y("u2",n,t,E,-.7,1.1,-1),Y("u3",n,t,E,0,2,-1),Y("cf1",n,t,E,-1,0,1),Y("cf2",n,t,E,1,0,1),Y("cf3",n,t,E,0,-1,1),Y("cf4",n,t,E,0,1,1),Y("cn1",n,t,E,-1,0,-1),Y("cn2",n,t,E,1,0,-1),Y("cn3",n,t,E,0,-1,-1),Y("cn4",n,t,E,0,1,-1),t.getAttribute("position").needsUpdate=!0},r}(ir);function Y(e,r,t,n,o,l,u){_.set(o,l,u).unproject(n);var h=r[e];if(h!==void 0)for(var p=t.getAttribute("position"),v=0,x=h.length;v<x;v++)p.setXYZ(h[v],_.x,_.y,_.z)}var ae,ye,Be,je=new ot,Ue=function(e){function r(n,o){var l;o===void 0&&(o=16776960);var u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),h=new Float32Array(24),p=new kt;return p.setIndex(new Nt(u,1)),p.setAttribute("position",new Nt(h,3)),(l=e.call(this,p,new $n({color:o,toneMapped:!1}))||this).object=n,l.type="BoxHelper",l.matrixAutoUpdate=!1,l.update(),l}Ve(r,e);var t=r.prototype;return t.update=function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&je.setFromObject(this.object),!je.isEmpty()){var o=je.min,l=je.max,u=this.geometry.attributes.position,h=u.array;h[0]=l.x,h[1]=l.y,h[2]=l.z,h[3]=o.x,h[4]=l.y,h[5]=l.z,h[6]=o.x,h[7]=o.y,h[8]=l.z,h[9]=l.x,h[10]=o.y,h[11]=l.z,h[12]=l.x,h[13]=l.y,h[14]=o.z,h[15]=o.x,h[16]=l.y,h[17]=o.z,h[18]=o.x,h[19]=o.y,h[20]=o.z,h[21]=l.x,h[22]=o.y,h[23]=o.z,u.needsUpdate=!0,this.geometry.computeBoundingSphere()}},t.setFromObject=function(n){return this.object=n,this.update(),this},t.copy=function(n){return ir.prototype.copy.call(this,n),this.object=n.object,this},r}(ir),ct=function(e){function r(t,n){var o;n===void 0&&(n=16776960);var l=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=new kt;return u.setIndex(new Nt(l,1)),u.setAttribute("position",new tt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(o=e.call(this,u,new $n({color:n,toneMapped:!1}))||this).box=t,o.type="Box3Helper",o.geometry.computeBoundingSphere(),o}return Ve(r,e),r.prototype.updateMatrixWorld=function(t){var n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),e.prototype.updateMatrixWorld.call(this,t))},r}(ir),vt=function(e){function r(t,n,o){var l,u=o!==void 0?o:16776960,h=new kt;h.setAttribute("position",new tt([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),h.computeBoundingSphere(),(l=e.call(this,h,new $n({color:u,toneMapped:!1}))||this).type="PlaneHelper",l.plane=t,l.size=n===void 0?1:n;var p=new kt;return p.setAttribute("position",new tt([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),p.computeBoundingSphere(),l.add(new Jn(p,new ea({color:u,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),l}return Ve(r,e),r.prototype.updateMatrixWorld=function(t){var n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?1:0,this.lookAt(this.plane.normal),e.prototype.updateMatrixWorld.call(this,t)},r}(Br),wt=new V,wr=function(e){function r(n,o,l,u,h,p){var v;return(v=e.call(this)||this).type="ArrowHelper",n===void 0&&(n=new V(0,0,1)),o===void 0&&(o=new V(0,0,0)),l===void 0&&(l=1),u===void 0&&(u=16776960),h===void 0&&(h=.2*l),p===void 0&&(p=.2*h),ae===void 0&&((ae=new kt).setAttribute("position",new tt([0,0,0,0,1,0],3)),(ye=new qs(0,.5,1,5,1)).translate(0,-.5,0)),v.position.copy(o),v.line=new Br(ae,new $n({color:u,toneMapped:!1})),v.line.matrixAutoUpdate=!1,v.add(v.line),v.cone=new Jn(ye,new ea({color:u,toneMapped:!1})),v.cone.matrixAutoUpdate=!1,v.add(v.cone),v.setDirection(n),v.setLength(l,h,p),v}Ve(r,e);var t=r.prototype;return t.setDirection=function(n){if(n.y>.99999)this.quaternion.set(0,0,0,1);else if(n.y<-.99999)this.quaternion.set(1,0,0,0);else{wt.set(n.z,0,-n.x).normalize();var o=Math.acos(n.y);this.quaternion.setFromAxisAngle(wt,o)}},t.setLength=function(n,o,l){o===void 0&&(o=.2*n),l===void 0&&(l=.2*o),this.line.scale.set(1,Math.max(1e-4,n-o),1),this.line.updateMatrix(),this.cone.scale.set(l,o,l),this.cone.position.y=n,this.cone.updateMatrix()},t.setColor=function(n){this.line.material.color.set(n),this.cone.material.color.set(n)},t.copy=function(n){return e.prototype.copy.call(this,n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this},r}(Mt),me=function(e){function r(t){var n;t===void 0&&(t=1);var o=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],l=new kt;l.setAttribute("position",new tt(o,3)),l.setAttribute("color",new tt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var u=new $n({vertexColors:!0,toneMapped:!1});return(n=e.call(this,l,u)||this).type="AxesHelper",n}return Ve(r,e),r}(ir),ue=Math.pow(2,8),ge=[.125,.215,.35,.446,.526,.582],Je=5+ge.length,yt=20,Et=((Be={})[3e3]=0,Be[3001]=1,Be[3002]=2,Be[3004]=3,Be[3005]=4,Be[3006]=5,Be[3007]=6,Be),zt=new cr,Wt=Wx(),hr=Wt._lodPlanes,Rn=Wt._sizeLods,Na=Wt._sigmas,fh=null,mc=(1+Math.sqrt(5))/2,Id=1/mc,Lv=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,mc,Id),new V(0,mc,-Id),new V(Id,0,mc),new V(-Id,0,mc),new V(mc,Id,0),new V(-mc,Id,0)],jx=function(){function e(t){var n,o,l;this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=(n=yt,o=new Float32Array(n),l=new V(0,1,0),new ar({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l},inputEncoding:{value:Et[3e3]},outputEncoding:{value:Et[3e3]}},vertexShader:`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`,fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}var r=e.prototype;return r.fromScene=function(t,n,o,l){n===void 0&&(n=0),o===void 0&&(o=.1),l===void 0&&(l=100),fh=this._renderer.getRenderTarget();var u=this._allocateTargets();return this._sceneToCubeUV(t,o,l,u),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u},r.fromEquirectangular=function(t){return this._fromTexture(t)},r.fromCubemap=function(t){return this._fromTexture(t)},r.compileCubemapShader=function(){this._cubemapShader===null&&(this._cubemapShader=Nv(),this._compileMaterial(this._cubemapShader))},r.compileEquirectangularShader=function(){this._equirectShader===null&&(this._equirectShader=Pv(),this._compileMaterial(this._equirectShader))},r.dispose=function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(var t=0;t<hr.length;t++)hr[t].dispose()},r._cleanup=function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(fh),t.scissorTest=!1,Dp(t,0,0,t.width,t.height)},r._fromTexture=function(t){fh=this._renderer.getRenderTarget();var n=this._allocateTargets(t);return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n},r._allocateTargets=function(t){var n={magFilter:D,minFilter:D,generateMipmaps:!1,type:de,format:1023,encoding:Vx(t)?t.encoding:pt,depthBuffer:!1},o=Av(n);return o.depthBuffer=!t,this._pingPongRenderTarget=Av(n),o},r._compileMaterial=function(t){var n=new Jn(hr[0],t);this._renderer.compile(n,zt)},r._sceneToCubeUV=function(t,n,o,l){var u=new Er(90,1,n,o),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],v=this._renderer,x=v.outputEncoding,w=v.toneMapping,T=v.getClearColor(),S=v.getClearAlpha();v.toneMapping=0,v.outputEncoding=He;var C=t.background;if(C&&C.isColor){C.convertSRGBToLinear();var P=Math.max(C.r,C.g,C.b),A=Math.min(Math.max(Math.ceil(Math.log2(P)),-128),127);C=C.multiplyScalar(Math.pow(2,-A));var O=(A+128)/255;v.setClearColor(C,O),t.background=null}for(var H=0;H<6;H++){var k=H%3;k==0?(u.up.set(0,h[H],0),u.lookAt(p[H],0,0)):k==1?(u.up.set(0,0,h[H]),u.lookAt(0,p[H],0)):(u.up.set(0,h[H],0),u.lookAt(0,0,p[H])),Dp(l,k*ue,H>2?ue:0,ue,ue),v.setRenderTarget(l),v.render(t,u)}v.toneMapping=w,v.outputEncoding=x,v.setClearColor(T,S)},r._textureToCubeUV=function(t,n){var o=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=Nv()):this._equirectShader==null&&(this._equirectShader=Pv());var l=t.isCubeTexture?this._cubemapShader:this._equirectShader,u=new Jn(hr[0],l),h=l.uniforms;h.envMap.value=t,t.isCubeTexture||h.texelSize.value.set(1/t.image.width,1/t.image.height),h.inputEncoding.value=Et[t.encoding],h.outputEncoding.value=Et[n.texture.encoding],Dp(n,0,0,3*ue,2*ue),o.setRenderTarget(n),o.render(u,zt)},r._applyPMREM=function(t){var n=this._renderer,o=n.autoClear;n.autoClear=!1;for(var l=1;l<Je;l++){var u=Math.sqrt(Na[l]*Na[l]-Na[l-1]*Na[l-1]),h=Lv[(l-1)%Lv.length];this._blur(t,l-1,l,u,h)}n.autoClear=o},r._blur=function(t,n,o,l,u){var h=this._pingPongRenderTarget;this._halfBlur(t,h,n,o,l,"latitudinal",u),this._halfBlur(h,t,o,o,l,"longitudinal",u)},r._halfBlur=function(t,n,o,l,u,h,p){var v=this._renderer,x=this._blurMaterial;h!=="latitudinal"&&h!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var w=new Jn(hr[l],x),T=x.uniforms,S=Rn[o]-1,C=isFinite(u)?Math.PI/(2*S):2*Math.PI/39,P=u/C,A=isFinite(u)?1+Math.floor(3*P):yt;A>yt&&console.warn("sigmaRadians, "+u+", is too large and will clip, as it requested "+A+" samples when the maximum is set to "+yt);for(var O=[],H=0,k=0;k<yt;++k){var B=k/P,G=Math.exp(-B*B/2);O.push(G),k==0?H+=G:k<A&&(H+=2*G)}for(var Z=0;Z<O.length;Z++)O[Z]=O[Z]/H;T.envMap.value=t.texture,T.samples.value=A,T.weights.value=O,T.latitudinal.value=h==="latitudinal",p&&(T.poleAxis.value=p),T.dTheta.value=C,T.mipInt.value=8-o,T.inputEncoding.value=Et[t.texture.encoding],T.outputEncoding.value=Et[t.texture.encoding];var q=Rn[l];Dp(n,3*Math.max(0,ue-2*q),(l===0?0:2*ue)+2*q*(l>4?l-8+4:0),3*q,2*q),v.setRenderTarget(n),v.render(w,zt)},e}();function Vx(e){return e!==void 0&&e.type===de&&(e.encoding===He||e.encoding===Pt||e.encoding===un)}function Wx(){for(var e=[],r=[],t=[],n=8,o=0;o<Je;o++){var l=Math.pow(2,n);r.push(l);var u=1/l;o>4?u=ge[o-8+4-1]:o==0&&(u=0),t.push(u);for(var h=1/(l-1),p=-h/2,v=1+h/2,x=[p,p,v,p,v,v,p,p,v,v,p,v],w=new Float32Array(108),T=new Float32Array(72),S=new Float32Array(36),C=0;C<6;C++){var P=C%3*2/3-1,A=C>2?0:-1,O=[P,A,0,P+2/3,A,0,P+2/3,A+1,0,P,A,0,P+2/3,A+1,0,P,A+1,0];w.set(O,18*C),T.set(x,12*C);var H=[C,C,C,C,C,C];S.set(H,6*C)}var k=new kt;k.setAttribute("position",new Nt(w,3)),k.setAttribute("uv",new Nt(T,2)),k.setAttribute("faceIndex",new Nt(S,1)),e.push(k),n>4&&n--}return{_lodPlanes:e,_sizeLods:r,_sigmas:t}}function Av(e){var r=new mr(3*ue,3*ue,e);return r.texture.mapping=R,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dp(e,r,t,n,o){e.viewport.set(r,t,n,o),e.scissor.set(r,t,n,o)}function Pv(){return new ar({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Ae(1,1)},inputEncoding:{value:Et[3e3]},outputEncoding:{value:Et[3e3]}},vertexShader:`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`,fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Nv(){return new ar({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Et[3e3]},outputEncoding:{value:Et[3e3]}},vertexShader:`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`,fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Ov(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Hr.call(this,e),this.type="catmullrom",this.closed=!0}function Dv(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Hr.call(this,e),this.type="catmullrom"}function tg(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Hr.call(this,e),this.type="catmullrom"}Ot.create=function(e,r){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ot.prototype),e.prototype.constructor=e,e.prototype.getPoint=r,e},Object.assign(Za.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var r=this.getPoints(e);return this.createGeometry(r)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var r=this.getSpacedPoints(e);return this.createGeometry(r)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var r=new Bn,t=0,n=e.length;t<n;t++){var o=e[t];r.vertices.push(new V(o.x,o.y,o.z||0))}return r}}),Object.assign(ua.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Ov.prototype=Object.create(Hr.prototype),Dv.prototype=Object.create(Hr.prototype),tg.prototype=Object.create(Hr.prototype),Object.assign(tg.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Op.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Od.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Jt.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),tl.extractUrlBase(e)}}),Jt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Ap.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(ot.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Kr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),El.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},dc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Ct,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ct.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ct.ceilPowerOfTwo(e)}}),Object.assign(Mn.prototype,{flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(on.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new V().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,r,t,n,o,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,r,n,t,o,l)}}),ln.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},En.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ws.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Ir.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,r)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Ir,{barycoordFromPoint:function(e,r,t,n,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ir.getBarycoord(e,r,t,n,o)},normal:function(e,r,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ir.getNormal(e,r,t,n)}}),Object.assign(yo.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new pd(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Xl(this,e)}}),Object.assign(Ae.prototype,{fromAttribute:function(e,r,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,t)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(V.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,r){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(r,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,r,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,t)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(en.prototype,{fromAttribute:function(e,r,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,t)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Bn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(Mt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,r){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(r,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Mt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Jn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Jn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Gs.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Gu.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),td.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ot.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Er.prototype.setLens=function(e,r){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),r!==void 0&&(this.filmGauge=r),this.setFocalLength(e)},Object.defineProperties(Xn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Nt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Yt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Yt)}}}),Object.assign(Nt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Yt:mn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(kt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,r){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(r),this):this.setAttribute(e,r):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Nt(arguments[1],arguments[2])))},addDrawCall:function(e,r,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,r)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(kt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Gr.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(So.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Tr.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Yt},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Tr.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Yt:mn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ql.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(If.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Lp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ut.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ht}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(po.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ho.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(li.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(zi.prototype,{clearTarget:function(e,r,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(r,t,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(zi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Pt:He}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ci.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(mr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(_o.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var r=this;return new Pa().load(e,function(t){r.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Mp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ps.prototype.updateCubeMap=function(e,r){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,r)},Ps.prototype.clear=function(e,r,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,r,t,n)};var $x={merge:function(e,r,t){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),r.isMesh&&(r.matrixAutoUpdate&&r.updateMatrix(),n=r.matrix,r=r.geometry),e.merge(r,n,t)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};Sr.crossOrigin=void 0,Sr.loadTexture=function(e,r,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var o=new nu;o.setCrossOrigin(this.crossOrigin);var l=o.load(e,t,void 0,n);return r&&(l.mapping=r),l},Sr.loadTextureCube=function(e,r,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var o=new dt;o.setCrossOrigin(this.crossOrigin);var l=o.load(e,t,void 0,n);return r&&(l.mapping=r),l},Sr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Sr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var qx={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"122"}})),i.ACESFilmicToneMapping=4,i.AddEquation=c,i.AddOperation=2,i.AdditiveAnimationBlendMode=pn,i.AdditiveBlending=2,i.AlphaFormat=1021,i.AlwaysDepth=1,i.AlwaysStencilFunc=519,i.AmbientLight=dr,i.AmbientLightProbe=ai,i.AnimationClip=Ui,i.AnimationLoader=eu,i.AnimationMixer=sc,i.AnimationObjectGroup=Cp,i.AnimationUtils=qn,i.ArcCurve=Ya,i.ArrayCamera=Fs,i.ArrowHelper=wr,i.Audio=_o,i.AudioAnalyser=Mp,i.AudioContext=Xr,i.AudioListener=rh,i.AudioLoader=Pa,i.AxesHelper=me,i.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new me(e)},i.BackSide=1,i.BasicDepthPacking=3200,i.BasicShadowMap=0,i.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new vo(e)},i.Bone=rd,i.BooleanKeyframeTrack=bd,i.BoundingBoxHelper=function(e,r){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ue(e,r)},i.Box2=Ap,i.Box3=ot,i.Box3Helper=ct,i.BoxBufferGeometry=Ru,i.BoxGeometry=$u,i.BoxHelper=Ue,i.BufferAttribute=Nt,i.BufferGeometry=kt,i.BufferGeometryLoader=wo,i.ByteType=1010,i.Cache=es,i.Camera=Ua,i.CameraHelper=z,i.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},i.CanvasTexture=Ti,i.CatmullRomCurve3=Hr,i.CineonToneMapping=3,i.CircleBufferGeometry=er,i.CircleGeometry=qu,i.ClampToEdgeWrapping=I,i.Clock=Sp,i.ClosedSplineCurve3=Ov,i.Color=ht,i.ColorKeyframeTrack=rc,i.CompressedTexture=Va,i.CompressedTextureLoader=Fr,i.ConeBufferGeometry=ld,i.ConeGeometry=Yu,i.CubeCamera=Ps,i.CubeGeometry=$u,i.CubeReflectionMapping=m,i.CubeRefractionMapping=y,i.CubeTexture=Ga,i.CubeTextureLoader=dt,i.CubeUVReflectionMapping=R,i.CubeUVRefractionMapping=L,i.CubicBezierCurve=Ur,i.CubicBezierCurve3=Ca,i.CubicInterpolant=Yl,i.CullFaceBack=1,i.CullFaceFront=2,i.CullFaceFrontBack=3,i.CullFaceNone=0,i.Curve=Ot,i.CurvePath=Za,i.CustomBlending=5,i.CustomToneMapping=5,i.CylinderBufferGeometry=qs,i.CylinderGeometry=Xu,i.Cylindrical=Km,i.DataTexture=ao,i.DataTexture2DArray=Ns,i.DataTexture3D=Tl,i.DataTextureLoader=vo,i.DecrementStencilOp=7683,i.DecrementWrapStencilOp=34056,i.DefaultLoadingManager=Kl,i.DepthFormat=it,i.DepthStencilFormat=st,i.DepthTexture=co,i.DirectionalLight=xo,i.DirectionalLightHelper=g,i.DiscreteInterpolant=Jl,i.DodecahedronBufferGeometry=tr,i.DodecahedronGeometry=Rr,i.DoubleSide=2,i.DstAlphaFactor=206,i.DstColorFactor=208,i.DynamicBufferAttribute=function(e,r){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Nt(e,r).setUsage(Yt)},i.DynamicCopyUsage=35050,i.DynamicDrawUsage=Yt,i.DynamicReadUsage=35049,i.EdgesGeometry=Ff,i.EdgesHelper=function(e,r){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ir(new Ff(e.geometry),new $n({color:r!==void 0?r:16777215}))},i.EllipseCurve=Gi,i.EqualDepth=4,i.EqualStencilFunc=514,i.EquirectangularReflectionMapping=b,i.EquirectangularRefractionMapping=M,i.Euler=Pc,i.EventDispatcher=Kt,i.ExtrudeBufferGeometry=ql,i.ExtrudeGeometry=pd,i.Face3=xl,i.Face4=function(e,r,t,n,o,l,u){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new xl(e,r,t,o,l,u)},i.FaceColors=1,i.FileLoader=sa,i.FlatShading=1,i.Float32Attribute=function(e,r){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new tt(e,r)},i.Float32BufferAttribute=tt,i.Float64Attribute=function(e,r){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Rs(e,r)},i.Float64BufferAttribute=Rs,i.FloatType=xe,i.Fog=Df,i.FogExp2=Kc,i.Font=oc,i.FontLoader=lu,i.FrontSide=0,i.Frustum=El,i.GLBufferAttribute=cu,i.GLSL1="100",i.GLSL3=In,i.GammaEncoding=un,i.Geometry=Bn,i.GeometryUtils=$x,i.GreaterDepth=6,i.GreaterEqualDepth=5,i.GreaterEqualStencilFunc=518,i.GreaterStencilFunc=516,i.GridHelper=Op,i.Group=so,i.HalfFloatType=Oe,i.HemisphereLight=el,i.HemisphereLightHelper=pc,i.HemisphereLightProbe=ji,i.IcosahedronBufferGeometry=Vf,i.IcosahedronGeometry=Wf,i.ImageBitmapLoader=su,i.ImageLoader=tu,i.ImageUtils=Sr,i.ImmediateRenderObject=as,i.IncrementStencilOp=7682,i.IncrementWrapStencilOp=34055,i.InstancedBufferAttribute=ou,i.InstancedBufferGeometry=Gr,i.InstancedInterleavedBuffer=Qa,i.InstancedMesh=lo,i.Int16Attribute=function(e,r){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Es(e,r)},i.Int16BufferAttribute=Es,i.Int32Attribute=function(e,r){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ts(e,r)},i.Int32BufferAttribute=Ts,i.Int8Attribute=function(e,r){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new zo(e,r)},i.Int8BufferAttribute=zo,i.IntType=1013,i.InterleavedBuffer=Tr,i.InterleavedBufferAttribute=ba,i.Interpolant=gi,i.InterpolateDiscrete=Te,i.InterpolateLinear=Lt,i.InterpolateSmooth=At,i.InvertStencilOp=5386,i.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},i.KeepStencilOp=jt,i.KeyframeTrack=Lr,i.LOD=Gs,i.LatheBufferGeometry=$f,i.LatheGeometry=yp,i.Layers=Ji,i.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},i.LessDepth=2,i.LessEqualDepth=3,i.LessEqualStencilFunc=515,i.LessStencilFunc=513,i.Light=Xn,i.LightProbe=wi,i.Line=Br,i.Line3=dc,i.LineBasicMaterial=$n,i.LineCurve=yi,i.LineCurve3=xr,i.LineDashedMaterial=go,i.LineLoop=Sa,i.LinePieces=1,i.LineSegments=ir,i.LineStrip=0,i.LinearEncoding=He,i.LinearFilter=$,i.LinearInterpolant=Zl,i.LinearMipMapLinearFilter=1008,i.LinearMipMapNearestFilter=1007,i.LinearMipmapLinearFilter=oe,i.LinearMipmapNearestFilter=j,i.LinearToneMapping=1,i.Loader=Jt,i.LoaderUtils=tl,i.LoadingManager=_d,i.LogLuvEncoding=3003,i.LoopOnce=2200,i.LoopPingPong=2202,i.LoopRepeat=2201,i.LuminanceAlphaFormat=1025,i.LuminanceFormat=1024,i.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},i.Material=Ut,i.MaterialLoader=au,i.Math=Ct,i.MathUtils=Ct,i.Matrix3=Mn,i.Matrix4=on,i.MaxEquation=104,i.Mesh=Jn,i.MeshBasicMaterial=ea,i.MeshDepthMaterial=ui,i.MeshDistanceMaterial=rr,i.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},i.MeshLambertMaterial=mo,i.MeshMatcapMaterial=Jo,i.MeshNormalMaterial=Zo,i.MeshPhongMaterial=po,i.MeshPhysicalMaterial=ho,i.MeshStandardMaterial=Ta,i.MeshToonMaterial=Yo,i.MinEquation=103,i.MirroredRepeatWrapping=F,i.MixOperation=1,i.MultiMaterial=function(e){return e===void 0&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},i.MultiplyBlending=4,i.MultiplyOperation=0,i.NearestFilter=D,i.NearestMipMapLinearFilter=1005,i.NearestMipMapNearestFilter=1004,i.NearestMipmapLinearFilter=X,i.NearestMipmapNearestFilter=W,i.NeverDepth=0,i.NeverStencilFunc=512,i.NoBlending=0,i.NoColors=0,i.NoToneMapping=0,i.NormalAnimationBlendMode=qt,i.NormalBlending=1,i.NotEqualDepth=7,i.NotEqualStencilFunc=517,i.NumberKeyframeTrack=Qo,i.Object3D=Mt,i.ObjectLoader=Kf,i.ObjectSpaceNormalMap=1,i.OctahedronBufferGeometry=Ku,i.OctahedronGeometry=qf,i.OneFactor=201,i.OneMinusDstAlphaFactor=207,i.OneMinusDstColorFactor=209,i.OneMinusSrcAlphaFactor=205,i.OneMinusSrcColorFactor=203,i.OrthographicCamera=cr,i.PCFShadowMap=1,i.PCFSoftShadowMap=2,i.PMREMGenerator=jx,i.ParametricBufferGeometry=Ks,i.ParametricGeometry=qo,i.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new hi(e)},i.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Fi(e)},i.ParticleSystem=function(e,r){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new $s(e,r)},i.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Fi(e)},i.Path=ua,i.PerspectiveCamera=Er,i.Plane=ln,i.PlaneBufferGeometry=Cu,i.PlaneGeometry=xp,i.PlaneHelper=vt,i.PointCloud=function(e,r){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new $s(e,r)},i.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Fi(e)},i.PointLight=or,i.PointLightHelper=Pp,i.Points=$s,i.PointsMaterial=Fi,i.PolarGridHelper=Dd,i.PolyhedronBufferGeometry=Hi,i.PolyhedronGeometry=wp,i.PositionalAudio=Ym,i.PropertyBinding=Yr,i.PropertyMixer=Pd,i.QuadraticBezierCurve=la,i.QuadraticBezierCurve3=Nr,i.Quaternion=En,i.QuaternionKeyframeTrack=Ko,i.QuaternionLinearInterpolant=ic,i.REVISION="122",i.RGBADepthPacking=3201,i.RGBAFormat=Xe,i.RGBAIntegerFormat=1033,i.RGBA_ASTC_10x10_Format=37819,i.RGBA_ASTC_10x5_Format=37816,i.RGBA_ASTC_10x6_Format=37817,i.RGBA_ASTC_10x8_Format=37818,i.RGBA_ASTC_12x10_Format=37820,i.RGBA_ASTC_12x12_Format=37821,i.RGBA_ASTC_4x4_Format=37808,i.RGBA_ASTC_5x4_Format=37809,i.RGBA_ASTC_5x5_Format=37810,i.RGBA_ASTC_6x5_Format=37811,i.RGBA_ASTC_6x6_Format=37812,i.RGBA_ASTC_8x5_Format=37813,i.RGBA_ASTC_8x6_Format=37814,i.RGBA_ASTC_8x8_Format=37815,i.RGBA_BPTC_Format=36492,i.RGBA_ETC2_EAC_Format=le,i.RGBA_PVRTC_2BPPV1_Format=pe,i.RGBA_PVRTC_4BPPV1_Format=De,i.RGBA_S3TC_DXT1_Format=_t,i.RGBA_S3TC_DXT3_Format=It,i.RGBA_S3TC_DXT5_Format=nn,i.RGBDEncoding=lr,i.RGBEEncoding=pt,i.RGBEFormat=1023,i.RGBFormat=ze,i.RGBIntegerFormat=1032,i.RGBM16Encoding=Yn,i.RGBM7Encoding=Sn,i.RGB_ETC1_Format=36196,i.RGB_ETC2_Format=Re,i.RGB_PVRTC_2BPPV1_Format=Rt,i.RGB_PVRTC_4BPPV1_Format=Dt,i.RGB_S3TC_DXT1_Format=gt,i.RGFormat=1030,i.RGIntegerFormat=1031,i.RawShaderMaterial=ar,i.Ray=ws,i.Raycaster=So,i.RectAreaLight=ts,i.RedFormat=1028,i.RedIntegerFormat=1029,i.ReinhardToneMapping=2,i.RepeatWrapping=N,i.ReplaceStencilOp=7681,i.ReverseSubtractEquation=102,i.RingBufferGeometry=Xf,i.RingGeometry=aa,i.SRGB8_ALPHA8_ASTC_10x10_Format=37851,i.SRGB8_ALPHA8_ASTC_10x5_Format=37848,i.SRGB8_ALPHA8_ASTC_10x6_Format=37849,i.SRGB8_ALPHA8_ASTC_10x8_Format=37850,i.SRGB8_ALPHA8_ASTC_12x10_Format=37852,i.SRGB8_ALPHA8_ASTC_12x12_Format=37853,i.SRGB8_ALPHA8_ASTC_4x4_Format=37840,i.SRGB8_ALPHA8_ASTC_5x4_Format=37841,i.SRGB8_ALPHA8_ASTC_5x5_Format=37842,i.SRGB8_ALPHA8_ASTC_6x5_Format=37843,i.SRGB8_ALPHA8_ASTC_6x6_Format=37844,i.SRGB8_ALPHA8_ASTC_8x5_Format=37845,i.SRGB8_ALPHA8_ASTC_8x6_Format=37846,i.SRGB8_ALPHA8_ASTC_8x8_Format=37847,i.Scene=If,i.SceneUtils=qx,i.ShaderChunk=sn,i.ShaderLib=ya,i.ShaderMaterial=li,i.ShadowMaterial=Cr,i.Shape=yo,i.ShapeBufferGeometry=ec,i.ShapeGeometry=Xl,i.ShapePath=rl,i.ShapeUtils=Xa,i.ShortType=1011,i.Skeleton=Gu,i.SkeletonHelper=Od,i.SkinnedMesh=td,i.SmoothShading=2,i.Sphere=Kr,i.SphereBufferGeometry=tc,i.SphereGeometry=Yf,i.Spherical=lh,i.SphericalHarmonics3=ns,i.Spline=tg,i.SplineCurve=La,i.SplineCurve3=Dv,i.SpotLight=vn,i.SpotLightHelper=dh,i.Sprite=hi,i.SpriteMaterial=_a,i.SrcAlphaFactor=204,i.SrcAlphaSaturateFactor=210,i.SrcColorFactor=202,i.StaticCopyUsage=35046,i.StaticDrawUsage=mn,i.StaticReadUsage=35045,i.StereoCamera=Ad,i.StreamCopyUsage=35042,i.StreamDrawUsage=35040,i.StreamReadUsage=35041,i.StringKeyframeTrack=oa,i.SubtractEquation=101,i.SubtractiveBlending=3,i.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},i.TangentSpaceNormalMap=0,i.TetrahedronBufferGeometry=md,i.TetrahedronGeometry=gd,i.TextBufferGeometry=Xo,i.TextGeometry=vd,i.Texture=cn,i.TextureLoader=nu,i.TorusBufferGeometry=nc,i.TorusGeometry=bp,i.TorusKnotBufferGeometry=yd,i.TorusKnotGeometry=Zf,i.Triangle=Ir,i.TriangleFanDrawMode=2,i.TriangleStripDrawMode=1,i.TrianglesDrawMode=0,i.TubeBufferGeometry=xd,i.TubeGeometry=Jf,i.UVMapping=f,i.Uint16Attribute=function(e,r){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ha(e,r)},i.Uint16BufferAttribute=Ha,i.Uint32Attribute=function(e,r){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Bo(e,r)},i.Uint32BufferAttribute=Bo,i.Uint8Attribute=function(e,r){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Su(e,r)},i.Uint8BufferAttribute=Su,i.Uint8ClampedAttribute=function(e,r){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Mu(e,r)},i.Uint8ClampedBufferAttribute=Mu,i.Uniform=Lp,i.UniformsLib=nt,i.UniformsUtils=mf,i.UnsignedByteType=de,i.UnsignedInt248Type=Ge,i.UnsignedIntType=fe,i.UnsignedShort4444Type=1017,i.UnsignedShort5551Type=1018,i.UnsignedShort565Type=1019,i.UnsignedShortType=he,i.VSMShadowMap=3,i.Vector2=Ae,i.Vector3=V,i.Vector4=en,i.VectorKeyframeTrack=Ql,i.Vertex=function(e,r,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new V(e,r,t)},i.VertexColors=2,i.VideoTexture=sd,i.WebGL1Renderer=Fl,i.WebGLCubeRenderTarget=io,i.WebGLMultisampleRenderTarget=Ni,i.WebGLRenderTarget=mr,i.WebGLRenderTargetCube=function(e,r,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new io(e,t)},i.WebGLRenderer=zi,i.WebGLUtils=di,i.WireframeGeometry=wd,i.WireframeHelper=function(e,r){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ir(new wd(e.geometry),new $n({color:r!==void 0?r:16777215}))},i.WrapAroundEnding=rn,i.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new sa(e)},i.ZeroCurvatureEnding=Bt,i.ZeroFactor=200,i.ZeroSlopeEnding=Gt,i.ZeroStencilOp=0,i.sRGBEncoding=Pt,Object.defineProperty(i,"__esModule",{value:!0})});THREE.OrbitControls=function(i,c){this.object=i,this.domElement=c!==void 0?c:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var f=this,m=1e-6,y=new THREE.Vector2,b=new THREE.Vector2,M=new THREE.Vector2,R=new THREE.Vector2,L=new THREE.Vector2,N=new THREE.Vector2,I=new THREE.Vector3,F=new THREE.Vector3,D=new THREE.Vector2,W=new THREE.Vector2,X=new THREE.Vector2,$=0,j=0,oe=1,de=new THREE.Vector3,he=new THREE.Vector3,fe={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},xe=fe.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var Oe={type:"change"},Ge={type:"start"},ze={type:"end"};this.rotateLeft=function(pe){pe===void 0&&(pe=Xe()),j-=pe},this.rotateUp=function(pe){pe===void 0&&(pe=Xe()),$-=pe},this.panLeft=function(pe){var Re=this.object.matrix.elements;I.set(Re[0],Re[1],Re[2]),I.multiplyScalar(-pe),de.add(I)},this.panUp=function(pe){var Re=this.object.matrix.elements;I.set(Re[4],Re[5],Re[6]),I.multiplyScalar(pe),de.add(I)},this.pan=function(pe,Re){var le=f.domElement===document?f.domElement.body:f.domElement;if(f.object.fov!==void 0){var Te=f.object.position,Lt=Te.clone().sub(f.target),At=Lt.length();At*=Math.tan(f.object.fov/2*Math.PI/180),f.panLeft(2*pe*At/le.clientHeight),f.panUp(2*Re*At/le.clientHeight)}else f.object.top!==void 0?(f.panLeft(pe*(f.object.right-f.object.left)/le.clientWidth),f.panUp(Re*(f.object.top-f.object.bottom)/le.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(pe){pe===void 0&&(pe=it()),oe/=pe},this.dollyOut=function(pe){pe===void 0&&(pe=it()),oe*=pe},this.update=function(){var pe=this.object.position;F.copy(pe).sub(this.target);var Re=Math.atan2(F.x,F.z),le=Math.atan2(Math.sqrt(F.x*F.x+F.z*F.z),F.y);this.autoRotate&&this.rotateLeft(Xe()),Re+=j,le+=$,le=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,le)),le=Math.max(m,Math.min(Math.PI-m,le));var Te=F.length()*oe;Te=Math.max(this.minDistance,Math.min(this.maxDistance,Te)),this.target.add(de),F.x=Te*Math.sin(le)*Math.sin(Re),F.y=Te*Math.cos(le),F.z=Te*Math.sin(le)*Math.cos(Re),pe.copy(this.target).add(F),this.object.lookAt(this.target),j=0,$=0,oe=1,de.set(0,0,0),he.distanceTo(this.object.position)>0&&(this.dispatchEvent(Oe),he.copy(this.object.position))},this.reset=function(){xe=fe.NONE,this.target.copy(this.target0),this.update()};function Xe(){return 2*Math.PI/60/60*f.autoRotateSpeed}function it(){return Math.pow(.95,f.zoomSpeed)}function st(pe){if(f.enabled!==!1){if(pe.preventDefault(),pe.button===0){if(f.noRotate===!0)return;xe=fe.ROTATE,y.set(pe.clientX,pe.clientY)}else if(pe.button===1){if(f.noZoom===!0)return;xe=fe.DOLLY,D.set(pe.clientX,pe.clientY)}else if(pe.button===2){if(f.noPan===!0)return;xe=fe.PAN,R.set(pe.clientX,pe.clientY)}f.domElement.addEventListener("mousemove",gt,!1),f.domElement.addEventListener("mouseup",_t,!1),f.dispatchEvent(Ge)}}function gt(pe){if(f.enabled!==!1){pe.preventDefault();var Re=f.domElement===document?f.domElement.body:f.domElement;if(xe===fe.ROTATE){if(f.noRotate===!0)return;b.set(pe.clientX,pe.clientY),M.subVectors(b,y),f.rotateLeft(2*Math.PI*M.x/Re.clientWidth*f.rotateSpeed),f.rotateUp(2*Math.PI*M.y/Re.clientHeight*f.rotateSpeed),y.copy(b)}else if(xe===fe.DOLLY){if(f.noZoom===!0)return;W.set(pe.clientX,pe.clientY),X.subVectors(W,D),X.y>0?f.dollyIn():f.dollyOut(),D.copy(W)}else if(xe===fe.PAN){if(f.noPan===!0)return;L.set(pe.clientX,pe.clientY),N.subVectors(L,R),f.pan(N.x,N.y),R.copy(L)}f.update()}}function _t(){f.enabled!==!1&&(f.domElement.removeEventListener("mousemove",gt,!1),f.domElement.removeEventListener("mouseup",_t,!1),f.dispatchEvent(ze),xe=fe.NONE)}function It(pe){if(!(f.enabled===!1||f.noZoom===!0)){pe.preventDefault();var Re=0;pe.wheelDelta!==void 0?Re=pe.wheelDelta:pe.detail!==void 0&&(Re=-pe.detail),Re>0?f.dollyOut():f.dollyIn(),f.update(),f.dispatchEvent(Ge),f.dispatchEvent(ze)}}function nn(pe){if(!(f.enabled===!1||f.noKeys===!0||f.noPan===!0))switch(pe.keyCode){case f.keys.UP:f.pan(0,f.keyPanSpeed),f.update();break;case f.keys.BOTTOM:f.pan(0,-f.keyPanSpeed),f.update();break;case f.keys.LEFT:f.pan(f.keyPanSpeed,0),f.update();break;case f.keys.RIGHT:f.pan(-f.keyPanSpeed,0),f.update();break}}function Dt(pe){if(f.enabled!==!1){switch(pe.touches.length){case 1:if(f.noRotate===!0)return;xe=fe.TOUCH_ROTATE,y.set(pe.touches[0].pageX,pe.touches[0].pageY);break;case 2:if(f.noZoom===!0)return;xe=fe.TOUCH_DOLLY;var Re=pe.touches[0].pageX-pe.touches[1].pageX,le=pe.touches[0].pageY-pe.touches[1].pageY,Te=Math.sqrt(Re*Re+le*le);D.set(0,Te);break;case 3:if(f.noPan===!0)return;xe=fe.TOUCH_PAN,R.set(pe.touches[0].pageX,pe.touches[0].pageY);break;default:xe=fe.NONE}f.dispatchEvent(Ge)}}function Rt(pe){if(f.enabled!==!1){pe.preventDefault(),pe.stopPropagation();var Re=f.domElement===document?f.domElement.body:f.domElement;switch(pe.touches.length){case 1:if(f.noRotate===!0||xe!==fe.TOUCH_ROTATE)return;b.set(pe.touches[0].pageX,pe.touches[0].pageY),M.subVectors(b,y),f.rotateLeft(2*Math.PI*M.x/Re.clientWidth*f.rotateSpeed),f.rotateUp(2*Math.PI*M.y/Re.clientHeight*f.rotateSpeed),y.copy(b),f.update();break;case 2:if(f.noZoom===!0||xe!==fe.TOUCH_DOLLY)return;var le=pe.touches[0].pageX-pe.touches[1].pageX,Te=pe.touches[0].pageY-pe.touches[1].pageY,Lt=Math.sqrt(le*le+Te*Te);W.set(0,Lt),X.subVectors(W,D),X.y>0?f.dollyOut():f.dollyIn(),D.copy(W),f.update();break;case 3:if(f.noPan===!0||xe!==fe.TOUCH_PAN)return;L.set(pe.touches[0].pageX,pe.touches[0].pageY),N.subVectors(L,R),f.pan(N.x,N.y),R.copy(L),f.update();break;default:xe=fe.NONE}}}function De(){f.enabled!==!1&&(f.dispatchEvent(ze),xe=fe.NONE)}this.domElement.addEventListener("contextmenu",function(pe){pe.preventDefault()},!1),this.domElement.addEventListener("mousedown",st,!1),this.domElement.addEventListener("mousewheel",It,!1),this.domElement.addEventListener("DOMMouseScroll",It,!1),this.domElement.addEventListener("touchstart",Dt,!1),this.domElement.addEventListener("touchend",De,!1),this.domElement.addEventListener("touchmove",Rt,!1),window.addEventListener("keydown",nn,!1)};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.SpriteCanvasMaterial=function(i){THREE.Material.call(this),this.type="SpriteCanvasMaterial",this.color=new THREE.Color(16777215),this.program=function(){},this.setValues(i)};THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteCanvasMaterial.prototype.constructor=THREE.SpriteCanvasMaterial;THREE.SpriteCanvasMaterial.prototype.isSpriteCanvasMaterial=!0;THREE.SpriteCanvasMaterial.prototype.clone=function(){var i=new THREE.SpriteCanvasMaterial;return i.copy(this),i.color.copy(this.color),i.program=this.program,i};THREE.CanvasRenderer=function(i){console.log("THREE.CanvasRenderer",THREE.REVISION),i=i||{};var c=this,f,m,y,b=new THREE.Projector,M=i.canvas!==void 0?i.canvas:document.createElement("canvas"),R=M.width,L=M.height,N=Math.floor(R/2),I=Math.floor(L/2),F=0,D=0,W=R,X=L,$=1,j=M.getContext("2d",{alpha:i.alpha===!0}),oe=new THREE.Color(0),de=i.alpha===!0?0:1,he=1,fe=0,xe=null,Oe=null,Ge=null,ze=null,Xe=null,it=[],st,gt,_t,It,nn,Dt,Rt,De,pe,Re=new THREE.Color,le=new THREE.Color,Te=new THREE.Color,Lt=new THREE.Color,At={},Bt,Gt,rn,qt,pn,He,Pt,un=new THREE.Box2,pt=new THREE.Box2,Sn=new THREE.Box2,Yn=new THREE.Color,lr=new THREE.Color,jt=new THREE.Color,mn=new THREE.Vector3,Yt=new THREE.Vector3,In=new THREE.Vector3,Kt=new THREE.Matrix3;j.setLineDash===void 0&&(j.setLineDash=function(){}),this.domElement=M,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Ce){Ce!==void 0&&($=Ce)},this.setSize=function(Ce,lt,ot){R=Ce*$,L=lt*$,M.width=R,M.height=L,N=Math.floor(R/2),I=Math.floor(L/2),ot!==!1&&(M.style.width=Ce+"px",M.style.height=lt+"px"),un.min.set(-N,-I),un.max.set(N,I),pt.min.set(-N,-I),pt.max.set(N,I),he=1,fe=0,xe=null,Oe=null,Ge=null,ze=null,Xe=null,this.setViewport(0,0,Ce,lt)},this.setViewport=function(Ce,lt,ot,mt){F=Ce*$,D=lt*$,W=ot*$,X=mt*$},this.setScissor=function(){},this.setScissorTest=function(){},this.setClearColor=function(Ce,lt){oe.set(Ce),de=lt!==void 0?lt:1,pt.min.set(-N,-I),pt.max.set(N,I)},this.setClearColorHex=function(Ce,lt){console.warn("THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(Ce,lt)},this.getClearColor=function(){return oe},this.getClearAlpha=function(){return de},this.getMaxAnisotropy=function(){return 0},this.clear=function(){pt.isEmpty()===!1&&(pt.intersect(un),pt.expandByScalar(2),pt.min.x=pt.min.x+N,pt.min.y=-pt.min.y+I,pt.max.x=pt.max.x+N,pt.max.y=-pt.max.y+I,de<1&&j.clearRect(pt.min.x|0,pt.max.y|0,pt.max.x-pt.min.x|0,pt.min.y-pt.max.y|0),de>0&&(Sr(1),Gn(THREE.NormalBlending),En("rgba("+Math.floor(oe.r*255)+","+Math.floor(oe.g*255)+","+Math.floor(oe.b*255)+","+de+")"),j.fillRect(pt.min.x|0,pt.max.y|0,pt.max.x-pt.min.x|0,pt.min.y-pt.max.y|0)),pt.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(Ce,lt){if(lt.isCamera===void 0){console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");return}var ot=Ce.background;ot&&ot.isColor?(Sr(1),Gn(THREE.NormalBlending),En(ot.getStyle()),j.fillRect(0,0,R,L)):this.autoClear===!0&&this.clear(),c.info.render.vertices=0,c.info.render.faces=0,j.setTransform(W/R,0,0,-X/L,F,L-D),j.translate(N,I),f=b.projectScene(Ce,lt,this.sortObjects,this.sortElements),m=f.elements,y=f.lights,Kt.getNormalMatrix(lt.matrixWorldInverse),Qe();for(var mt=0,Vt=m.length;mt<Vt;mt++){var xt=m[mt],ft=xt.material;if(!(ft===void 0||ft.opacity===0)){if(Sn.makeEmpty(),xt instanceof THREE.RenderableSprite)st=xt,st.x*=N,st.y*=I,Qr(st,xt,ft);else if(xt instanceof THREE.RenderableLine)st=xt.v1,gt=xt.v2,st.positionScreen.x*=N,st.positionScreen.y*=I,gt.positionScreen.x*=N,gt.positionScreen.y*=I,Sn.setFromPoints([st.positionScreen,gt.positionScreen]),un.intersectsBox(Sn)===!0&&Ct(st,gt,xt,ft);else if(xt instanceof THREE.RenderableFace){if(st=xt.v1,gt=xt.v2,_t=xt.v3,st.positionScreen.z<-1||st.positionScreen.z>1||gt.positionScreen.z<-1||gt.positionScreen.z>1||_t.positionScreen.z<-1||_t.positionScreen.z>1)continue;st.positionScreen.x*=N,st.positionScreen.y*=I,gt.positionScreen.x*=N,gt.positionScreen.y*=I,_t.positionScreen.x*=N,_t.positionScreen.y*=I,ft.overdraw>0&&(Mn(st.positionScreen,gt.positionScreen,ft.overdraw),Mn(gt.positionScreen,_t.positionScreen,ft.overdraw),Mn(_t.positionScreen,st.positionScreen,ft.overdraw)),Sn.setFromPoints([st.positionScreen,gt.positionScreen,_t.positionScreen]),un.intersectsBox(Sn)===!0&&Xt(st,gt,_t,0,1,2,xt,ft)}pt.union(Sn)}}j.setTransform(1,0,0,1,0,0)};function Qe(){Yn.setRGB(0,0,0),lr.setRGB(0,0,0),jt.setRGB(0,0,0);for(var Ce=0,lt=y.length;Ce<lt;Ce++){var ot=y[Ce],mt=ot.color;ot.isAmbientLight?Yn.add(mt):ot.isDirectionalLight?lr.add(mt):ot.isPointLight&&jt.add(mt)}}function bn(Ce,lt,ot){for(var mt=0,Vt=y.length;mt<Vt;mt++){var xt=y[mt];if(Lt.copy(xt.color),xt.isDirectionalLight){var ft=mn.setFromMatrixPosition(xt.matrixWorld).normalize(),Ze=lt.dot(ft);if(Ze<=0)continue;Ze*=xt.intensity,ot.add(Lt.multiplyScalar(Ze))}else if(xt.isPointLight){var ft=mn.setFromMatrixPosition(xt.matrixWorld),Ze=lt.dot(mn.subVectors(ft,Ce).normalize());if(Ze<=0||(Ze*=xt.distance==0?1:1-Math.min(Ce.distanceTo(ft)/xt.distance,1),Ze==0))continue;Ze*=xt.intensity,ot.add(Lt.multiplyScalar(Ze))}}}function Qr(Ce,lt,ot){Sr(ot.opacity),Gn(ot.blending);var mt=lt.scale.x*N,Vt=lt.scale.y*I,xt=Math.sqrt(mt*mt+Vt*Vt);if(Sn.min.set(Ce.x-xt,Ce.y-xt),Sn.max.set(Ce.x+xt,Ce.y+xt),ot.isSpriteMaterial){var ft=ot.map;if(ft!==null){var Ze=At[ft.id];if((Ze===void 0||Ze.version!==ft.version)&&(Ze=an(ft),At[ft.id]=Ze),Ze.canvas!==void 0){En(Ze.canvas);var Tn=ft.image,Un=Tn.width*ft.offset.x,Zn=Tn.height*ft.offset.y,jn=Tn.width*ft.repeat.x,Hn=Tn.height*ft.repeat.y,Mr=mt/jn,$r=Vt/Hn;j.save(),j.translate(Ce.x,Ce.y),ot.rotation!==0&&j.rotate(ot.rotation),j.translate(-mt/2,-Vt/2),j.scale(Mr,$r),j.translate(-Un,-Zn),j.fillRect(Un,Zn,jn,Hn),j.restore()}}else En(ot.color.getStyle()),j.save(),j.translate(Ce.x,Ce.y),ot.rotation!==0&&j.rotate(ot.rotation),j.scale(mt,-Vt),j.fillRect(-.5,-.5,1,1),j.restore()}else ot.isSpriteCanvasMaterial?(Ni(ot.color.getStyle()),En(ot.color.getStyle()),j.save(),j.translate(Ce.x,Ce.y),ot.rotation!==0&&j.rotate(ot.rotation),j.scale(mt,Vt),ot.program(j),j.restore()):ot.isPointsMaterial&&(En(ot.color.getStyle()),j.save(),j.translate(Ce.x,Ce.y),ot.rotation!==0&&j.rotate(ot.rotation),j.scale(mt*ot.size,-Vt*ot.size),j.fillRect(-.5,-.5,1,1),j.restore())}function Ct(Ce,lt,ot,mt){if(Sr(mt.opacity),Gn(mt.blending),j.beginPath(),j.moveTo(Ce.positionScreen.x,Ce.positionScreen.y),j.lineTo(lt.positionScreen.x,lt.positionScreen.y),mt.isLineBasicMaterial){if(cn(mt.linewidth),en(mt.linecap),mr(mt.linejoin),mt.vertexColors!==THREE.VertexColors)Ni(mt.color.getStyle());else{var Vt=ot.vertexColors[0].getStyle(),xt=ot.vertexColors[1].getStyle();if(Vt===xt)Ni(Vt);else{try{var ft=j.createLinearGradient(Ce.positionScreen.x,Ce.positionScreen.y,lt.positionScreen.x,lt.positionScreen.y);ft.addColorStop(0,Vt),ft.addColorStop(1,xt)}catch{ft=Vt}Ni(ft)}}mt.isLineDashedMaterial&&V([mt.dashSize,mt.gapSize]),j.stroke(),Sn.expandByScalar(mt.linewidth*2),mt.isLineDashedMaterial&&V([])}}function Xt(Ce,lt,ot,mt,Vt,xt,ft,Ze){if(c.info.render.vertices+=3,c.info.render.faces++,Sr(Ze.opacity),Gn(Ze.blending),It=Ce.positionScreen.x,nn=Ce.positionScreen.y,Dt=lt.positionScreen.x,Rt=lt.positionScreen.y,De=ot.positionScreen.x,pe=ot.positionScreen.y,gn(It,nn,Dt,Rt,De,pe),(Ze.isMeshLambertMaterial||Ze.isMeshPhongMaterial||Ze.isMeshStandardMaterial)&&Ze.map===null)le.copy(Ze.color),Te.copy(Ze.emissive),Ze.vertexColors===THREE.FaceColors&&le.multiply(ft.color),Re.copy(Yn),Yt.copy(Ce.positionWorld).add(lt.positionWorld).add(ot.positionWorld).divideScalar(3),bn(Yt,ft.normalModel,Re),Re.multiply(le).add(Te),Ze.wireframe===!0?Ve(Re,Ze.wireframeLinewidth,Ze.wireframeLinecap,Ze.wireframeLinejoin):Ft(Re);else if(Ze.isMeshBasicMaterial||Ze.isMeshLambertMaterial||Ze.isMeshPhongMaterial||Ze.isMeshStandardMaterial)if(Ze.map!==null){var Tn=Ze.map.mapping;Tn===THREE.UVMapping&&(Bt=ft.uvs,Ae(It,nn,Dt,Rt,De,pe,Bt[mt].x,Bt[mt].y,Bt[Vt].x,Bt[Vt].y,Bt[xt].x,Bt[xt].y,Ze.map))}else Ze.envMap!==null?Ze.envMap.mapping===THREE.SphericalReflectionMapping&&(In.copy(ft.vertexNormalsModel[mt]).applyMatrix3(Kt),Gt=.5*In.x+.5,rn=.5*In.y+.5,In.copy(ft.vertexNormalsModel[Vt]).applyMatrix3(Kt),qt=.5*In.x+.5,pn=.5*In.y+.5,In.copy(ft.vertexNormalsModel[xt]).applyMatrix3(Kt),He=.5*In.x+.5,Pt=.5*In.y+.5,Ae(It,nn,Dt,Rt,De,pe,Gt,rn,qt,pn,He,Pt,Ze.envMap)):(Re.copy(Ze.color),Ze.vertexColors===THREE.FaceColors&&Re.multiply(ft.color),Ze.wireframe===!0?Ve(Re,Ze.wireframeLinewidth,Ze.wireframeLinecap,Ze.wireframeLinejoin):Ft(Re));else Ze.isMeshNormalMaterial?(In.copy(ft.normalModel).applyMatrix3(Kt),Re.setRGB(In.x,In.y,In.z).multiplyScalar(.5).addScalar(.5),Ze.wireframe===!0?Ve(Re,Ze.wireframeLinewidth,Ze.wireframeLinecap,Ze.wireframeLinejoin):Ft(Re)):(Re.setRGB(1,1,1),Ze.wireframe===!0?Ve(Re,Ze.wireframeLinewidth,Ze.wireframeLinecap,Ze.wireframeLinejoin):Ft(Re))}function gn(Ce,lt,ot,mt,Vt,xt){j.beginPath(),j.moveTo(Ce,lt),j.lineTo(ot,mt),j.lineTo(Vt,xt),j.closePath()}function Ve(Ce,lt,ot,mt){cn(lt),en(ot),mr(mt),Ni(Ce.getStyle()),j.stroke(),Sn.expandByScalar(lt*2)}function Ft(Ce){En(Ce.getStyle()),j.fill()}function an(Ce){if(Ce.version===0||Ce instanceof THREE.CompressedTexture||Ce instanceof THREE.DataTexture)return{canvas:void 0,version:Ce.version};var lt=Ce.image;if(lt.complete===!1)return{canvas:void 0,version:0};var ot=Ce.wrapS===THREE.RepeatWrapping||Ce.wrapS===THREE.MirroredRepeatWrapping,mt=Ce.wrapT===THREE.RepeatWrapping||Ce.wrapT===THREE.MirroredRepeatWrapping,Vt=Ce.wrapS===THREE.MirroredRepeatWrapping,xt=Ce.wrapT===THREE.MirroredRepeatWrapping,ft=document.createElement("canvas");ft.width=lt.width*(Vt?2:1),ft.height=lt.height*(xt?2:1);var Ze=ft.getContext("2d");Ze.setTransform(1,0,0,-1,0,lt.height),Ze.drawImage(lt,0,0),Vt===!0&&(Ze.setTransform(-1,0,0,-1,lt.width,lt.height),Ze.drawImage(lt,-lt.width,0)),xt===!0&&(Ze.setTransform(1,0,0,1,0,0),Ze.drawImage(lt,0,lt.height)),Vt===!0&&xt===!0&&(Ze.setTransform(-1,0,0,1,lt.width,0),Ze.drawImage(lt,-lt.width,lt.height));var Tn="no-repeat";ot===!0&&mt===!0?Tn="repeat":ot===!0?Tn="repeat-x":mt===!0&&(Tn="repeat-y");var Un=j.createPattern(ft,Tn);return Ce.onUpdate&&Ce.onUpdate(Ce),{canvas:Un,version:Ce.version}}function Ae(Ce,lt,ot,mt,Vt,xt,ft,Ze,Tn,Un,Zn,jn,Hn){var Mr=At[Hn.id];if((Mr===void 0||Mr.version!==Hn.version)&&(Mr=an(Hn),At[Hn.id]=Mr),Mr.canvas!==void 0)En(Mr.canvas);else{En("rgba( 0, 0, 0, 1)"),j.fill();return}var $r,_i,Dr,Da,Kr,Zi,Oi,pa,Di=Hn.offset.x/Hn.repeat.x,xs=Hn.offset.y/Hn.repeat.y,eo=Hn.image.width*Hn.repeat.x,Do=Hn.image.height*Hn.repeat.y;ft=(ft+Di)*eo,Ze=(Ze+xs)*Do,Tn=(Tn+Di)*eo,Un=(Un+xs)*Do,Zn=(Zn+Di)*eo,jn=(jn+xs)*Do,ot-=Ce,mt-=lt,Vt-=Ce,xt-=lt,Tn-=ft,Un-=Ze,Zn-=ft,jn-=Ze,Oi=Tn*jn-Zn*Un,Oi!==0&&(pa=1/Oi,$r=(jn*ot-Un*Vt)*pa,_i=(jn*mt-Un*xt)*pa,Dr=(Tn*Vt-Zn*ot)*pa,Da=(Tn*xt-Zn*mt)*pa,Kr=Ce-$r*ft-Dr*Ze,Zi=lt-_i*ft-Da*Ze,j.save(),j.transform($r,_i,Dr,Da,Kr,Zi),j.fill(),j.restore())}function Mn(Ce,lt,ot){var mt=lt.x-Ce.x,Vt=lt.y-Ce.y,xt=mt*mt+Vt*Vt,ft;xt!==0&&(ft=ot/Math.sqrt(xt),mt*=ft,Vt*=ft,lt.x+=mt,lt.y+=Vt,Ce.x-=mt,Ce.y-=Vt)}function Sr(Ce){he!==Ce&&(j.globalAlpha=Ce,he=Ce)}function Gn(Ce){fe!==Ce&&(Ce===THREE.NormalBlending?j.globalCompositeOperation="source-over":Ce===THREE.AdditiveBlending?j.globalCompositeOperation="lighter":Ce===THREE.SubtractiveBlending?j.globalCompositeOperation="darker":Ce===THREE.MultiplyBlending&&(j.globalCompositeOperation="multiply"),fe=Ce)}function cn(Ce){Ge!==Ce&&(j.lineWidth=Ce,Ge=Ce)}function en(Ce){ze!==Ce&&(j.lineCap=Ce,ze=Ce)}function mr(Ce){Xe!==Ce&&(j.lineJoin=Ce,Xe=Ce)}function Ni(Ce){xe!==Ce&&(j.strokeStyle=Ce,xe=Ce)}function En(Ce){Oe!==Ce&&(j.fillStyle=Ce,Oe=Ce)}function V(Ce){it.length!==Ce.length&&(j.setLineDash(Ce),it=Ce)}};THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0,this.renderOrder=0};THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.normalModel=new THREE.Vector3,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsLength=0,this.color=new THREE.Color,this.material=null,this.uvs=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2],this.z=0,this.renderOrder=0};THREE.RenderableVertex=function(){this.position=new THREE.Vector3,this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0};THREE.RenderableVertex.prototype.copy=function(i){this.positionWorld.copy(i.positionWorld),this.positionScreen.copy(i.positionScreen)};THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0,this.renderOrder=0};THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2,this.material=null,this.renderOrder=0};THREE.Projector=function(){var i,c,f=[],m=0,y,b,M=[],R=0,L,N,I=[],F=0,D,W,X=[],$=0,j,oe,de=[],he=0,fe={objects:[],lights:[],elements:[]},xe=new THREE.Vector3,Oe=new THREE.Vector4,Ge=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),ze=new THREE.Box3,Xe=new Array(3),it=new THREE.Matrix4,st=new THREE.Matrix4,gt,_t=new THREE.Matrix4,It=new THREE.Matrix3,nn=new THREE.Frustum,Dt=new THREE.Vector4,Rt=new THREE.Vector4;this.projectVector=function(He,Pt){console.warn("THREE.Projector: .projectVector() is now vector.project()."),He.project(Pt)},this.unprojectVector=function(He,Pt){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),He.unproject(Pt)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var De=function(){var He=[],Pt=[],un=[],pt=null,Sn=null,Yn=new THREE.Matrix3;function lr(Xt){pt=Xt,Sn=pt.material,Yn.getNormalMatrix(pt.matrixWorld),He.length=0,Pt.length=0,un.length=0}function jt(Xt){var gn=Xt.position,Ve=Xt.positionWorld,Ft=Xt.positionScreen;Ve.copy(gn).applyMatrix4(gt),Ft.copy(Ve).applyMatrix4(st);var an=1/Ft.w;Ft.x*=an,Ft.y*=an,Ft.z*=an,Xt.visible=Ft.x>=-1&&Ft.x<=1&&Ft.y>=-1&&Ft.y<=1&&Ft.z>=-1&&Ft.z<=1}function mn(Xt,gn,Ve){y=At(),y.position.set(Xt,gn,Ve),jt(y)}function Yt(Xt,gn,Ve){He.push(Xt,gn,Ve)}function In(Xt,gn,Ve){Pt.push(Xt,gn,Ve)}function Kt(Xt,gn){un.push(Xt,gn)}function Qe(Xt,gn,Ve){return Xt.visible===!0||gn.visible===!0||Ve.visible===!0?!0:(Xe[0]=Xt.positionScreen,Xe[1]=gn.positionScreen,Xe[2]=Ve.positionScreen,Ge.intersectsBox(ze.setFromPoints(Xe)))}function bn(Xt,gn,Ve){return(Ve.positionScreen.x-Xt.positionScreen.x)*(gn.positionScreen.y-Xt.positionScreen.y)-(Ve.positionScreen.y-Xt.positionScreen.y)*(gn.positionScreen.x-Xt.positionScreen.x)<0}function Qr(Xt,gn){var Ve=M[Xt],Ft=M[gn];Ve.positionScreen.copy(Ve.position).applyMatrix4(_t),Ft.positionScreen.copy(Ft.position).applyMatrix4(_t),pn(Ve.positionScreen,Ft.positionScreen)===!0&&(Ve.positionScreen.multiplyScalar(1/Ve.positionScreen.w),Ft.positionScreen.multiplyScalar(1/Ft.positionScreen.w),D=Gt(),D.id=pt.id,D.v1.copy(Ve),D.v2.copy(Ft),D.z=Math.max(Ve.positionScreen.z,Ft.positionScreen.z),D.renderOrder=pt.renderOrder,D.material=pt.material,pt.material.vertexColors===THREE.VertexColors&&(D.vertexColors[0].fromArray(Pt,Xt*3),D.vertexColors[1].fromArray(Pt,gn*3)),fe.elements.push(D))}function Ct(Xt,gn,Ve){var Ft=M[Xt],an=M[gn],Ae=M[Ve];if(Qe(Ft,an,Ae)!==!1&&(Sn.side===THREE.DoubleSide||bn(Ft,an,Ae)===!0)){L=Bt(),L.id=pt.id,L.v1.copy(Ft),L.v2.copy(an),L.v3.copy(Ae),L.z=(Ft.positionScreen.z+an.positionScreen.z+Ae.positionScreen.z)/3,L.renderOrder=pt.renderOrder,L.normalModel.fromArray(He,Xt*3),L.normalModel.applyMatrix3(Yn).normalize();for(var Mn=0;Mn<3;Mn++){var Sr=L.vertexNormalsModel[Mn];Sr.fromArray(He,arguments[Mn]*3),Sr.applyMatrix3(Yn).normalize();var Gn=L.uvs[Mn];Gn.fromArray(un,arguments[Mn]*2)}L.vertexNormalsLength=3,L.material=pt.material,fe.elements.push(L)}}return{setObject:lr,projectVertex:jt,checkTriangleVisibility:Qe,checkBackfaceCulling:bn,pushVertex:mn,pushNormal:Yt,pushColor:In,pushUv:Kt,pushLine:Qr,pushTriangle:Ct}},pe=new De;function Re(He){if(He.visible!==!1){if(He instanceof THREE.Light)fe.lights.push(He);else if(He instanceof THREE.Mesh||He instanceof THREE.Line||He instanceof THREE.Points){if(He.material.visible===!1||He.frustumCulled===!0&&nn.intersectsObject(He)===!1)return;le(He)}else if(He instanceof THREE.Sprite){if(He.material.visible===!1||He.frustumCulled===!0&&nn.intersectsSprite(He)===!1)return;le(He)}for(var Pt=He.children,un=0,pt=Pt.length;un<pt;un++)Re(Pt[un])}}function le(He){i=Lt(),i.id=He.id,i.object=He,xe.setFromMatrixPosition(He.matrixWorld),xe.applyMatrix4(st),i.z=xe.z,i.renderOrder=He.renderOrder,fe.objects.push(i)}this.projectScene=function(He,Pt,un,pt){N=0,W=0,oe=0,fe.elements.length=0,He.autoUpdate===!0&&He.updateMatrixWorld(),Pt.parent===null&&Pt.updateMatrixWorld(),it.copy(Pt.matrixWorldInverse),st.multiplyMatrices(Pt.projectionMatrix,it),nn.setFromMatrix(st),c=0,fe.objects.length=0,fe.lights.length=0,Re(He),un===!0&&fe.objects.sort(qt);for(var Sn=fe.objects,Yn=0,lr=Sn.length;Yn<lr;Yn++){var jt=Sn[Yn].object,mn=jt.geometry;if(pe.setObject(jt),gt=jt.matrixWorld,b=0,jt instanceof THREE.Mesh){if(mn instanceof THREE.BufferGeometry){var Yt=mn.attributes,In=mn.groups;if(Yt.position===void 0)continue;for(var Kt=Yt.position.array,Qe=0,bn=Kt.length;Qe<bn;Qe+=3)pe.pushVertex(Kt[Qe],Kt[Qe+1],Kt[Qe+2]);if(Yt.normal!==void 0)for(var Qr=Yt.normal.array,Qe=0,bn=Qr.length;Qe<bn;Qe+=3)pe.pushNormal(Qr[Qe],Qr[Qe+1],Qr[Qe+2]);if(Yt.uv!==void 0)for(var Ct=Yt.uv.array,Qe=0,bn=Ct.length;Qe<bn;Qe+=2)pe.pushUv(Ct[Qe],Ct[Qe+1]);if(mn.index!==null){var Xt=mn.index.array;if(In.length>0)for(var gn=0;gn<In.length;gn++)for(var Ve=In[gn],Qe=Ve.start,bn=Ve.start+Ve.count;Qe<bn;Qe+=3)pe.pushTriangle(Xt[Qe],Xt[Qe+1],Xt[Qe+2]);else for(var Qe=0,bn=Xt.length;Qe<bn;Qe+=3)pe.pushTriangle(Xt[Qe],Xt[Qe+1],Xt[Qe+2])}else for(var Qe=0,bn=Kt.length/3;Qe<bn;Qe+=3)pe.pushTriangle(Qe,Qe+1,Qe+2)}else if(mn instanceof THREE.Geometry){var Ft=mn.vertices,an=mn.faces,Ae=mn.faceVertexUvs[0];It.getNormalMatrix(gt);for(var Mn=jt.material,Sr=Array.isArray(Mn),Gn=0,cn=Ft.length;Gn<cn;Gn++){var en=Ft[Gn];if(xe.copy(en),Mn.morphTargets===!0)for(var mr=mn.morphTargets,Ni=jt.morphTargetInfluences,En=0,V=mr.length;En<V;En++){var Ce=Ni[En];if(Ce!==0){var lt=mr[En],ot=lt.vertices[Gn];xe.x+=(ot.x-en.x)*Ce,xe.y+=(ot.y-en.y)*Ce,xe.z+=(ot.z-en.z)*Ce}}pe.pushVertex(xe.x,xe.y,xe.z)}for(var mt=0,Vt=an.length;mt<Vt;mt++){var xt=an[mt];if(Mn=Sr===!0?jt.material[xt.materialIndex]:jt.material,Mn!==void 0){var ft=Mn.side,Ze=M[xt.a],Tn=M[xt.b],Un=M[xt.c];if(pe.checkTriangleVisibility(Ze,Tn,Un)!==!1){var Zn=pe.checkBackfaceCulling(Ze,Tn,Un);if(!(ft!==THREE.DoubleSide&&(ft===THREE.FrontSide&&Zn===!1||ft===THREE.BackSide&&Zn===!0))){L=Bt(),L.id=jt.id,L.v1.copy(Ze),L.v2.copy(Tn),L.v3.copy(Un),L.normalModel.copy(xt.normal),Zn===!1&&(ft===THREE.BackSide||ft===THREE.DoubleSide)&&L.normalModel.negate(),L.normalModel.applyMatrix3(It).normalize();for(var jn=xt.vertexNormals,Hn=0,Mr=Math.min(jn.length,3);Hn<Mr;Hn++){var $r=L.vertexNormalsModel[Hn];$r.copy(jn[Hn]),Zn===!1&&(ft===THREE.BackSide||ft===THREE.DoubleSide)&&$r.negate(),$r.applyMatrix3(It).normalize()}L.vertexNormalsLength=jn.length;var _i=Ae[mt];if(_i!==void 0)for(var Dr=0;Dr<3;Dr++)L.uvs[Dr].copy(_i[Dr]);L.color=xt.color,L.material=Mn,L.z=(Ze.positionScreen.z+Tn.positionScreen.z+Un.positionScreen.z)/3,L.renderOrder=jt.renderOrder,fe.elements.push(L)}}}}}}else if(jt instanceof THREE.Line){if(_t.multiplyMatrices(st,gt),mn instanceof THREE.BufferGeometry){var Yt=mn.attributes;if(Yt.position!==void 0){for(var Kt=Yt.position.array,Qe=0,bn=Kt.length;Qe<bn;Qe+=3)pe.pushVertex(Kt[Qe],Kt[Qe+1],Kt[Qe+2]);if(Yt.color!==void 0)for(var Da=Yt.color.array,Qe=0,bn=Da.length;Qe<bn;Qe+=3)pe.pushColor(Da[Qe],Da[Qe+1],Da[Qe+2]);if(mn.index!==null)for(var Xt=mn.index.array,Qe=0,bn=Xt.length;Qe<bn;Qe+=2)pe.pushLine(Xt[Qe],Xt[Qe+1]);else for(var Kr=jt instanceof THREE.LineSegments?2:1,Qe=0,bn=Kt.length/3-1;Qe<bn;Qe+=Kr)pe.pushLine(Qe,Qe+1)}}else if(mn instanceof THREE.Geometry){var Ft=jt.geometry.vertices;if(Ft.length===0)continue;Ze=At(),Ze.positionScreen.copy(Ft[0]).applyMatrix4(_t);for(var Kr=jt instanceof THREE.LineSegments?2:1,Gn=1,cn=Ft.length;Gn<cn;Gn++)Ze=At(),Ze.positionScreen.copy(Ft[Gn]).applyMatrix4(_t),!((Gn+1)%Kr>0)&&(Tn=M[b-2],Dt.copy(Ze.positionScreen),Rt.copy(Tn.positionScreen),pn(Dt,Rt)===!0&&(Dt.multiplyScalar(1/Dt.w),Rt.multiplyScalar(1/Rt.w),D=Gt(),D.id=jt.id,D.v1.positionScreen.copy(Dt),D.v2.positionScreen.copy(Rt),D.z=Math.max(Dt.z,Rt.z),D.renderOrder=jt.renderOrder,D.material=jt.material,jt.material.vertexColors===THREE.VertexColors&&(D.vertexColors[0].copy(jt.geometry.colors[Gn]),D.vertexColors[1].copy(jt.geometry.colors[Gn-1])),fe.elements.push(D)))}}else if(jt instanceof THREE.Points){if(_t.multiplyMatrices(st,gt),mn instanceof THREE.Geometry)for(var Ft=jt.geometry.vertices,Gn=0,cn=Ft.length;Gn<cn;Gn++){var en=Ft[Gn];Oe.set(en.x,en.y,en.z,1),Oe.applyMatrix4(_t),Te(Oe,jt,Pt)}else if(mn instanceof THREE.BufferGeometry){var Yt=mn.attributes;if(Yt.position!==void 0)for(var Kt=Yt.position.array,Qe=0,bn=Kt.length;Qe<bn;Qe+=3)Oe.set(Kt[Qe],Kt[Qe+1],Kt[Qe+2],1),Oe.applyMatrix4(_t),Te(Oe,jt,Pt)}}else jt instanceof THREE.Sprite&&(Oe.set(gt.elements[12],gt.elements[13],gt.elements[14],1),Oe.applyMatrix4(st),Te(Oe,jt,Pt))}return pt===!0&&fe.elements.sort(qt),fe};function Te(He,Pt,un){var pt=1/He.w;He.z*=pt,He.z>=-1&&He.z<=1&&(j=rn(),j.id=Pt.id,j.x=He.x*pt,j.y=He.y*pt,j.z=He.z,j.renderOrder=Pt.renderOrder,j.object=Pt,j.rotation=Pt.rotation,j.scale.x=Pt.scale.x*Math.abs(j.x-(He.x+un.projectionMatrix.elements[0])/(He.w+un.projectionMatrix.elements[12])),j.scale.y=Pt.scale.y*Math.abs(j.y-(He.y+un.projectionMatrix.elements[5])/(He.w+un.projectionMatrix.elements[13])),j.material=Pt.material,fe.elements.push(j))}function Lt(){if(c===m){var He=new THREE.RenderableObject;return f.push(He),m++,c++,He}return f[c++]}function At(){if(b===R){var He=new THREE.RenderableVertex;return M.push(He),R++,b++,He}return M[b++]}function Bt(){if(N===F){var He=new THREE.RenderableFace;return I.push(He),F++,N++,He}return I[N++]}function Gt(){if(W===$){var He=new THREE.RenderableLine;return X.push(He),$++,W++,He}return X[W++]}function rn(){if(oe===he){var He=new THREE.RenderableSprite;return de.push(He),he++,oe++,He}return de[oe++]}function qt(He,Pt){return He.renderOrder!==Pt.renderOrder?He.renderOrder-Pt.renderOrder:He.z!==Pt.z?Pt.z-He.z:He.id!==Pt.id?He.id-Pt.id:0}function pn(He,Pt){var un=0,pt=1,Sn=He.z+He.w,Yn=Pt.z+Pt.w,lr=-He.z+He.w,jt=-Pt.z+Pt.w;return Sn>=0&&Yn>=0&&lr>=0&&jt>=0?!0:Sn<0&&Yn<0||lr<0&&jt<0?!1:(Sn<0?un=Math.max(un,Sn/(Sn-Yn)):Yn<0&&(pt=Math.min(pt,Sn/(Sn-Yn))),lr<0?un=Math.max(un,lr/(lr-jt)):jt<0&&(pt=Math.min(pt,lr/(lr-jt))),pt<un?!1:(He.lerp(Pt,un),Pt.lerp(He,1-pt),!0))}};importScripts("parser.min.js"),MSG_DATA=0,MSG_LOAD=1,MSG_ERROR=2,MSG_STL_LOADED=3,MSG_LOAD_IN_PROGRESS=4;var Mh=null,rg=null,zd=null,jg=-1,Fy=!1,Hy="jszip.min.js";function ig(i){return!isNaN(parseFloat(i))&&isFinite(i)}function $d(i){postMessage({msg_type:MSG_ERROR,data:i})}function Zx(i){Jx(i)}function Jx(i){var c=new XMLHttpRequest;Fy&&(c.onprogress=function(f){postMessage({msg_type:MSG_LOAD_IN_PROGRESS,id:jg,loaded:f.loaded,total:f.total})}),c.onreadystatechange=function(f){c.readyState==4&&c.status==200&&Vg(c.response)},c.open("GET",i,!0),c.responseType="arraybuffer",c.send(null)}function Vg(i){if(i)try{parse_3d_file(Mh,i,Qx,Hy)}catch{$d("Error parsing the file")}else $d("no data")}function Qx(i){typeof i!="string"?postMessage({msg_type:MSG_STL_LOADED,vertices:i.vertices,faces:i.faces,colors:i.colors}):$d(i)}function Uv(i){var c=new FileReader;c.onerror=function(f){var m="";switch(f.target.error.code){case f.target.error.NOT_FOUND_ERR:m="File not found";break;case f.target.error.NOT_READABLE_ERR:m="Can't read file - too large?";break;case f.target.error.ABORT_ERR:m="Read operation aborted";break;case f.target.error.SECURITY_ERR:m="File is locked";break;case f.target.error.ENCODING_ERR:m="File too large";break;default:m="Error reading file"}$d(m)},c.onprogress=function(f){postMessage({msg_type:MSG_LOAD_IN_PROGRESS,id:jg,loaded:f.loaded,total:f.total})},c.onload=function(f){Vg(f.target.result)},c.readAsArrayBuffer(i)}self.addEventListener("message",function(i){switch(i.data.msg_type){case MSG_DATA:if(!i.data.data){$d("no data");break}if(!i.data.data.filename&&!i.data.data.local_file){$d("no file");break}i.data.jszip_path&&(Hy=i.data.jszip_path),i.data.data.local_file?(Mh=i.data.data.local_file.name?i.data.data.local_file.name:i.data.data.filename,rg=i.data.data.local_file?i.data.data.local_file:null):i.data.data.filename&&(Mh=i.data.data.filename),i.data.data.x&&ig(i.data.data.x)&&i.data.data.x,i.data.data.y&&ig(i.data.data.y)&&i.data.data.y,i.data.data.y&&ig(i.data.data.z)&&i.data.data.z,zd=null,i.data.load_from_blob_or_ab&&(zd=i.data.load_from_blob_or_ab),jg=i.data.data.id?i.data.data.id:-1,Fy=!!i.data.get_progress&&i.data.get_progress;break;case MSG_LOAD:zd?zd instanceof ArrayBuffer?Vg(zd):Uv(zd):rg?Uv(rg):Mh&&Zx(Mh);break;default:console.log("invalid msg: "+i.data.msg_type)}});window.CanvasRenderingContext2D,function(){try{var i=document.createElement("canvas");return!!window.WebGLRenderingContext&&(i.getContext("webgl")||i.getContext("experimental-webgl"))}catch{return!1}}(),window.Worker,window.File&&window.FileReader&&window.FileList&&window.Blob;ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(i,c){if(i===void 0&&(i=0),c===void 0&&(c=this.byteLength),i=Math.floor(i),c=Math.floor(c),i<0&&(i+=this.byteLength),c<0&&(c+=this.byteLength),i=Math.min(Math.max(0,i),this.byteLength),(c=Math.min(Math.max(0,c),this.byteLength))-i<=0)return new ArrayBuffer(0);var f=new ArrayBuffer(c-i),m=new Uint8Array(f),y=new Uint8Array(this,i,c-i);return m.set(y),f});function Uy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ag={exports:{}},vh={},og={exports:{}},wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Kx(){if(Gv)return wn;Gv=1;var i=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.iterator;function D(le){return le===null||typeof le!="object"?null:(le=F&&le[F]||le["@@iterator"],typeof le=="function"?le:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,$={};function j(le,Te,Lt){this.props=le,this.context=Te,this.refs=$,this.updater=Lt||W}j.prototype.isReactComponent={},j.prototype.setState=function(le,Te){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Te,"setState")},j.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function oe(){}oe.prototype=j.prototype;function de(le,Te,Lt){this.props=le,this.context=Te,this.refs=$,this.updater=Lt||W}var he=de.prototype=new oe;he.constructor=de,X(he,j.prototype),he.isPureReactComponent=!0;var fe=Array.isArray,xe=Object.prototype.hasOwnProperty,Oe={current:null},Ge={key:!0,ref:!0,__self:!0,__source:!0};function ze(le,Te,Lt){var At,Bt={},Gt=null,rn=null;if(Te!=null)for(At in Te.ref!==void 0&&(rn=Te.ref),Te.key!==void 0&&(Gt=""+Te.key),Te)xe.call(Te,At)&&!Ge.hasOwnProperty(At)&&(Bt[At]=Te[At]);var qt=arguments.length-2;if(qt===1)Bt.children=Lt;else if(1<qt){for(var pn=Array(qt),He=0;He<qt;He++)pn[He]=arguments[He+2];Bt.children=pn}if(le&&le.defaultProps)for(At in qt=le.defaultProps,qt)Bt[At]===void 0&&(Bt[At]=qt[At]);return{$$typeof:i,type:le,key:Gt,ref:rn,props:Bt,_owner:Oe.current}}function Xe(le,Te){return{$$typeof:i,type:le.type,key:Te,ref:le.ref,props:le.props,_owner:le._owner}}function it(le){return typeof le=="object"&&le!==null&&le.$$typeof===i}function st(le){var Te={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(Lt){return Te[Lt]})}var gt=/\/+/g;function _t(le,Te){return typeof le=="object"&&le!==null&&le.key!=null?st(""+le.key):Te.toString(36)}function It(le,Te,Lt,At,Bt){var Gt=typeof le;(Gt==="undefined"||Gt==="boolean")&&(le=null);var rn=!1;if(le===null)rn=!0;else switch(Gt){case"string":case"number":rn=!0;break;case"object":switch(le.$$typeof){case i:case c:rn=!0}}if(rn)return rn=le,Bt=Bt(rn),le=At===""?"."+_t(rn,0):At,fe(Bt)?(Lt="",le!=null&&(Lt=le.replace(gt,"$&/")+"/"),It(Bt,Te,Lt,"",function(He){return He})):Bt!=null&&(it(Bt)&&(Bt=Xe(Bt,Lt+(!Bt.key||rn&&rn.key===Bt.key?"":(""+Bt.key).replace(gt,"$&/")+"/")+le)),Te.push(Bt)),1;if(rn=0,At=At===""?".":At+":",fe(le))for(var qt=0;qt<le.length;qt++){Gt=le[qt];var pn=At+_t(Gt,qt);rn+=It(Gt,Te,Lt,pn,Bt)}else if(pn=D(le),typeof pn=="function")for(le=pn.call(le),qt=0;!(Gt=le.next()).done;)Gt=Gt.value,pn=At+_t(Gt,qt++),rn+=It(Gt,Te,Lt,pn,Bt);else if(Gt==="object")throw Te=String(le),Error("Objects are not valid as a React child (found: "+(Te==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Te)+"). If you meant to render a collection of children, use an array instead.");return rn}function nn(le,Te,Lt){if(le==null)return le;var At=[],Bt=0;return It(le,At,"","",function(Gt){return Te.call(Lt,Gt,Bt++)}),At}function Dt(le){if(le._status===-1){var Te=le._result;Te=Te(),Te.then(function(Lt){(le._status===0||le._status===-1)&&(le._status=1,le._result=Lt)},function(Lt){(le._status===0||le._status===-1)&&(le._status=2,le._result=Lt)}),le._status===-1&&(le._status=0,le._result=Te)}if(le._status===1)return le._result.default;throw le._result}var Rt={current:null},De={transition:null},pe={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:De,ReactCurrentOwner:Oe};function Re(){throw Error("act(...) is not supported in production builds of React.")}return wn.Children={map:nn,forEach:function(le,Te,Lt){nn(le,function(){Te.apply(this,arguments)},Lt)},count:function(le){var Te=0;return nn(le,function(){Te++}),Te},toArray:function(le){return nn(le,function(Te){return Te})||[]},only:function(le){if(!it(le))throw Error("React.Children.only expected to receive a single React element child.");return le}},wn.Component=j,wn.Fragment=f,wn.Profiler=y,wn.PureComponent=de,wn.StrictMode=m,wn.Suspense=L,wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,wn.act=Re,wn.cloneElement=function(le,Te,Lt){if(le==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+le+".");var At=X({},le.props),Bt=le.key,Gt=le.ref,rn=le._owner;if(Te!=null){if(Te.ref!==void 0&&(Gt=Te.ref,rn=Oe.current),Te.key!==void 0&&(Bt=""+Te.key),le.type&&le.type.defaultProps)var qt=le.type.defaultProps;for(pn in Te)xe.call(Te,pn)&&!Ge.hasOwnProperty(pn)&&(At[pn]=Te[pn]===void 0&&qt!==void 0?qt[pn]:Te[pn])}var pn=arguments.length-2;if(pn===1)At.children=Lt;else if(1<pn){qt=Array(pn);for(var He=0;He<pn;He++)qt[He]=arguments[He+2];At.children=qt}return{$$typeof:i,type:le.type,key:Bt,ref:Gt,props:At,_owner:rn}},wn.createContext=function(le){return le={$$typeof:M,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},le.Provider={$$typeof:b,_context:le},le.Consumer=le},wn.createElement=ze,wn.createFactory=function(le){var Te=ze.bind(null,le);return Te.type=le,Te},wn.createRef=function(){return{current:null}},wn.forwardRef=function(le){return{$$typeof:R,render:le}},wn.isValidElement=it,wn.lazy=function(le){return{$$typeof:I,_payload:{_status:-1,_result:le},_init:Dt}},wn.memo=function(le,Te){return{$$typeof:N,type:le,compare:Te===void 0?null:Te}},wn.startTransition=function(le){var Te=De.transition;De.transition={};try{le()}finally{De.transition=Te}},wn.unstable_act=Re,wn.useCallback=function(le,Te){return Rt.current.useCallback(le,Te)},wn.useContext=function(le){return Rt.current.useContext(le)},wn.useDebugValue=function(){},wn.useDeferredValue=function(le){return Rt.current.useDeferredValue(le)},wn.useEffect=function(le,Te){return Rt.current.useEffect(le,Te)},wn.useId=function(){return Rt.current.useId()},wn.useImperativeHandle=function(le,Te,Lt){return Rt.current.useImperativeHandle(le,Te,Lt)},wn.useInsertionEffect=function(le,Te){return Rt.current.useInsertionEffect(le,Te)},wn.useLayoutEffect=function(le,Te){return Rt.current.useLayoutEffect(le,Te)},wn.useMemo=function(le,Te){return Rt.current.useMemo(le,Te)},wn.useReducer=function(le,Te,Lt){return Rt.current.useReducer(le,Te,Lt)},wn.useRef=function(le){return Rt.current.useRef(le)},wn.useState=function(le){return Rt.current.useState(le)},wn.useSyncExternalStore=function(le,Te,Lt){return Rt.current.useSyncExternalStore(le,Te,Lt)},wn.useTransition=function(){return Rt.current.useTransition()},wn.version="18.3.1",wn}var jv;function Wg(){return jv||(jv=1,og.exports=Kx()),og.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function ew(){if(Vv)return vh;Vv=1;var i=Wg(),c=Symbol.for("react.element"),f=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function M(R,L,N){var I,F={},D=null,W=null;N!==void 0&&(D=""+N),L.key!==void 0&&(D=""+L.key),L.ref!==void 0&&(W=L.ref);for(I in L)m.call(L,I)&&!b.hasOwnProperty(I)&&(F[I]=L[I]);if(R&&R.defaultProps)for(I in L=R.defaultProps,L)F[I]===void 0&&(F[I]=L[I]);return{$$typeof:c,type:R,key:D,ref:W,props:F,_owner:y.current}}return vh.Fragment=f,vh.jsx=M,vh.jsxs=M,vh}var Wv;function tw(){return Wv||(Wv=1,ag.exports=ew()),ag.exports}var ne=tw(),U=Wg();const Lo=Uy(U),nw=Yx({__proto__:null,default:Lo},[U]);var zp={},sg={exports:{}},fa={},lg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function rw(){return $v||($v=1,function(i){function c(De,pe){var Re=De.length;De.push(pe);e:for(;0<Re;){var le=Re-1>>>1,Te=De[le];if(0<y(Te,pe))De[le]=pe,De[Re]=Te,Re=le;else break e}}function f(De){return De.length===0?null:De[0]}function m(De){if(De.length===0)return null;var pe=De[0],Re=De.pop();if(Re!==pe){De[0]=Re;e:for(var le=0,Te=De.length,Lt=Te>>>1;le<Lt;){var At=2*(le+1)-1,Bt=De[At],Gt=At+1,rn=De[Gt];if(0>y(Bt,Re))Gt<Te&&0>y(rn,Bt)?(De[le]=rn,De[Gt]=Re,le=Gt):(De[le]=Bt,De[At]=Re,le=At);else if(Gt<Te&&0>y(rn,Re))De[le]=rn,De[Gt]=Re,le=Gt;else break e}}return pe}function y(De,pe){var Re=De.sortIndex-pe.sortIndex;return Re!==0?Re:De.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;i.unstable_now=function(){return b.now()}}else{var M=Date,R=M.now();i.unstable_now=function(){return M.now()-R}}var L=[],N=[],I=1,F=null,D=3,W=!1,X=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function he(De){for(var pe=f(N);pe!==null;){if(pe.callback===null)m(N);else if(pe.startTime<=De)m(N),pe.sortIndex=pe.expirationTime,c(L,pe);else break;pe=f(N)}}function fe(De){if($=!1,he(De),!X)if(f(L)!==null)X=!0,Dt(xe);else{var pe=f(N);pe!==null&&Rt(fe,pe.startTime-De)}}function xe(De,pe){X=!1,$&&($=!1,oe(ze),ze=-1),W=!0;var Re=D;try{for(he(pe),F=f(L);F!==null&&(!(F.expirationTime>pe)||De&&!st());){var le=F.callback;if(typeof le=="function"){F.callback=null,D=F.priorityLevel;var Te=le(F.expirationTime<=pe);pe=i.unstable_now(),typeof Te=="function"?F.callback=Te:F===f(L)&&m(L),he(pe)}else m(L);F=f(L)}if(F!==null)var Lt=!0;else{var At=f(N);At!==null&&Rt(fe,At.startTime-pe),Lt=!1}return Lt}finally{F=null,D=Re,W=!1}}var Oe=!1,Ge=null,ze=-1,Xe=5,it=-1;function st(){return!(i.unstable_now()-it<Xe)}function gt(){if(Ge!==null){var De=i.unstable_now();it=De;var pe=!0;try{pe=Ge(!0,De)}finally{pe?_t():(Oe=!1,Ge=null)}}else Oe=!1}var _t;if(typeof de=="function")_t=function(){de(gt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,nn=It.port2;It.port1.onmessage=gt,_t=function(){nn.postMessage(null)}}else _t=function(){j(gt,0)};function Dt(De){Ge=De,Oe||(Oe=!0,_t())}function Rt(De,pe){ze=j(function(){De(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(De){De.callback=null},i.unstable_continueExecution=function(){X||W||(X=!0,Dt(xe))},i.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xe=0<De?Math.floor(1e3/De):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return f(L)},i.unstable_next=function(De){switch(D){case 1:case 2:case 3:var pe=3;break;default:pe=D}var Re=D;D=pe;try{return De()}finally{D=Re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(De,pe){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var Re=D;D=De;try{return pe()}finally{D=Re}},i.unstable_scheduleCallback=function(De,pe,Re){var le=i.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?le+Re:le):Re=le,De){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Re+Te,De={id:I++,callback:pe,priorityLevel:De,startTime:Re,expirationTime:Te,sortIndex:-1},Re>le?(De.sortIndex=Re,c(N,De),f(L)===null&&De===f(N)&&($?(oe(ze),ze=-1):$=!0,Rt(fe,Re-le))):(De.sortIndex=Te,c(L,De),X||W||(X=!0,Dt(xe))),De},i.unstable_shouldYield=st,i.unstable_wrapCallback=function(De){var pe=D;return function(){var Re=D;D=pe;try{return De.apply(this,arguments)}finally{D=Re}}}}(ug)),ug}var qv;function iw(){return qv||(qv=1,lg.exports=rw()),lg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function aw(){if(Xv)return fa;Xv=1;var i=Wg(),c=iw();function f(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=new Set,y={};function b(a,s){M(a,s),M(a+"Capture",s)}function M(a,s){for(y[a]=s,a=0;a<s.length;a++)m.add(s[a])}var R=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},F={};function D(a){return L.call(F,a)?!0:L.call(I,a)?!1:N.test(a)?F[a]=!0:(I[a]=!0,!1)}function W(a,s,d,g){if(d!==null&&d.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function X(a,s,d,g){if(s===null||typeof s>"u"||W(a,s,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(a,s,d,g,_,E,z){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=a,this.type=s,this.sanitizeURL=E,this.removeEmptyString=z}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){j[a]=new $(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];j[s]=new $(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){j[a]=new $(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){j[a]=new $(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){j[a]=new $(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){j[a]=new $(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){j[a]=new $(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){j[a]=new $(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){j[a]=new $(a,5,!1,a.toLowerCase(),null,!1,!1)});var oe=/[\-:]([a-z])/g;function de(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(oe,de);j[s]=new $(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(oe,de);j[s]=new $(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(oe,de);j[s]=new $(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){j[a]=new $(a,1,!1,a.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){j[a]=new $(a,1,!1,a.toLowerCase(),null,!0,!0)});function he(a,s,d,g){var _=j.hasOwnProperty(s)?j[s]:null;(_!==null?_.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(X(s,d,_,g)&&(d=null),g||_===null?D(s)&&(d===null?a.removeAttribute(s):a.setAttribute(s,""+d)):_.mustUseProperty?a[_.propertyName]=d===null?_.type===3?!1:"":d:(s=_.attributeName,g=_.attributeNamespace,d===null?a.removeAttribute(s):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?a.setAttributeNS(g,s,d):a.setAttribute(s,d))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),Oe=Symbol.for("react.portal"),Ge=Symbol.for("react.fragment"),ze=Symbol.for("react.strict_mode"),Xe=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),st=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),nn=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Rt=Symbol.for("react.offscreen"),De=Symbol.iterator;function pe(a){return a===null||typeof a!="object"?null:(a=De&&a[De]||a["@@iterator"],typeof a=="function"?a:null)}var Re=Object.assign,le;function Te(a){if(le===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);le=s&&s[1]||""}return`
`+le+a}var Lt=!1;function At(a,s){if(!a||Lt)return"";Lt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ye){var g=ye}Reflect.construct(a,[],s)}else{try{s.call()}catch(ye){g=ye}a.call(s.prototype)}else{try{throw Error()}catch(ye){g=ye}a()}}catch(ye){if(ye&&g&&typeof ye.stack=="string"){for(var _=ye.stack.split(`
`),E=g.stack.split(`
`),z=_.length-1,Y=E.length-1;1<=z&&0<=Y&&_[z]!==E[Y];)Y--;for(;1<=z&&0<=Y;z--,Y--)if(_[z]!==E[Y]){if(z!==1||Y!==1)do if(z--,Y--,0>Y||_[z]!==E[Y]){var ae=`
`+_[z].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=z&&0<=Y);break}}}finally{Lt=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Te(a):""}function Bt(a){switch(a.tag){case 5:return Te(a.type);case 16:return Te("Lazy");case 13:return Te("Suspense");case 19:return Te("SuspenseList");case 0:case 2:case 15:return a=At(a.type,!1),a;case 11:return a=At(a.type.render,!1),a;case 1:return a=At(a.type,!0),a;default:return""}}function Gt(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Ge:return"Fragment";case Oe:return"Portal";case Xe:return"Profiler";case ze:return"StrictMode";case _t:return"Suspense";case It:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case st:return(a.displayName||"Context")+".Consumer";case it:return(a._context.displayName||"Context")+".Provider";case gt:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case nn:return s=a.displayName||null,s!==null?s:Gt(a.type)||"Memo";case Dt:s=a._payload,a=a._init;try{return Gt(a(s))}catch{}}return null}function rn(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gt(s);case 8:return s===ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qt(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pn(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function He(a){var s=pn(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),g=""+a[s];if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,E=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return _.call(this)},set:function(z){g=""+z,E.call(this,z)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Pt(a){a._valueTracker||(a._valueTracker=He(a))}function un(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=pn(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function pt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Sn(a,s){var d=s.checked;return Re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Yn(a,s){var d=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;d=qt(s.value!=null?s.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function lr(a,s){s=s.checked,s!=null&&he(a,"checked",s,!1)}function jt(a,s){lr(a,s);var d=qt(s.value),g=s.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?Yt(a,s.type,d):s.hasOwnProperty("defaultValue")&&Yt(a,s.type,qt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function mn(a,s,d){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,d||s===a.value||(a.value=s),a.defaultValue=s}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Yt(a,s,d){(s!=="number"||pt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var In=Array.isArray;function Kt(a,s,d,g){if(a=a.options,s){s={};for(var _=0;_<d.length;_++)s["$"+d[_]]=!0;for(d=0;d<a.length;d++)_=s.hasOwnProperty("$"+a[d].value),a[d].selected!==_&&(a[d].selected=_),_&&g&&(a[d].defaultSelected=!0)}else{for(d=""+qt(d),s=null,_=0;_<a.length;_++){if(a[_].value===d){a[_].selected=!0,g&&(a[_].defaultSelected=!0);return}s!==null||a[_].disabled||(s=a[_])}s!==null&&(s.selected=!0)}}function Qe(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(f(91));return Re({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function bn(a,s){var d=s.value;if(d==null){if(d=s.children,s=s.defaultValue,d!=null){if(s!=null)throw Error(f(92));if(In(d)){if(1<d.length)throw Error(f(93));d=d[0]}s=d}s==null&&(s=""),d=s}a._wrapperState={initialValue:qt(d)}}function Qr(a,s){var d=qt(s.value),g=qt(s.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),s.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Ct(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function Xt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gn(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?Xt(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ve,Ft=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,d,g,_){MSApp.execUnsafeLocalFunction(function(){return a(s,d,g,_)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ve.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function an(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(a){Mn.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Ae[s]=Ae[a]})});function Sr(a,s,d){return s==null||typeof s=="boolean"||s===""?"":d||typeof s!="number"||s===0||Ae.hasOwnProperty(a)&&Ae[a]?(""+s).trim():s+"px"}function Gn(a,s){a=a.style;for(var d in s)if(s.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=Sr(d,s[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,_):a[d]=_}}var cn=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function en(a,s){if(s){if(cn[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(f(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(f(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(f(61))}if(s.style!=null&&typeof s.style!="object")throw Error(f(62))}}function mr(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function En(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var V=null,Ce=null,lt=null;function ot(a){if(a=Dl(a)){if(typeof V!="function")throw Error(f(280));var s=a.stateNode;s&&(s=Qc(s),V(a.stateNode,a.type,s))}}function mt(a){Ce?lt?lt.push(a):lt=[a]:Ce=a}function Vt(){if(Ce){var a=Ce,s=lt;if(lt=Ce=null,ot(a),s)for(a=0;a<s.length;a++)ot(s[a])}}function xt(a,s){return a(s)}function ft(){}var Ze=!1;function Tn(a,s,d){if(Ze)return a(s,d);Ze=!0;try{return xt(a,s,d)}finally{Ze=!1,(Ce!==null||lt!==null)&&(ft(),Vt())}}function Un(a,s){var d=a.stateNode;if(d===null)return null;var g=Qc(d);if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(f(231,s,typeof d));return d}var Zn=!1;if(R)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Zn=!1}function Hn(a,s,d,g,_,E,z,Y,ae){var ye=Array.prototype.slice.call(arguments,3);try{s.apply(d,ye)}catch(Be){this.onError(Be)}}var Mr=!1,$r=null,_i=!1,Dr=null,Da={onError:function(a){Mr=!0,$r=a}};function Kr(a,s,d,g,_,E,z,Y,ae){Mr=!1,$r=null,Hn.apply(Da,arguments)}function Zi(a,s,d,g,_,E,z,Y,ae){if(Kr.apply(this,arguments),Mr){if(Mr){var ye=$r;Mr=!1,$r=null}else throw Error(f(198));_i||(_i=!0,Dr=ye)}}function Oi(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function pa(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Di(a){if(Oi(a)!==a)throw Error(f(188))}function xs(a){var s=a.alternate;if(!s){if(s=Oi(a),s===null)throw Error(f(188));return s!==a?null:a}for(var d=a,g=s;;){var _=d.return;if(_===null)break;var E=_.alternate;if(E===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===d)return Di(_),a;if(E===g)return Di(_),s;E=E.sibling}throw Error(f(188))}if(d.return!==g.return)d=_,g=E;else{for(var z=!1,Y=_.child;Y;){if(Y===d){z=!0,d=_,g=E;break}if(Y===g){z=!0,g=_,d=E;break}Y=Y.sibling}if(!z){for(Y=E.child;Y;){if(Y===d){z=!0,d=E,g=_;break}if(Y===g){z=!0,g=E,d=_;break}Y=Y.sibling}if(!z)throw Error(f(189))}}if(d.alternate!==g)throw Error(f(190))}if(d.tag!==3)throw Error(f(188));return d.stateNode.current===d?a:s}function eo(a){return a=xs(a),a!==null?Do(a):null}function Do(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=Do(a);if(s!==null)return s;a=a.sibling}return null}var ws=c.unstable_scheduleCallback,on=c.unstable_cancelCallback,ml=c.unstable_shouldYield,ma=c.unstable_requestPaint,gr=c.unstable_now,Dm=c.unstable_getCurrentPriorityLevel,Ia=c.unstable_ImmediatePriority,yu=c.unstable_UserBlockingPriority,ei=c.unstable_NormalPriority,Pc=c.unstable_LowPriority,sf=c.unstable_IdlePriority,xu=null,Ji=null;function Im(a){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(xu,a,void 0,(a.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:Nc,gl=Math.log,to=Math.LN2;function Nc(a){return a>>>=0,a===0?32:31-(gl(a)/to|0)|0}var Io=64,Oc=4194304;function wu(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function bu(a,s){var d=a.pendingLanes;if(d===0)return 0;var g=0,_=a.suspendedLanes,E=a.pingedLanes,z=d&268435455;if(z!==0){var Y=z&~_;Y!==0?g=wu(Y):(E&=z,E!==0&&(g=wu(E)))}else z=d&~_,z!==0?g=wu(z):E!==0&&(g=wu(E));if(g===0)return 0;if(s!==0&&s!==g&&!(s&_)&&(_=g&-g,E=s&-s,_>=E||_===16&&(E&4194240)!==0))return s;if(g&4&&(g|=d&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=g;0<s;)d=31-Qi(s),_=1<<d,g|=a[d],s&=~_;return g}function Bh(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes;0<E;){var z=31-Qi(E),Y=1<<z,ae=_[z];ae===-1?(!(Y&d)||Y&g)&&(_[z]=Bh(Y,s)):ae<=s&&(a.expiredLanes|=Y),E&=~Y}}function lf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function uf(){var a=Io;return Io<<=1,!(Io&4194240)&&(Io=64),a}function Mt(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function bs(a,s,d){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Qi(s),a[s]=d}function km(a,s){var d=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var _=31-Qi(d),E=1<<_;s[_]=0,g[_]=-1,a[_]=-1,d&=~E}}function cf(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-Qi(d),_=1<<g;_&s|a[g]&s&&(a[g]|=s),d&=~_}}var ln=0;function Ki(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var ka,_u,za,_s,Ss,Dc=!1,vl=[],Ba=null,Fa=null,Ir=null,yl=new Map,si=new Map,ga=[],df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ic(a,s){switch(a){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(s.pointerId)}}function Ms(a,s,d,g,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[_]},s!==null&&(s=Dl(s),s!==null&&_u(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),a)}function ht(a,s,d,g,_){switch(s){case"focusin":return Ba=Ms(Ba,a,s,d,g,_),!0;case"dragenter":return Fa=Ms(Fa,a,s,d,g,_),!0;case"mouseover":return Ir=Ms(Ir,a,s,d,g,_),!0;case"pointerover":var E=_.pointerId;return yl.set(E,Ms(yl.get(E)||null,a,s,d,g,_)),!0;case"gotpointercapture":return E=_.pointerId,si.set(E,Ms(si.get(E)||null,a,s,d,g,_)),!0}return!1}function xl(a){var s=zs(a.target);if(s!==null){var d=Oi(s);if(d!==null){if(s=d.tag,s===13){if(s=pa(d),s!==null){a.blockedOn=s,Ss(a.priority,function(){za(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Ts(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Ni=g,d.target.dispatchEvent(g),Ni=null}else return s=Dl(d),s!==null&&_u(s),a.blockedOn=d,!1;s.shift()}return!0}function Ut(a,s,d){kc(a)&&d.delete(s)}function ea(){Dc=!1,Ba!==null&&kc(Ba)&&(Ba=null),Fa!==null&&kc(Fa)&&(Fa=null),Ir!==null&&kc(Ir)&&(Ir=null),yl.forEach(Ut),si.forEach(Ut)}function kn(a,s){a.blockedOn===s&&(a.blockedOn=null,Dc||(Dc=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ea)))}function ko(a){function s(_){return kn(_,a)}if(0<vl.length){kn(vl[0],a);for(var d=1;d<vl.length;d++){var g=vl[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Ba!==null&&kn(Ba,a),Fa!==null&&kn(Fa,a),Ir!==null&&kn(Ir,a),yl.forEach(s),si.forEach(s),d=0;d<ga.length;d++)g=ga[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<ga.length&&(d=ga[0],d.blockedOn===null);)xl(d),d.blockedOn===null&&ga.shift()}var Nt=fe.ReactCurrentBatchConfig,zo=!0;function Su(a,s,d,g){var _=ln,E=Nt.transition;Nt.transition=null;try{ln=1,Es(a,s,d,g)}finally{ln=_,Nt.transition=E}}function Mu(a,s,d,g){var _=ln,E=Nt.transition;Nt.transition=null;try{ln=4,Es(a,s,d,g)}finally{ln=_,Nt.transition=E}}function Es(a,s,d,g){if(zo){var _=Ts(a,s,d,g);if(_===null)Zc(a,s,g,Ha,d),Ic(a,g);else if(ht(_,a,s,d,g))g.stopPropagation();else if(Ic(a,g),s&4&&-1<df.indexOf(a)){for(;_!==null;){var E=Dl(_);if(E!==null&&ka(E),E=Ts(a,s,d,g),E===null&&Zc(a,s,g,Ha,d),E===_)break;_=E}_!==null&&g.stopPropagation()}else Zc(a,s,g,null,d)}}var Ha=null;function Ts(a,s,d,g){if(Ha=null,a=En(g),a=zs(a),a!==null)if(s=Oi(a),s===null)a=null;else if(d=s.tag,d===13){if(a=pa(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return Ha=a,null}function Bo(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ia:return 1;case yu:return 4;case ei:case Pc:return 16;case sf:return 536870912;default:return 16}default:return 16}}var tt=null,Rs=null,zc=null;function ff(){if(zc)return zc;var a,s=Rs,d=s.length,g,_="value"in tt?tt.value:tt.textContent,E=_.length;for(a=0;a<d&&s[a]===_[a];a++);var z=d-a;for(g=1;g<=z&&s[d-g]===_[E-g];g++);return zc=_.slice(a,1<g?1-g:void 0)}function Bc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ii(){return!0}function Fc(){return!1}function kr(a){function s(d,g,_,E,z){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=E,this.target=z,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(d=a[Y],this[Y]=d?d(E):E[Y]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ii:Fc,this.isPropagationStopped=Fc,this}return Re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),s}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=kr(zr),ur=Re({},zr,{view:0,detail:0}),kt=kr(ur),Hc,no,Ls,va=Re({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ls&&(Ls&&a.type==="mousemove"?(Hc=a.screenX-Ls.screenX,no=a.screenY-Ls.screenY):no=Hc=0,Ls=a),Hc)},movementY:function(a){return"movementY"in a?a.movementY:no}}),ro=kr(va),Fo=Re({},va,{dataTransfer:0}),hf=kr(Fo),pf=Re({},ur,{relatedTarget:0}),Eu=kr(pf),Uc=Re({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=kr(Uc),jc=Re({},zr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wl=kr(jc),bl=Re({},zr,{data:0}),As=kr(bl),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Jn[a])?!!s[a]:!1}function _l(){return Hh}var Ru=Re({},ur,{key:function(a){if(a.key){var s=Tu[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Bc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Vc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(a){return a.type==="keypress"?Bc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Sl=kr(Ru),ti=Re({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mf=kr(ti),li=Re({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Ua=kr(li),Er=Re({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ml=kr(Er),Ps=Re({},va,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=kr(Ps),io=[9,13,27,32],ao=R&&"CompositionEvent"in window,ja=null;R&&"documentMode"in document&&(ja=document.documentMode);var Wc=R&&"TextEvent"in window&&!ja,El=R&&(!ao||ja&&8<ja&&11>=ja),gf=" ",Uh=!1;function Cu(a,s){switch(a){case"keyup":return io.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nt=!1;function ya(a,s){switch(a){case"compositionend":return sn(s);case"keypress":return s.which!==32?null:(Uh=!0,gf);case"textInput":return a=s.data,a===gf&&Uh?null:a;default:return null}}function zm(a,s){if(nt)return a==="compositionend"||!ao&&Cu(a,s)?(a=ff(),zc=Rs=tt=null,nt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return El&&s.locale!=="ko"?null:s.data;default:return null}}var Bm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Bm[a.type]:s==="textarea"}function jh(a,s,d,g){mt(g),s=Pl(s,"onChange"),0<s.length&&(d=new Cs("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var Lu=null,Au=null;function Fm(a){ap(a,0)}function $c(a){var s=Il(a);if(un(s))return a}function Hm(a,s){if(a==="change")return s}var Vh=!1;if(R){var vf;if(R){var yf="oninput"in document;if(!yf){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),yf=typeof Wh.oninput=="function"}vf=yf}else vf=!1;Vh=vf&&(!document.documentMode||9<document.documentMode)}function $h(){Lu&&(Lu.detachEvent("onpropertychange",Ns),Au=Lu=null)}function Ns(a){if(a.propertyName==="value"&&$c(Au)){var s=[];jh(s,Au,a,En(a)),Tn(Fm,s)}}function Tl(a,s,d){a==="focusin"?($h(),Lu=s,Au=d,Lu.attachEvent("onpropertychange",Ns)):a==="focusout"&&$h()}function qh(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $c(Au)}function Um(a,s){if(a==="click")return $c(s)}function Gm(a,s){if(a==="input"||a==="change")return $c(s)}function Xh(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ta=typeof Object.is=="function"?Object.is:Xh;function Rl(a,s){if(ta(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!L.call(s,_)||!ta(a[_],s[_]))return!1}return!0}function xf(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function wf(a,s){var d=xf(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xf(d)}}function bf(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?bf(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Os(){for(var a=window,s=pt();s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=pt(a.document)}return s}function Si(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function ki(a){var s=Os(),d=a.focusedElem,g=a.selectionRange;if(s!==d&&d&&d.ownerDocument&&bf(d.ownerDocument.documentElement,d)){if(g!==null&&Si(d)){if(s=g.start,a=g.end,a===void 0&&(a=s),"selectionStart"in d)d.selectionStart=s,d.selectionEnd=Math.min(a,d.value.length);else if(a=(s=d.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var _=d.textContent.length,E=Math.min(g.start,_);g=g.end===void 0?E:Math.min(g.end,_),!a.extend&&E>g&&(_=g,g=E,E=_),_=wf(d,E);var z=wf(d,g);_&&z&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==z.node||a.focusOffset!==z.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),a.removeAllRanges(),E>g?(a.addRange(s),a.extend(z.node,z.offset)):(s.setEnd(z.node,z.offset),a.addRange(s)))}}for(s=[],a=d;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<s.length;d++)a=s[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Yh=R&&"documentMode"in document&&11>=document.documentMode,Cl=null,_f=null,Pu=null,Sf=!1;function Zh(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sf||Cl==null||Cl!==pt(g)||(g=Cl,"selectionStart"in g&&Si(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Pu&&Rl(Pu,g)||(Pu=g,g=Pl(_f,"onSelect"),0<g.length&&(s=new Cs("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=Cl)))}function qc(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Ll={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Mf={},Jh={};R&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Xc(a){if(Mf[a])return Mf[a];if(!Ll[a])return a;var s=Ll[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Jh)return Mf[a]=s[d];return a}var Qh=Xc("animationend"),Kh=Xc("animationiteration"),ep=Xc("animationstart"),tp=Xc("transitionend"),np=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(a,s){np.set(a,s),b(s,[a])}for(var Ef=0;Ef<rp.length;Ef++){var Tf=rp[Ef],jm=Tf.toLowerCase(),Vm=Tf[0].toUpperCase()+Tf.slice(1);Ho(jm,"on"+Vm)}Ho(Qh,"onAnimationEnd"),Ho(Kh,"onAnimationIteration"),Ho(ep,"onAnimationStart"),Ho("dblclick","onDoubleClick"),Ho("focusin","onFocus"),Ho("focusout","onBlur"),Ho(tp,"onTransitionEnd"),M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function ip(a,s,d){var g=a.type||"unknown-event";a.currentTarget=d,Zi(g,s,void 0,a),a.currentTarget=null}function ap(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],_=g.event;g=g.listeners;e:{var E=void 0;if(s)for(var z=g.length-1;0<=z;z--){var Y=g[z],ae=Y.instance,ye=Y.currentTarget;if(Y=Y.listener,ae!==E&&_.isPropagationStopped())break e;ip(_,Y,ye),E=ae}else for(z=0;z<g.length;z++){if(Y=g[z],ae=Y.instance,ye=Y.currentTarget,Y=Y.listener,ae!==E&&_.isPropagationStopped())break e;ip(_,Y,ye),E=ae}}}if(_i)throw a=Dr,_i=!1,Dr=null,a}function Qn(a,s){var d=s[Nf];d===void 0&&(d=s[Nf]=new Set);var g=a+"__bubble";d.has(g)||(op(s,a,2,!1),d.add(g))}function Rf(a,s,d){var g=0;s&&(g|=4),op(d,a,g,s)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Ou(a){if(!a[Yc]){a[Yc]=!0,m.forEach(function(d){d!=="selectionchange"&&(Wm.has(d)||Rf(d,!1,a),Rf(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Yc]||(s[Yc]=!0,Rf("selectionchange",!1,s))}}function op(a,s,d,g){switch(Bo(s)){case 1:var _=Su;break;case 4:_=Mu;break;default:_=Es}d=_.bind(null,s,d,a),_=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),g?_!==void 0?a.addEventListener(s,d,{capture:!0,passive:_}):a.addEventListener(s,d,!0):_!==void 0?a.addEventListener(s,d,{passive:_}):a.addEventListener(s,d,!1)}function Zc(a,s,d,g,_){var E=g;if(!(s&1)&&!(s&2)&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var Y=g.stateNode.containerInfo;if(Y===_||Y.nodeType===8&&Y.parentNode===_)break;if(z===4)for(z=g.return;z!==null;){var ae=z.tag;if((ae===3||ae===4)&&(ae=z.stateNode.containerInfo,ae===_||ae.nodeType===8&&ae.parentNode===_))return;z=z.return}for(;Y!==null;){if(z=zs(Y),z===null)return;if(ae=z.tag,ae===5||ae===6){g=E=z;continue e}Y=Y.parentNode}}g=g.return}Tn(function(){var ye=E,Be=En(d),je=[];e:{var Ue=np.get(a);if(Ue!==void 0){var ct=Cs,vt=a;switch(a){case"keypress":if(Bc(d)===0)break e;case"keydown":case"keyup":ct=Sl;break;case"focusin":vt="focus",ct=Eu;break;case"focusout":vt="blur",ct=Eu;break;case"beforeblur":case"afterblur":ct=Eu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Ua;break;case Qh:case Kh:case ep:ct=Gc;break;case tp:ct=Ml;break;case"scroll":ct=kt;break;case"wheel":ct=Ga;break;case"copy":case"cut":case"paste":ct=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=mf}var wt=(s&4)!==0,wr=!wt&&a==="scroll",me=wt?Ue!==null?Ue+"Capture":null:Ue;wt=[];for(var ue=ye,ge;ue!==null;){ge=ue;var Je=ge.stateNode;if(ge.tag===5&&Je!==null&&(ge=Je,me!==null&&(Je=Un(ue,me),Je!=null&&wt.push(Al(ue,Je,ge)))),wr)break;ue=ue.return}0<wt.length&&(Ue=new ct(Ue,vt,null,d,Be),je.push({event:Ue,listeners:wt}))}}if(!(s&7)){e:{if(Ue=a==="mouseover"||a==="pointerover",ct=a==="mouseout"||a==="pointerout",Ue&&d!==Ni&&(vt=d.relatedTarget||d.fromElement)&&(zs(vt)||vt[oo]))break e;if((ct||Ue)&&(Ue=Be.window===Be?Be:(Ue=Be.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,ct?(vt=d.relatedTarget||d.toElement,ct=ye,vt=vt?zs(vt):null,vt!==null&&(wr=Oi(vt),vt!==wr||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(ct=null,vt=ye),ct!==vt)){if(wt=ro,Je="onMouseLeave",me="onMouseEnter",ue="mouse",(a==="pointerout"||a==="pointerover")&&(wt=mf,Je="onPointerLeave",me="onPointerEnter",ue="pointer"),wr=ct==null?Ue:Il(ct),ge=vt==null?Ue:Il(vt),Ue=new wt(Je,ue+"leave",ct,d,Be),Ue.target=wr,Ue.relatedTarget=ge,Je=null,zs(Be)===ye&&(wt=new wt(me,ue+"enter",vt,d,Be),wt.target=ge,wt.relatedTarget=wr,Je=wt),wr=Je,ct&&vt)t:{for(wt=ct,me=vt,ue=0,ge=wt;ge;ge=Ds(ge))ue++;for(ge=0,Je=me;Je;Je=Ds(Je))ge++;for(;0<ue-ge;)wt=Ds(wt),ue--;for(;0<ge-ue;)me=Ds(me),ge--;for(;ue--;){if(wt===me||me!==null&&wt===me.alternate)break t;wt=Ds(wt),me=Ds(me)}wt=null}else wt=null;ct!==null&&sp(je,Ue,ct,wt,!1),vt!==null&&wr!==null&&sp(je,wr,vt,wt,!0)}}e:{if(Ue=ye?Il(ye):window,ct=Ue.nodeName&&Ue.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Ue.type==="file")var yt=Hm;else if(Gh(Ue))if(Vh)yt=Gm;else{yt=qh;var Et=Tl}else(ct=Ue.nodeName)&&ct.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(yt=Um);if(yt&&(yt=yt(a,ye))){jh(je,yt,d,Be);break e}Et&&Et(a,Ue,ye),a==="focusout"&&(Et=Ue._wrapperState)&&Et.controlled&&Ue.type==="number"&&Yt(Ue,"number",Ue.value)}switch(Et=ye?Il(ye):window,a){case"focusin":(Gh(Et)||Et.contentEditable==="true")&&(Cl=Et,_f=ye,Pu=null);break;case"focusout":Pu=_f=Cl=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Zh(je,d,Be);break;case"selectionchange":if(Yh)break;case"keydown":case"keyup":Zh(je,d,Be)}var zt;if(ao)e:{switch(a){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else nt?Cu(a,d)&&(Wt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Wt="onCompositionStart");Wt&&(El&&d.locale!=="ko"&&(nt||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&nt&&(zt=ff()):(tt=Be,Rs="value"in tt?tt.value:tt.textContent,nt=!0)),Et=Pl(ye,Wt),0<Et.length&&(Wt=new As(Wt,a,null,d,Be),je.push({event:Wt,listeners:Et}),zt?Wt.data=zt:(zt=sn(d),zt!==null&&(Wt.data=zt)))),(zt=Wc?ya(a,d):zm(a,d))&&(ye=Pl(ye,"onBeforeInput"),0<ye.length&&(Be=new As("onBeforeInput","beforeinput",null,d,Be),je.push({event:Be,listeners:ye}),Be.data=zt))}ap(je,s)})}function Al(a,s,d){return{instance:a,listener:s,currentTarget:d}}function Pl(a,s){for(var d=s+"Capture",g=[];a!==null;){var _=a,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=Un(a,d),E!=null&&g.unshift(Al(a,E,_)),E=Un(a,s),E!=null&&g.push(Al(a,E,_))),a=a.return}return g}function Ds(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function sp(a,s,d,g,_){for(var E=s._reactName,z=[];d!==null&&d!==g;){var Y=d,ae=Y.alternate,ye=Y.stateNode;if(ae!==null&&ae===g)break;Y.tag===5&&ye!==null&&(Y=ye,_?(ae=Un(d,E),ae!=null&&z.unshift(Al(d,ae,Y))):_||(ae=Un(d,E),ae!=null&&z.push(Al(d,ae,Y)))),d=d.return}z.length!==0&&a.push({event:s,listeners:z})}var Uo=/\r\n?/g,lp=/\u0000|\uFFFD/g;function up(a){return(typeof a=="string"?a:""+a).replace(Uo,`
`).replace(lp,"")}function Du(a,s,d){if(s=up(s),up(a)!==s&&d)throw Error(f(425))}function Iu(){}var Is=null,Cf=null;function ks(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,cp=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,Lf=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(a){return dp.resolve(null).then(a).catch($m)}:Jc;function $m(a){setTimeout(function(){throw a})}function Af(a,s){var d=s,g=0;do{var _=d.nextSibling;if(a.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){a.removeChild(_),ko(s);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);ko(s)}function Go(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Pf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return a;s--}else d==="/$"&&s++}a=a.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),xa="__reactFiber$"+Nl,Ol="__reactProps$"+Nl,oo="__reactContainer$"+Nl,Nf="__reactEvents$"+Nl,qm="__reactListeners$"+Nl,Xm="__reactHandles$"+Nl;function zs(a){var s=a[xa];if(s)return s;for(var d=a.parentNode;d;){if(s=d[oo]||d[xa]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=Pf(a);a!==null;){if(d=a[xa])return d;a=Pf(a)}return s}a=d,d=a.parentNode}return null}function Dl(a){return a=a[xa]||a[oo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Il(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(f(33))}function Qc(a){return a[Ol]||null}var Of=[],kl=-1;function jo(a){return{current:a}}function Vn(a){0>kl||(a.current=Of[kl],Of[kl]=null,kl--)}function Wn(a,s){kl++,Of[kl]=a.current,a.current=s}var ui={},rr=jo(ui),ci=jo(!1),Bs=ui;function zl(a,s){var d=a.type.contextTypes;if(!d)return ui;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in d)_[E]=s[E];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=_),_}function di(a){return a=a.childContextTypes,a!=null}function Fs(){Vn(ci),Vn(rr)}function so(a,s,d){if(rr.current!==ui)throw Error(f(168));Wn(rr,s),Wn(ci,d)}function Bl(a,s,d){var g=a.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in s))throw Error(f(108,rn(a)||"Unknown",_));return Re({},d,g)}function ku(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ui,Bs=rr.current,Wn(rr,a),Wn(ci,ci.current),!0}function fp(a,s,d){var g=a.stateNode;if(!g)throw Error(f(169));d?(a=Bl(a,s,Bs),g.__reactInternalMemoizedMergedChildContext=a,Vn(ci),Vn(rr),Wn(rr,a)):Vn(ci),Wn(ci,d)}var zi=null,Fl=!1,Kc=!1;function Df(a){zi===null?zi=[a]:zi.push(a)}function If(a){Fl=!0,Df(a)}function Tr(){if(!Kc&&zi!==null){Kc=!0;var a=0,s=ln;try{var d=zi;for(ln=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}zi=null,Fl=!1}catch(_){throw zi!==null&&(zi=zi.slice(a+1)),ws(Ia,Tr),_}finally{ln=s,Kc=!1}}return null}var wa=[],na=0,ba=null,_a=0,ni=[],qr=0,ra=null,Mi=1,Bi="";function Vo(a,s){wa[na++]=_a,wa[na++]=ba,ba=a,_a=s}function zu(a,s,d){ni[qr++]=Mi,ni[qr++]=Bi,ni[qr++]=ra,ra=a;var g=Mi;a=Bi;var _=32-Qi(g)-1;g&=~(1<<_),d+=1;var E=32-Qi(s)+_;if(30<E){var z=_-_%5;E=(g&(1<<z)-1).toString(32),g>>=z,_-=z,Mi=1<<32-Qi(s)+_|d<<_|g,Bi=E+a}else Mi=1<<E|d<<_|g,Bi=a}function Hs(a){a.return!==null&&(Vo(a,1),zu(a,1,0))}function Hl(a){for(;a===ba;)ba=wa[--na],wa[na]=null,_a=wa[--na],wa[na]=null;for(;a===ra;)ra=ni[--qr],ni[qr]=null,Bi=ni[--qr],ni[qr]=null,Mi=ni[--qr],ni[qr]=null}var Ei=null,fi=null,Kn=!1,hi=null;function Bu(a,s){var d=da(5,null,null,0);d.elementType="DELETED",d.stateNode=s,d.return=a,s=a.deletions,s===null?(a.deletions=[d],a.flags|=16):s.push(d)}function ed(a,s){switch(a.tag){case 5:var d=a.type;return s=s.nodeType!==1||d.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Ei=a,fi=Go(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Ei=a,fi=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(d=ra!==null?{id:Mi,overflow:Bi}:null,a.memoizedState={dehydrated:s,treeContext:d,retryLane:1073741824},d=da(18,null,null,0),d.stateNode=s,d.return=a,a.child=d,Ei=a,fi=null,!0):!1;default:return!1}}function Fu(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Hu(a){if(Kn){var s=fi;if(s){var d=s;if(!ed(a,s)){if(Fu(a))throw Error(f(418));s=Go(d.nextSibling);var g=Ei;s&&ed(a,s)?Bu(g,d):(a.flags=a.flags&-4097|2,Kn=!1,Ei=a)}}else{if(Fu(a))throw Error(f(418));a.flags=a.flags&-4097|2,Kn=!1,Ei=a}}}function kf(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ei=a}function Ul(a){if(a!==Ei)return!1;if(!Kn)return kf(a),Kn=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!ks(a.type,a.memoizedProps)),s&&(s=fi)){if(Fu(a))throw Uu(),Error(f(418));for(;s;)Bu(a,s),s=Go(s.nextSibling)}if(kf(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(f(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(s===0){fi=Go(a.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++}a=a.nextSibling}fi=null}}else fi=Ei?Go(a.stateNode.nextSibling):null;return!0}function Uu(){for(var a=fi;a;)a=Go(a.nextSibling)}function Us(){fi=Ei=null,Kn=!1}function Gs(a){hi===null?hi=[a]:hi.push(a)}var td=fe.ReactCurrentBatchConfig;function Gl(a,s,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(f(309));var g=d.stateNode}if(!g)throw Error(f(147,a));var _=g,E=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(z){var Y=_.refs;z===null?delete Y[E]:Y[E]=z},s._stringRef=E,s)}if(typeof a!="string")throw Error(f(284));if(!d._owner)throw Error(f(290,a))}return a}function nd(a,s){throw a=Object.prototype.toString.call(s),Error(f(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Gu(a){var s=a._init;return s(a._payload)}function rd(a){function s(me,ue){if(a){var ge=me.deletions;ge===null?(me.deletions=[ue],me.flags|=16):ge.push(ue)}}function d(me,ue){if(!a)return null;for(;ue!==null;)s(me,ue),ue=ue.sibling;return null}function g(me,ue){for(me=new Map;ue!==null;)ue.key!==null?me.set(ue.key,ue):me.set(ue.index,ue),ue=ue.sibling;return me}function _(me,ue){return me=Qa(me,ue),me.index=0,me.sibling=null,me}function E(me,ue,ge){return me.index=ge,a?(ge=me.alternate,ge!==null?(ge=ge.index,ge<ue?(me.flags|=2,ue):ge):(me.flags|=2,ue)):(me.flags|=1048576,ue)}function z(me){return a&&me.alternate===null&&(me.flags|=2),me}function Y(me,ue,ge,Je){return ue===null||ue.tag!==6?(ue=uc(ge,me.mode,Je),ue.return=me,ue):(ue=_(ue,ge),ue.return=me,ue)}function ae(me,ue,ge,Je){var yt=ge.type;return yt===Ge?Be(me,ue,ge.props.children,Je,ge.key):ue!==null&&(ue.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Dt&&Gu(yt)===ue.type)?(Je=_(ue,ge.props),Je.ref=Gl(me,ue,ge),Je.return=me,Je):(Je=cu(ge.type,ge.key,ge.props,null,me.mode,Je),Je.ref=Gl(me,ue,ge),Je.return=me,Je)}function ye(me,ue,ge,Je){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ge.containerInfo||ue.stateNode.implementation!==ge.implementation?(ue=lh(ge,me.mode,Je),ue.return=me,ue):(ue=_(ue,ge.children||[]),ue.return=me,ue)}function Be(me,ue,ge,Je,yt){return ue===null||ue.tag!==7?(ue=So(ge,me.mode,Je,yt),ue.return=me,ue):(ue=_(ue,ge),ue.return=me,ue)}function je(me,ue,ge){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=uc(""+ue,me.mode,ge),ue.return=me,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case xe:return ge=cu(ue.type,ue.key,ue.props,null,me.mode,ge),ge.ref=Gl(me,null,ue),ge.return=me,ge;case Oe:return ue=lh(ue,me.mode,ge),ue.return=me,ue;case Dt:var Je=ue._init;return je(me,Je(ue._payload),ge)}if(In(ue)||pe(ue))return ue=So(ue,me.mode,ge,null),ue.return=me,ue;nd(me,ue)}return null}function Ue(me,ue,ge,Je){var yt=ue!==null?ue.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return yt!==null?null:Y(me,ue,""+ge,Je);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case xe:return ge.key===yt?ae(me,ue,ge,Je):null;case Oe:return ge.key===yt?ye(me,ue,ge,Je):null;case Dt:return yt=ge._init,Ue(me,ue,yt(ge._payload),Je)}if(In(ge)||pe(ge))return yt!==null?null:Be(me,ue,ge,Je,null);nd(me,ge)}return null}function ct(me,ue,ge,Je,yt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return me=me.get(ge)||null,Y(ue,me,""+Je,yt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case xe:return me=me.get(Je.key===null?ge:Je.key)||null,ae(ue,me,Je,yt);case Oe:return me=me.get(Je.key===null?ge:Je.key)||null,ye(ue,me,Je,yt);case Dt:var Et=Je._init;return ct(me,ue,ge,Et(Je._payload),yt)}if(In(Je)||pe(Je))return me=me.get(ge)||null,Be(ue,me,Je,yt,null);nd(ue,Je)}return null}function vt(me,ue,ge,Je){for(var yt=null,Et=null,zt=ue,Wt=ue=0,hr=null;zt!==null&&Wt<ge.length;Wt++){zt.index>Wt?(hr=zt,zt=null):hr=zt.sibling;var Rn=Ue(me,zt,ge[Wt],Je);if(Rn===null){zt===null&&(zt=hr);break}a&&zt&&Rn.alternate===null&&s(me,zt),ue=E(Rn,ue,Wt),Et===null?yt=Rn:Et.sibling=Rn,Et=Rn,zt=hr}if(Wt===ge.length)return d(me,zt),Kn&&Vo(me,Wt),yt;if(zt===null){for(;Wt<ge.length;Wt++)zt=je(me,ge[Wt],Je),zt!==null&&(ue=E(zt,ue,Wt),Et===null?yt=zt:Et.sibling=zt,Et=zt);return Kn&&Vo(me,Wt),yt}for(zt=g(me,zt);Wt<ge.length;Wt++)hr=ct(zt,me,Wt,ge[Wt],Je),hr!==null&&(a&&hr.alternate!==null&&zt.delete(hr.key===null?Wt:hr.key),ue=E(hr,ue,Wt),Et===null?yt=hr:Et.sibling=hr,Et=hr);return a&&zt.forEach(function(Na){return s(me,Na)}),Kn&&Vo(me,Wt),yt}function wt(me,ue,ge,Je){var yt=pe(ge);if(typeof yt!="function")throw Error(f(150));if(ge=yt.call(ge),ge==null)throw Error(f(151));for(var Et=yt=null,zt=ue,Wt=ue=0,hr=null,Rn=ge.next();zt!==null&&!Rn.done;Wt++,Rn=ge.next()){zt.index>Wt?(hr=zt,zt=null):hr=zt.sibling;var Na=Ue(me,zt,Rn.value,Je);if(Na===null){zt===null&&(zt=hr);break}a&&zt&&Na.alternate===null&&s(me,zt),ue=E(Na,ue,Wt),Et===null?yt=Na:Et.sibling=Na,Et=Na,zt=hr}if(Rn.done)return d(me,zt),Kn&&Vo(me,Wt),yt;if(zt===null){for(;!Rn.done;Wt++,Rn=ge.next())Rn=je(me,Rn.value,Je),Rn!==null&&(ue=E(Rn,ue,Wt),Et===null?yt=Rn:Et.sibling=Rn,Et=Rn);return Kn&&Vo(me,Wt),yt}for(zt=g(me,zt);!Rn.done;Wt++,Rn=ge.next())Rn=ct(zt,me,Wt,Rn.value,Je),Rn!==null&&(a&&Rn.alternate!==null&&zt.delete(Rn.key===null?Wt:Rn.key),ue=E(Rn,ue,Wt),Et===null?yt=Rn:Et.sibling=Rn,Et=Rn);return a&&zt.forEach(function(fh){return s(me,fh)}),Kn&&Vo(me,Wt),yt}function wr(me,ue,ge,Je){if(typeof ge=="object"&&ge!==null&&ge.type===Ge&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case xe:e:{for(var yt=ge.key,Et=ue;Et!==null;){if(Et.key===yt){if(yt=ge.type,yt===Ge){if(Et.tag===7){d(me,Et.sibling),ue=_(Et,ge.props.children),ue.return=me,me=ue;break e}}else if(Et.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Dt&&Gu(yt)===Et.type){d(me,Et.sibling),ue=_(Et,ge.props),ue.ref=Gl(me,Et,ge),ue.return=me,me=ue;break e}d(me,Et);break}else s(me,Et);Et=Et.sibling}ge.type===Ge?(ue=So(ge.props.children,me.mode,Je,ge.key),ue.return=me,me=ue):(Je=cu(ge.type,ge.key,ge.props,null,me.mode,Je),Je.ref=Gl(me,ue,ge),Je.return=me,me=Je)}return z(me);case Oe:e:{for(Et=ge.key;ue!==null;){if(ue.key===Et)if(ue.tag===4&&ue.stateNode.containerInfo===ge.containerInfo&&ue.stateNode.implementation===ge.implementation){d(me,ue.sibling),ue=_(ue,ge.children||[]),ue.return=me,me=ue;break e}else{d(me,ue);break}else s(me,ue);ue=ue.sibling}ue=lh(ge,me.mode,Je),ue.return=me,me=ue}return z(me);case Dt:return Et=ge._init,wr(me,ue,Et(ge._payload),Je)}if(In(ge))return vt(me,ue,ge,Je);if(pe(ge))return wt(me,ue,ge,Je);nd(me,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ue!==null&&ue.tag===6?(d(me,ue.sibling),ue=_(ue,ge),ue.return=me,me=ue):(d(me,ue),ue=uc(ge,me.mode,Je),ue.return=me,me=ue),z(me)):d(me,ue)}return wr}var js=rd(!0),zf=rd(!1),Vs=jo(null),Wo=null,lo=null,$n=null;function id(){$n=lo=Wo=null}function ad(a){var s=Vs.current;Vn(Vs),a._currentValue=s}function od(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function uo(a,s){Wo=a,$n=lo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(Cr=!0),a.firstContext=null)}function pi(a){var s=a._currentValue;if($n!==a)if(a={context:a,memoizedValue:s,next:null},lo===null){if(Wo===null)throw Error(f(308));lo=a,Wo.dependencies={lanes:0,firstContext:a}}else lo=lo.next=a;return s}var Br=null;function jl(a){Br===null?Br=[a]:Br.push(a)}function ju(a,s,d,g){var _=s.interleaved;return _===null?(d.next=d,jl(s)):(d.next=_.next,_.next=d),s.interleaved=d,ir(a,g)}function ir(a,s){a.lanes|=s;var d=a.alternate;for(d!==null&&(d.lanes|=s),d=a,a=a.return;a!==null;)a.childLanes|=s,d=a.alternate,d!==null&&(d.childLanes|=s),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Sa=!1;function Fi(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ma(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Ea(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,vn&2){var _=g.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),g.pending=s,ir(a,d)}return _=g.interleaved,_===null?(s.next=s,jl(g)):(s.next=_.next,_.next=s),g.interleaved=s,ir(a,d)}function Ws(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194240)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,cf(a,d)}}function $s(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var z={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?_=E=z:E=E.next=z,d=d.next}while(d!==null);E===null?_=E=s:E=E.next=s}else _=E=s;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}function Vl(a,s,d,g){var _=a.updateQueue;Sa=!1;var E=_.firstBaseUpdate,z=_.lastBaseUpdate,Y=_.shared.pending;if(Y!==null){_.shared.pending=null;var ae=Y,ye=ae.next;ae.next=null,z===null?E=ye:z.next=ye,z=ae;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,Y=Be.lastBaseUpdate,Y!==z&&(Y===null?Be.firstBaseUpdate=ye:Y.next=ye,Be.lastBaseUpdate=ae))}if(E!==null){var je=_.baseState;z=0,Be=ye=ae=null,Y=E;do{var Ue=Y.lane,ct=Y.eventTime;if((g&Ue)===Ue){Be!==null&&(Be=Be.next={eventTime:ct,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var vt=a,wt=Y;switch(Ue=s,ct=d,wt.tag){case 1:if(vt=wt.payload,typeof vt=="function"){je=vt.call(ct,je,Ue);break e}je=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=wt.payload,Ue=typeof vt=="function"?vt.call(ct,je,Ue):vt,Ue==null)break e;je=Re({},je,Ue);break e;case 2:Sa=!0}}Y.callback!==null&&Y.lane!==0&&(a.flags|=64,Ue=_.effects,Ue===null?_.effects=[Y]:Ue.push(Y))}else ct={eventTime:ct,lane:Ue,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Be===null?(ye=Be=ct,ae=je):Be=Be.next=ct,z|=Ue;if(Y=Y.next,Y===null){if(Y=_.shared.pending,Y===null)break;Ue=Y,Y=Ue.next,Ue.next=null,_.lastBaseUpdate=Ue,_.shared.pending=null}}while(!0);if(Be===null&&(ae=je),_.baseState=ae,_.firstBaseUpdate=ye,_.lastBaseUpdate=Be,s=_.shared.interleaved,s!==null){_=s;do z|=_.lane,_=_.next;while(_!==s)}else E===null&&(_.shared.lanes=0);ns|=z,a.lanes=z,a.memoizedState=je}}function sd(a,s,d){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var g=a[s],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(f(191,_));_.call(g)}}}var Va={},Ti=jo(Va),co=jo(Va),Vu=jo(Va);function ri(a){if(a===Va)throw Error(f(174));return a}function Wu(a,s){switch(Wn(Vu,s),Wn(co,a),Wn(Ti,Va),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gn(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=gn(s,a)}Vn(Ti),Wn(Ti,s)}function fo(){Vn(Ti),Vn(co),Vn(Vu)}function Bn(a){ri(Vu.current);var s=ri(Ti.current),d=gn(s,a.type);s!==d&&(Wn(co,a),Wn(Ti,d))}function $u(a){co.current===a&&(Vn(Ti),Vn(co))}var er=jo(0);function qu(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qs=[];function Xu(){for(var a=0;a<qs.length;a++)qs[a]._workInProgressVersionPrimary=null;qs.length=0}var Yu=fe.ReactCurrentDispatcher,ld=fe.ReactCurrentBatchConfig,Hi=0,tr=null,Rr=null,vr=null,Xs=!1,Ys=!1,Wa=0,Ff=0;function ii(){throw Error(f(321))}function ud(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!ta(a[d],s[d]))return!1;return!0}function $a(a,s,d,g,_,E){if(Hi=E,tr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Yu.current=a===null||a.memoizedState===null?xp:wp,a=d(g,_),Ys){E=0;do{if(Ys=!1,Wa=0,25<=E)throw Error(f(301));E+=1,vr=Rr=null,s.updateQueue=null,Yu.current=Xf,a=d(g,_)}while(Ys)}if(Yu.current=qo,s=Rr!==null&&Rr.next!==null,Hi=0,vr=Rr=tr=null,Xs=!1,s)throw Error(f(300));return a}function Zs(){var a=Wa!==0;return Wa=0,a}function qa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?tr.memoizedState=vr=a:vr=vr.next=a,vr}function ia(){if(Rr===null){var a=tr.alternate;a=a!==null?a.memoizedState:null}else a=Rr.next;var s=vr===null?tr.memoizedState:vr.next;if(s!==null)vr=s,Rr=a;else{if(a===null)throw Error(f(310));Rr=a,a={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},vr===null?tr.memoizedState=vr=a:vr=vr.next=a}return vr}function Zu(a,s){return typeof s=="function"?s(a):s}function Hf(a){var s=ia(),d=s.queue;if(d===null)throw Error(f(311));d.lastRenderedReducer=a;var g=Rr,_=g.baseQueue,E=d.pending;if(E!==null){if(_!==null){var z=_.next;_.next=E.next,E.next=z}g.baseQueue=_=E,d.pending=null}if(_!==null){E=_.next,g=g.baseState;var Y=z=null,ae=null,ye=E;do{var Be=ye.lane;if((Hi&Be)===Be)ae!==null&&(ae=ae.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),g=ye.hasEagerState?ye.eagerState:a(g,ye.action);else{var je={lane:Be,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ae===null?(Y=ae=je,z=g):ae=ae.next=je,tr.lanes|=Be,ns|=Be}ye=ye.next}while(ye!==null&&ye!==E);ae===null?z=g:ae.next=Y,ta(g,s.memoizedState)||(Cr=!0),s.memoizedState=g,s.baseState=z,s.baseQueue=ae,d.lastRenderedState=g}if(a=d.interleaved,a!==null){_=a;do E=_.lane,tr.lanes|=E,ns|=E,_=_.next;while(_!==a)}else _===null&&(d.lanes=0);return[s.memoizedState,d.dispatch]}function Uf(a){var s=ia(),d=s.queue;if(d===null)throw Error(f(311));d.lastRenderedReducer=a;var g=d.dispatch,_=d.pending,E=s.memoizedState;if(_!==null){d.pending=null;var z=_=_.next;do E=a(E,z.action),z=z.next;while(z!==_);ta(E,s.memoizedState)||(Cr=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),d.lastRenderedState=E}return[E,g]}function hp(){}function pp(a,s){var d=tr,g=ia(),_=s(),E=!ta(g.memoizedState,_);if(E&&(g.memoizedState=_,Cr=!0),g=g.queue,dd(Js.bind(null,d,g,a),[a]),g.getSnapshot!==s||E||vr!==null&&vr.memoizedState.tag&1){if(d.flags|=2048,Wl(9,mp.bind(null,d,g,_,s),void 0,null),Ar===null)throw Error(f(349));Hi&30||cd(d,s,_)}return _}function cd(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=tr.updateQueue,s===null?(s={lastEffect:null,stores:null},tr.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function mp(a,s,d,g){s.value=d,s.getSnapshot=g,gp(s)&&nr(a)}function Js(a,s,d){return d(function(){gp(s)&&nr(a)})}function gp(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!ta(a,d)}catch{return!0}}function nr(a){var s=ir(a,1);s!==null&&ji(s,a,1,-1)}function Ju(a){var s=qa();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:a},s.queue=a,a=a.dispatch=yp.bind(null,tr,a),[s.memoizedState,a]}function Wl(a,s,d,g){return a={tag:a,create:s,destroy:d,deps:g,next:null},s=tr.updateQueue,s===null?(s={lastEffect:null,stores:null},tr.updateQueue=s,s.lastEffect=a.next=a):(d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a)),a}function Qu(){return ia().memoizedState}function Qs(a,s,d,g){var _=qa();tr.flags|=a,_.memoizedState=Wl(1|s,d,void 0,g===void 0?null:g)}function $o(a,s,d,g){var _=ia();g=g===void 0?null:g;var E=void 0;if(Rr!==null){var z=Rr.memoizedState;if(E=z.destroy,g!==null&&ud(g,z.deps)){_.memoizedState=Wl(s,d,E,g);return}}tr.flags|=a,_.memoizedState=Wl(1|s,d,E,g)}function Gf(a,s){return Qs(8390656,8,a,s)}function dd(a,s){return $o(2048,8,a,s)}function $l(a,s){return $o(4,2,a,s)}function fd(a,s){return $o(4,4,a,s)}function Xa(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function jf(a,s,d){return d=d!=null?d.concat([a]):null,$o(4,4,Xa.bind(null,s,a),d)}function hd(){}function ql(a,s){var d=ia();s=s===void 0?null:s;var g=d.memoizedState;return g!==null&&s!==null&&ud(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function vp(a,s){var d=ia();s=s===void 0?null:s;var g=d.memoizedState;return g!==null&&s!==null&&ud(s,g[1])?g[0]:(a=a(),d.memoizedState=[a,s],a)}function pd(a,s,d){return Hi&21?(ta(d,s)||(d=uf(),tr.lanes|=d,ns|=d,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,Cr=!0),a.memoizedState=d)}function Vf(a,s){var d=ln;ln=d!==0&&4>d?d:4,a(!0);var g=ld.transition;ld.transition={};try{a(!1),s()}finally{ln=d,ld.transition=g}}function Wf(){return ia().memoizedState}function $f(a,s,d){var g=Pa(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Ku(a))qf(s,d);else if(d=ju(a,s,d,g),d!==null){var _=Xr();ji(d,a,g,_),Ks(d,s,g)}}function yp(a,s,d){var g=Pa(a),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ku(a))qf(s,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var z=s.lastRenderedState,Y=E(z,d);if(_.hasEagerState=!0,_.eagerState=Y,ta(Y,z)){var ae=s.interleaved;ae===null?(_.next=_,jl(s)):(_.next=ae.next,ae.next=_),s.interleaved=_;return}}catch{}finally{}d=ju(a,s,_,g),d!==null&&(_=Xr(),ji(d,a,g,_),Ks(d,s,g))}}function Ku(a){var s=a.alternate;return a===tr||s!==null&&s===tr}function qf(a,s){Ys=Xs=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function Ks(a,s,d){if(d&4194240){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,cf(a,d)}}var qo={readContext:pi,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},xp={readContext:pi,useCallback:function(a,s){return qa().memoizedState=[a,s===void 0?null:s],a},useContext:pi,useEffect:Gf,useImperativeHandle:function(a,s,d){return d=d!=null?d.concat([a]):null,Qs(4194308,4,Xa.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Qs(4194308,4,a,s)},useInsertionEffect:function(a,s){return Qs(4,2,a,s)},useMemo:function(a,s){var d=qa();return s=s===void 0?null:s,a=a(),d.memoizedState=[a,s],a},useReducer:function(a,s,d){var g=qa();return s=d!==void 0?d(s):s,g.memoizedState=g.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},g.queue=a,a=a.dispatch=$f.bind(null,tr,a),[g.memoizedState,a]},useRef:function(a){var s=qa();return a={current:a},s.memoizedState=a},useState:Ju,useDebugValue:hd,useDeferredValue:function(a){return qa().memoizedState=a},useTransition:function(){var a=Ju(!1),s=a[0];return a=Vf.bind(null,a[1]),qa().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,d){var g=tr,_=qa();if(Kn){if(d===void 0)throw Error(f(407));d=d()}else{if(d=s(),Ar===null)throw Error(f(349));Hi&30||cd(g,s,d)}_.memoizedState=d;var E={value:d,getSnapshot:s};return _.queue=E,Gf(Js.bind(null,g,E,a),[a]),g.flags|=2048,Wl(9,mp.bind(null,g,E,d,s),void 0,null),d},useId:function(){var a=qa(),s=Ar.identifierPrefix;if(Kn){var d=Bi,g=Mi;d=(g&~(1<<32-Qi(g)-1)).toString(32)+d,s=":"+s+"R"+d,d=Wa++,0<d&&(s+="H"+d.toString(32)),s+=":"}else d=Ff++,s=":"+s+"r"+d.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},wp={readContext:pi,useCallback:ql,useContext:pi,useEffect:dd,useImperativeHandle:jf,useInsertionEffect:$l,useLayoutEffect:fd,useMemo:vp,useReducer:Hf,useRef:Qu,useState:function(){return Hf(Zu)},useDebugValue:hd,useDeferredValue:function(a){var s=ia();return pd(s,Rr.memoizedState,a)},useTransition:function(){var a=Hf(Zu)[0],s=ia().memoizedState;return[a,s]},useMutableSource:hp,useSyncExternalStore:pp,useId:Wf,unstable_isNewReconciler:!1},Xf={readContext:pi,useCallback:ql,useContext:pi,useEffect:dd,useImperativeHandle:jf,useInsertionEffect:$l,useLayoutEffect:fd,useMemo:vp,useReducer:Uf,useRef:Qu,useState:function(){return Uf(Zu)},useDebugValue:hd,useDeferredValue:function(a){var s=ia();return Rr===null?s.memoizedState=a:pd(s,Rr.memoizedState,a)},useTransition:function(){var a=Uf(Zu)[0],s=ia().memoizedState;return[a,s]},useMutableSource:hp,useSyncExternalStore:pp,useId:Wf,unstable_isNewReconciler:!1};function aa(a,s){if(a&&a.defaultProps){s=Re({},s),a=a.defaultProps;for(var d in a)s[d]===void 0&&(s[d]=a[d]);return s}return s}function ec(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:Re({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Xl={isMounted:function(a){return(a=a._reactInternals)?Oi(a)===a:!1},enqueueSetState:function(a,s,d){a=a._reactInternals;var g=Xr(),_=Pa(a),E=Ma(g,_);E.payload=s,d!=null&&(E.callback=d),s=Ea(a,E,_),s!==null&&(ji(s,a,_,g),Ws(s,a,_))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=Xr(),_=Pa(a),E=Ma(g,_);E.tag=1,E.payload=s,d!=null&&(E.callback=d),s=Ea(a,E,_),s!==null&&(ji(s,a,_,g),Ws(s,a,_))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Xr(),g=Pa(a),_=Ma(d,g);_.tag=2,s!=null&&(_.callback=s),s=Ea(a,_,g),s!==null&&(ji(s,a,g,d),Ws(s,a,g))}};function tc(a,s,d,g,_,E,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,z):s.prototype&&s.prototype.isPureReactComponent?!Rl(d,g)||!Rl(_,E):!0}function Yf(a,s,d){var g=!1,_=ui,E=s.contextType;return typeof E=="object"&&E!==null?E=pi(E):(_=di(s)?Bs:rr.current,g=s.contextTypes,E=(g=g!=null)?zl(a,_):ui),s=new s(d,E),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xl,a.stateNode=s,s._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=E),s}function md(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&Xl.enqueueReplaceState(s,s.state,null)}function gd(a,s,d,g){var _=a.stateNode;_.props=d,_.state=a.memoizedState,_.refs={},Fi(a);var E=s.contextType;typeof E=="object"&&E!==null?_.context=pi(E):(E=di(s)?Bs:rr.current,_.context=zl(a,E)),_.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(ec(a,s,E,d),_.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&Xl.enqueueReplaceState(_,_.state,null),Vl(a,d,_,g),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Xo(a,s){try{var d="",g=s;do d+=Bt(g),g=g.return;while(g);var _=d}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:s,stack:_,digest:null}}function vd(a,s,d){return{value:a,source:null,stack:d??null,digest:s??null}}function nc(a,s){try{console.error(s.value)}catch(d){setTimeout(function(){throw d})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function yd(a,s,d){d=Ma(-1,d),d.tag=3,d.payload={element:null};var g=s.value;return d.callback=function(){nl||(nl=!0,Kf=g),nc(a,s)},d}function Zf(a,s,d){d=Ma(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var _=s.value;d.payload=function(){return g(_)},d.callback=function(){nc(a,s)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){nc(a,s),typeof g!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var z=s.stack;this.componentDidCatch(s.value,{componentStack:z!==null?z:""})}),d}function xd(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new bp;var _=new Set;g.set(s,_)}else _=g.get(s),_===void 0&&(_=new Set,g.set(s,_));_.has(d)||(_.add(d),a=Zm.bind(null,a,s,d),s.then(a,a))}function Jf(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function wd(a,s,d,g,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===s?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(s=Ma(-1,1),s.tag=2,Ea(d,s,1))),d.lanes|=1),a)}var mi=fe.ReactCurrentOwner,Cr=!1;function ar(a,s,d,g){s.child=a===null?zf(s,null,d,g):js(s,a.child,d,g)}function Ta(a,s,d,g,_){d=d.render;var E=s.ref;return uo(s,_),g=$a(a,s,d,g,E,_),d=Zs(),a!==null&&!Cr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~_,oa(a,s,_)):(Kn&&d&&Hs(s),s.flags|=1,ar(a,s,g,_),s.child)}function ho(a,s,d,g,_){if(a===null){var E=d.type;return typeof E=="function"&&!sc(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(s.tag=15,s.type=E,po(a,s,E,g,_)):(a=cu(d.type,null,g,s,s.mode,_),a.ref=s.ref,a.return=s,s.child=a)}if(E=a.child,!(a.lanes&_)){var z=E.memoizedProps;if(d=d.compare,d=d!==null?d:Rl,d(z,g)&&a.ref===s.ref)return oa(a,s,_)}return s.flags|=1,a=Qa(E,g),a.ref=s.ref,a.return=s,s.child=a}function po(a,s,d,g,_){if(a!==null){var E=a.memoizedProps;if(Rl(E,g)&&a.ref===s.ref)if(Cr=!1,s.pendingProps=g=E,(a.lanes&_)!==0)a.flags&131072&&(Cr=!0);else return s.lanes=a.lanes,oa(a,s,_)}return mo(a,s,d,g,_)}function Yo(a,s,d){var g=s.pendingProps,_=g.children,E=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(xo,xi),xi|=d;else{if(!(d&1073741824))return a=E!==null?E.baseLanes|d:d,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,Wn(xo,xi),xi|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:d,Wn(xo,xi),xi|=g}else E!==null?(g=E.baseLanes|d,s.memoizedState=null):g=d,Wn(xo,xi),xi|=g;return ar(a,s,_,d),s.child}function Zo(a,s){var d=s.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(s.flags|=512,s.flags|=2097152)}function mo(a,s,d,g,_){var E=di(d)?Bs:rr.current;return E=zl(s,E),uo(s,_),d=$a(a,s,d,g,E,_),g=Zs(),a!==null&&!Cr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~_,oa(a,s,_)):(Kn&&g&&Hs(s),s.flags|=1,ar(a,s,d,_),s.child)}function Jo(a,s,d,g,_){if(di(d)){var E=!0;ku(s)}else E=!1;if(uo(s,_),s.stateNode===null)Ko(a,s),Yf(s,d,g),gd(s,d,g,_),g=!0;else if(a===null){var z=s.stateNode,Y=s.memoizedProps;z.props=Y;var ae=z.context,ye=d.contextType;typeof ye=="object"&&ye!==null?ye=pi(ye):(ye=di(d)?Bs:rr.current,ye=zl(s,ye));var Be=d.getDerivedStateFromProps,je=typeof Be=="function"||typeof z.getSnapshotBeforeUpdate=="function";je||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==g||ae!==ye)&&md(s,z,g,ye),Sa=!1;var Ue=s.memoizedState;z.state=Ue,Vl(s,g,z,_),ae=s.memoizedState,Y!==g||Ue!==ae||ci.current||Sa?(typeof Be=="function"&&(ec(s,d,Be,g),ae=s.memoizedState),(Y=Sa||tc(s,d,Y,g,Ue,ae,ye))?(je||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(s.flags|=4194308)):(typeof z.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=ae),z.props=g,z.state=ae,z.context=ye,g=Y):(typeof z.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{z=s.stateNode,Bf(a,s),Y=s.memoizedProps,ye=s.type===s.elementType?Y:aa(s.type,Y),z.props=ye,je=s.pendingProps,Ue=z.context,ae=d.contextType,typeof ae=="object"&&ae!==null?ae=pi(ae):(ae=di(d)?Bs:rr.current,ae=zl(s,ae));var ct=d.getDerivedStateFromProps;(Be=typeof ct=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==je||Ue!==ae)&&md(s,z,g,ae),Sa=!1,Ue=s.memoizedState,z.state=Ue,Vl(s,g,z,_);var vt=s.memoizedState;Y!==je||Ue!==vt||ci.current||Sa?(typeof ct=="function"&&(ec(s,d,ct,g),vt=s.memoizedState),(ye=Sa||tc(s,d,ye,g,Ue,vt,ae)||!1)?(Be||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(g,vt,ae),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(g,vt,ae)),typeof z.componentDidUpdate=="function"&&(s.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof z.componentDidUpdate!="function"||Y===a.memoizedProps&&Ue===a.memoizedState||(s.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===a.memoizedProps&&Ue===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=vt),z.props=g,z.state=vt,z.context=ae,g=ye):(typeof z.componentDidUpdate!="function"||Y===a.memoizedProps&&Ue===a.memoizedState||(s.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===a.memoizedProps&&Ue===a.memoizedState||(s.flags|=1024),g=!1)}return go(a,s,d,g,E,_)}function go(a,s,d,g,_,E){Zo(a,s);var z=(s.flags&128)!==0;if(!g&&!z)return _&&fp(s,d,!1),oa(a,s,E);g=s.stateNode,mi.current=s;var Y=z&&typeof d.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,a!==null&&z?(s.child=js(s,a.child,null,E),s.child=js(s,null,Y,E)):ar(a,s,Y,E),s.memoizedState=g.state,_&&fp(s,d,!0),s.child}function _p(a){var s=a.stateNode;s.pendingContext?so(a,s.pendingContext,s.pendingContext!==s.context):s.context&&so(a,s.context,!1),Wu(a,s.containerInfo)}function qn(a,s,d,g,_){return Us(),Gs(_),s.flags|=256,ar(a,s,d,g),s.child}var gi={dehydrated:null,treeContext:null,retryLane:0};function Yl(a){return{baseLanes:a,cachePool:null,transitions:null}}function Zl(a,s,d){var g=s.pendingProps,_=er.current,E=!1,z=(s.flags&128)!==0,Y;if((Y=z)||(Y=a!==null&&a.memoizedState===null?!1:(_&2)!==0),Y?(E=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),Wn(er,_&1),a===null)return Hu(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(z=g.children,a=g.fallback,E?(g=s.mode,E=s.child,z={mode:"hidden",children:z},!(g&1)&&E!==null?(E.childLanes=0,E.pendingProps=z):E=lc(z,g,0,null),a=So(a,g,d,null),E.return=s,a.return=s,E.sibling=a,s.child=E,s.child.memoizedState=Yl(d),s.memoizedState=gi,a):Jl(s,z));if(_=a.memoizedState,_!==null&&(Y=_.dehydrated,Y!==null))return bd(a,s,z,g,Y,_,d);if(E){E=g.fallback,z=s.mode,_=a.child,Y=_.sibling;var ae={mode:"hidden",children:g.children};return!(z&1)&&s.child!==_?(g=s.child,g.childLanes=0,g.pendingProps=ae,s.deletions=null):(g=Qa(_,ae),g.subtreeFlags=_.subtreeFlags&14680064),Y!==null?E=Qa(Y,E):(E=So(E,z,d,null),E.flags|=2),E.return=s,g.return=s,g.sibling=E,s.child=g,g=E,E=s.child,z=a.child.memoizedState,z=z===null?Yl(d):{baseLanes:z.baseLanes|d,cachePool:null,transitions:z.transitions},E.memoizedState=z,E.childLanes=a.childLanes&~d,s.memoizedState=gi,g}return E=a.child,a=E.sibling,g=Qa(E,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=d),g.return=s,g.sibling=null,a!==null&&(d=s.deletions,d===null?(s.deletions=[a],s.flags|=16):d.push(a)),s.child=g,s.memoizedState=null,g}function Jl(a,s){return s=lc({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function Lr(a,s,d,g){return g!==null&&Gs(g),js(s,a.child,null,d),a=Jl(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function bd(a,s,d,g,_,E,z){if(d)return s.flags&256?(s.flags&=-257,g=vd(Error(f(422))),Lr(a,s,z,g)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(E=g.fallback,_=s.mode,g=lc({mode:"visible",children:g.children},_,0,null),E=So(E,_,z,null),E.flags|=2,g.return=s,E.return=s,g.sibling=E,s.child=g,s.mode&1&&js(s,a.child,null,z),s.child.memoizedState=Yl(z),s.memoizedState=gi,E);if(!(s.mode&1))return Lr(a,s,z,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var Y=g.dgst;return g=Y,E=Error(f(419)),g=vd(E,g,void 0),Lr(a,s,z,g)}if(Y=(z&a.childLanes)!==0,Cr||Y){if(g=Ar,g!==null){switch(z&-z){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(g.suspendedLanes|z)?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,ir(a,_),ji(g,a,_,-1))}return ah(),g=vd(Error(f(421))),Lr(a,s,z,g)}return _.data==="$?"?(s.flags|=128,s.child=a.child,s=Jm.bind(null,a),_._reactRetry=s,null):(a=E.treeContext,fi=Go(_.nextSibling),Ei=s,Kn=!0,hi=null,a!==null&&(ni[qr++]=Mi,ni[qr++]=Bi,ni[qr++]=ra,Mi=a.id,Bi=a.overflow,ra=s),s=Jl(s,g.children),s.flags|=4096,s)}function rc(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),od(a.return,s,d)}function Qo(a,s,d,g,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=d,E.tailMode=_)}function ic(a,s,d){var g=s.pendingProps,_=g.revealOrder,E=g.tail;if(ar(a,s,g.children,d),g=er.current,g&2)g=g&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&rc(a,d,s);else if(a.tag===19)rc(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Wn(er,g),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(d=s.child,_=null;d!==null;)a=d.alternate,a!==null&&qu(a)===null&&(_=d),d=d.sibling;d=_,d===null?(_=s.child,s.child=null):(_=d.sibling,d.sibling=null),Qo(s,!1,_,d,E);break;case"backwards":for(d=null,_=s.child,s.child=null;_!==null;){if(a=_.alternate,a!==null&&qu(a)===null){s.child=_;break}a=_.sibling,_.sibling=d,d=_,_=a}Qo(s,!0,d,null,E);break;case"together":Qo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ko(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function oa(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),ns|=s.lanes,!(d&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(f(153));if(s.child!==null){for(a=s.child,d=Qa(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=Qa(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function Ql(a,s,d){switch(s.tag){case 3:_p(s),Us();break;case 5:Bn(s);break;case 1:di(s.type)&&ku(s);break;case 4:Wu(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,_=s.memoizedProps.value;Wn(Vs,g._currentValue),g._currentValue=_;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(Wn(er,er.current&1),s.flags|=128,null):d&s.child.childLanes?Zl(a,s,d):(Wn(er,er.current&1),a=oa(a,s,d),a!==null?a.sibling:null);Wn(er,er.current&1);break;case 19:if(g=(d&s.childLanes)!==0,a.flags&128){if(g)return ic(a,s,d);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Wn(er,er.current),g)break;return null;case 22:case 23:return s.lanes=0,Yo(a,s,d)}return oa(a,s,d)}var Ui,Qf,es,_d;Ui=function(a,s){for(var d=s.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Qf=function(){},es=function(a,s,d,g){var _=a.memoizedProps;if(_!==g){a=s.stateNode,ri(Ti.current);var E=null;switch(d){case"input":_=Sn(a,_),g=Sn(a,g),E=[];break;case"select":_=Re({},_,{value:void 0}),g=Re({},g,{value:void 0}),E=[];break;case"textarea":_=Qe(a,_),g=Qe(a,g),E=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Iu)}en(d,g);var z;d=null;for(ye in _)if(!g.hasOwnProperty(ye)&&_.hasOwnProperty(ye)&&_[ye]!=null)if(ye==="style"){var Y=_[ye];for(z in Y)Y.hasOwnProperty(z)&&(d||(d={}),d[z]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(y.hasOwnProperty(ye)?E||(E=[]):(E=E||[]).push(ye,null));for(ye in g){var ae=g[ye];if(Y=_!=null?_[ye]:void 0,g.hasOwnProperty(ye)&&ae!==Y&&(ae!=null||Y!=null))if(ye==="style")if(Y){for(z in Y)!Y.hasOwnProperty(z)||ae&&ae.hasOwnProperty(z)||(d||(d={}),d[z]="");for(z in ae)ae.hasOwnProperty(z)&&Y[z]!==ae[z]&&(d||(d={}),d[z]=ae[z])}else d||(E||(E=[]),E.push(ye,d)),d=ae;else ye==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,Y=Y?Y.__html:void 0,ae!=null&&Y!==ae&&(E=E||[]).push(ye,ae)):ye==="children"?typeof ae!="string"&&typeof ae!="number"||(E=E||[]).push(ye,""+ae):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(y.hasOwnProperty(ye)?(ae!=null&&ye==="onScroll"&&Qn("scroll",a),E||Y===ae||(E=[])):(E=E||[]).push(ye,ae))}d&&(E=E||[]).push("style",d);var ye=E;(s.updateQueue=ye)&&(s.flags|=4)}},_d=function(a,s,d,g){d!==g&&(s.flags|=4)};function Kl(a,s){if(!Kn)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Jt(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var _=a.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function Ra(a,s,d){var g=s.pendingProps;switch(Hl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return di(s.type)&&Fs(),Jt(s),null;case 3:return g=s.stateNode,fo(),Vn(ci),Vn(rr),Xu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ul(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,hi!==null&&(Ad(hi),hi=null))),Qf(a,s),Jt(s),null;case 5:$u(s);var _=ri(Vu.current);if(d=s.type,a!==null&&s.stateNode!=null)es(a,s,d,g,_),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(f(166));return Jt(s),null}if(a=ri(Ti.current),Ul(s)){g=s.stateNode,d=s.type;var E=s.memoizedProps;switch(g[xa]=s,g[Ol]=E,a=(s.mode&1)!==0,d){case"dialog":Qn("cancel",g),Qn("close",g);break;case"iframe":case"object":case"embed":Qn("load",g);break;case"video":case"audio":for(_=0;_<Nu.length;_++)Qn(Nu[_],g);break;case"source":Qn("error",g);break;case"img":case"image":case"link":Qn("error",g),Qn("load",g);break;case"details":Qn("toggle",g);break;case"input":Yn(g,E),Qn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},Qn("invalid",g);break;case"textarea":bn(g,E),Qn("invalid",g)}en(d,E),_=null;for(var z in E)if(E.hasOwnProperty(z)){var Y=E[z];z==="children"?typeof Y=="string"?g.textContent!==Y&&(E.suppressHydrationWarning!==!0&&Du(g.textContent,Y,a),_=["children",Y]):typeof Y=="number"&&g.textContent!==""+Y&&(E.suppressHydrationWarning!==!0&&Du(g.textContent,Y,a),_=["children",""+Y]):y.hasOwnProperty(z)&&Y!=null&&z==="onScroll"&&Qn("scroll",g)}switch(d){case"input":Pt(g),mn(g,E,!0);break;case"textarea":Pt(g),Ct(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=Iu)}g=_,s.updateQueue=g,g!==null&&(s.flags|=4)}else{z=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Xt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=z.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=z.createElement(d,{is:g.is}):(a=z.createElement(d),d==="select"&&(z=a,g.multiple?z.multiple=!0:g.size&&(z.size=g.size))):a=z.createElementNS(a,d),a[xa]=s,a[Ol]=g,Ui(a,s,!1,!1),s.stateNode=a;e:{switch(z=mr(d,g),d){case"dialog":Qn("cancel",a),Qn("close",a),_=g;break;case"iframe":case"object":case"embed":Qn("load",a),_=g;break;case"video":case"audio":for(_=0;_<Nu.length;_++)Qn(Nu[_],a);_=g;break;case"source":Qn("error",a),_=g;break;case"img":case"image":case"link":Qn("error",a),Qn("load",a),_=g;break;case"details":Qn("toggle",a),_=g;break;case"input":Yn(a,g),_=Sn(a,g),Qn("invalid",a);break;case"option":_=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},_=Re({},g,{value:void 0}),Qn("invalid",a);break;case"textarea":bn(a,g),_=Qe(a,g),Qn("invalid",a);break;default:_=g}en(d,_),Y=_;for(E in Y)if(Y.hasOwnProperty(E)){var ae=Y[E];E==="style"?Gn(a,ae):E==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&Ft(a,ae)):E==="children"?typeof ae=="string"?(d!=="textarea"||ae!=="")&&an(a,ae):typeof ae=="number"&&an(a,""+ae):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(y.hasOwnProperty(E)?ae!=null&&E==="onScroll"&&Qn("scroll",a):ae!=null&&he(a,E,ae,z))}switch(d){case"input":Pt(a),mn(a,g,!1);break;case"textarea":Pt(a),Ct(a);break;case"option":g.value!=null&&a.setAttribute("value",""+qt(g.value));break;case"select":a.multiple=!!g.multiple,E=g.value,E!=null?Kt(a,!!g.multiple,E,!1):g.defaultValue!=null&&Kt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Iu)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(a&&s.stateNode!=null)_d(a,s,a.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(f(166));if(d=ri(Vu.current),ri(Ti.current),Ul(s)){if(g=s.stateNode,d=s.memoizedProps,g[xa]=s,(E=g.nodeValue!==d)&&(a=Ei,a!==null))switch(a.tag){case 3:Du(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Du(g.nodeValue,d,(a.mode&1)!==0)}E&&(s.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[xa]=s,s.stateNode=g}return Jt(s),null;case 13:if(Vn(er),g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Kn&&fi!==null&&s.mode&1&&!(s.flags&128))Uu(),Us(),s.flags|=98560,E=!1;else if(E=Ul(s),g!==null&&g.dehydrated!==null){if(a===null){if(!E)throw Error(f(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(f(317));E[xa]=s}else Us(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jt(s),E=!1}else hi!==null&&(Ad(hi),hi=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=d,s):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(a===null||er.current&1?dr===0&&(dr=3):ah())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return fo(),Qf(a,s),a===null&&Ou(s.stateNode.containerInfo),Jt(s),null;case 10:return ad(s.type._context),Jt(s),null;case 17:return di(s.type)&&Fs(),Jt(s),null;case 19:if(Vn(er),E=s.memoizedState,E===null)return Jt(s),null;if(g=(s.flags&128)!==0,z=E.rendering,z===null)if(g)Kl(E,!1);else{if(dr!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(z=qu(a),z!==null){for(s.flags|=128,Kl(E,!1),g=z.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=d,d=s.child;d!==null;)E=d,a=g,E.flags&=14680066,z=E.alternate,z===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=z.childLanes,E.lanes=z.lanes,E.child=z.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=z.memoizedProps,E.memoizedState=z.memoizedState,E.updateQueue=z.updateQueue,E.type=z.type,a=z.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Wn(er,er.current&1|2),s.child}a=a.sibling}E.tail!==null&&gr()>wo&&(s.flags|=128,g=!0,Kl(E,!1),s.lanes=4194304)}else{if(!g)if(a=qu(z),a!==null){if(s.flags|=128,g=!0,d=a.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),Kl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!z.alternate&&!Kn)return Jt(s),null}else 2*gr()-E.renderingStartTime>wo&&d!==1073741824&&(s.flags|=128,g=!0,Kl(E,!1),s.lanes=4194304);E.isBackwards?(z.sibling=s.child,s.child=z):(d=E.last,d!==null?d.sibling=z:s.child=z,E.last=z)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=gr(),s.sibling=null,d=er.current,Wn(er,g?d&1|2:d&1),s):(Jt(s),null);case 22:case 23:return rh(),g=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?xi&1073741824&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(f(156,s.tag))}function sa(a,s){switch(Hl(s),s.tag){case 1:return di(s.type)&&Fs(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return fo(),Vn(ci),Vn(rr),Xu(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return $u(s),null;case 13:if(Vn(er),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(f(340));Us()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Vn(er),null;case 4:return fo(),null;case 10:return ad(s.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var eu=!1,Fr=!1,tu=typeof WeakSet=="function"?WeakSet:Set,dt=null;function vo(a,s){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){fr(a,s,g)}else d.current=null}function nu(a,s,d){try{d()}catch(g){fr(a,s,g)}}var Ot=!1;function Gi(a,s){if(Is=zo,a=Os(),Si(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var z=0,Y=-1,ae=-1,ye=0,Be=0,je=a,Ue=null;t:for(;;){for(var ct;je!==d||_!==0&&je.nodeType!==3||(Y=z+_),je!==E||g!==0&&je.nodeType!==3||(ae=z+g),je.nodeType===3&&(z+=je.nodeValue.length),(ct=je.firstChild)!==null;)Ue=je,je=ct;for(;;){if(je===a)break t;if(Ue===d&&++ye===_&&(Y=z),Ue===E&&++Be===g&&(ae=z),(ct=je.nextSibling)!==null)break;je=Ue,Ue=je.parentNode}je=ct}d=Y===-1||ae===-1?null:{start:Y,end:ae}}else d=null}d=d||{start:0,end:0}}else d=null;for(Cf={focusedElem:a,selectionRange:d},zo=!1,dt=s;dt!==null;)if(s=dt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,dt=a;else for(;dt!==null;){s=dt;try{var vt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var wt=vt.memoizedProps,wr=vt.memoizedState,me=s.stateNode,ue=me.getSnapshotBeforeUpdate(s.elementType===s.type?wt:aa(s.type,wt),wr);me.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var ge=s.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(Je){fr(s,s.return,Je)}if(a=s.sibling,a!==null){a.return=s.return,dt=a;break}dt=s.return}return vt=Ot,Ot=!1,vt}function Ya(a,s,d){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&a)===a){var E=_.destroy;_.destroy=void 0,E!==void 0&&nu(s,d,E)}_=_.next}while(_!==g)}}function ru(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==s)}}function iu(a){var s=a.ref;if(s!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof s=="function"?s(a):s.current=a}}function Sd(a){var s=a.alternate;s!==null&&(a.alternate=null,Sd(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[xa],delete s[Ol],delete s[Nf],delete s[qm],delete s[Xm])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Md(a){return a.tag===5||a.tag===3||a.tag===4}function Ed(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Md(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hr(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.nodeType===8?d.parentNode.insertBefore(a,s):d.insertBefore(a,s):(d.nodeType===8?(s=d.parentNode,s.insertBefore(a,d)):(s=d,s.appendChild(a)),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Iu));else if(g!==4&&(a=a.child,a!==null))for(Hr(a,s,d),a=a.sibling;a!==null;)Hr(a,s,d),a=a.sibling}function Td(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Td(a,s,d),a=a.sibling;a!==null;)Td(a,s,d),a=a.sibling}var yr=null,vi=!1;function Ur(a,s,d){for(d=d.child;d!==null;)Ca(a,s,d),d=d.sibling}function Ca(a,s,d){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(xu,d)}catch{}switch(d.tag){case 5:Fr||vo(d,s);case 6:var g=yr,_=vi;yr=null,Ur(a,s,d),yr=g,vi=_,yr!==null&&(vi?(a=yr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):yr.removeChild(d.stateNode));break;case 18:yr!==null&&(vi?(a=yr,d=d.stateNode,a.nodeType===8?Af(a.parentNode,d):a.nodeType===1&&Af(a,d),ko(a)):Af(yr,d.stateNode));break;case 4:g=yr,_=vi,yr=d.stateNode.containerInfo,vi=!0,Ur(a,s,d),yr=g,vi=_;break;case 0:case 11:case 14:case 15:if(!Fr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var E=_,z=E.destroy;E=E.tag,z!==void 0&&(E&2||E&4)&&nu(d,s,z),_=_.next}while(_!==g)}Ur(a,s,d);break;case 1:if(!Fr&&(vo(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(Y){fr(d,s,Y)}Ur(a,s,d);break;case 21:Ur(a,s,d);break;case 22:d.mode&1?(Fr=(g=Fr)||d.memoizedState!==null,Ur(a,s,d),Fr=g):Ur(a,s,d);break;default:Ur(a,s,d)}}function yi(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new tu),s.forEach(function(g){var _=Qm.bind(null,a,g);d.has(g)||(d.add(g),g.then(_,_))})}}function xr(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var E=a,z=s,Y=z;e:for(;Y!==null;){switch(Y.tag){case 5:yr=Y.stateNode,vi=!1;break e;case 3:yr=Y.stateNode.containerInfo,vi=!0;break e;case 4:yr=Y.stateNode.containerInfo,vi=!0;break e}Y=Y.return}if(yr===null)throw Error(f(160));Ca(E,z,_),yr=null,vi=!1;var ae=_.alternate;ae!==null&&(ae.return=null),_.return=null}catch(ye){fr(_,s,ye)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)la(s,a),s=s.sibling}function la(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(xr(s,a),Nr(a),g&4){try{Ya(3,a,a.return),ru(3,a)}catch(wt){fr(a,a.return,wt)}try{Ya(5,a,a.return)}catch(wt){fr(a,a.return,wt)}}break;case 1:xr(s,a),Nr(a),g&512&&d!==null&&vo(d,d.return);break;case 5:if(xr(s,a),Nr(a),g&512&&d!==null&&vo(d,d.return),a.flags&32){var _=a.stateNode;try{an(_,"")}catch(wt){fr(a,a.return,wt)}}if(g&4&&(_=a.stateNode,_!=null)){var E=a.memoizedProps,z=d!==null?d.memoizedProps:E,Y=a.type,ae=a.updateQueue;if(a.updateQueue=null,ae!==null)try{Y==="input"&&E.type==="radio"&&E.name!=null&&lr(_,E),mr(Y,z);var ye=mr(Y,E);for(z=0;z<ae.length;z+=2){var Be=ae[z],je=ae[z+1];Be==="style"?Gn(_,je):Be==="dangerouslySetInnerHTML"?Ft(_,je):Be==="children"?an(_,je):he(_,Be,je,ye)}switch(Y){case"input":jt(_,E);break;case"textarea":Qr(_,E);break;case"select":var Ue=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var ct=E.value;ct!=null?Kt(_,!!E.multiple,ct,!1):Ue!==!!E.multiple&&(E.defaultValue!=null?Kt(_,!!E.multiple,E.defaultValue,!0):Kt(_,!!E.multiple,E.multiple?[]:"",!1))}_[Ol]=E}catch(wt){fr(a,a.return,wt)}}break;case 6:if(xr(s,a),Nr(a),g&4){if(a.stateNode===null)throw Error(f(162));_=a.stateNode,E=a.memoizedProps;try{_.nodeValue=E}catch(wt){fr(a,a.return,wt)}}break;case 3:if(xr(s,a),Nr(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ko(s.containerInfo)}catch(wt){fr(a,a.return,wt)}break;case 4:xr(s,a),Nr(a);break;case 13:xr(s,a),Nr(a),_=a.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(ou=gr())),g&4&&yi(a);break;case 22:if(Be=d!==null&&d.memoizedState!==null,a.mode&1?(Fr=(ye=Fr)||Be,xr(s,a),Fr=ye):xr(s,a),Nr(a),g&8192){if(ye=a.memoizedState!==null,(a.stateNode.isHidden=ye)&&!Be&&a.mode&1)for(dt=a,Be=a.child;Be!==null;){for(je=dt=Be;dt!==null;){switch(Ue=dt,ct=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:Ya(4,Ue,Ue.return);break;case 1:vo(Ue,Ue.return);var vt=Ue.stateNode;if(typeof vt.componentWillUnmount=="function"){g=Ue,d=Ue.return;try{s=g,vt.props=s.memoizedProps,vt.state=s.memoizedState,vt.componentWillUnmount()}catch(wt){fr(g,d,wt)}}break;case 5:vo(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){ua(je);continue}}ct!==null?(ct.return=Ue,dt=ct):ua(je)}Be=Be.sibling}e:for(Be=null,je=a;;){if(je.tag===5){if(Be===null){Be=je;try{_=je.stateNode,ye?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(Y=je.stateNode,ae=je.memoizedProps.style,z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,Y.style.display=Sr("display",z))}catch(wt){fr(a,a.return,wt)}}}else if(je.tag===6){if(Be===null)try{je.stateNode.nodeValue=ye?"":je.memoizedProps}catch(wt){fr(a,a.return,wt)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===a)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===a)break e;for(;je.sibling===null;){if(je.return===null||je.return===a)break e;Be===je&&(Be=null),je=je.return}Be===je&&(Be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:xr(s,a),Nr(a),g&4&&yi(a);break;case 21:break;default:xr(s,a),Nr(a)}}function Nr(a){var s=a.flags;if(s&2){try{e:{for(var d=a.return;d!==null;){if(Md(d)){var g=d;break e}d=d.return}throw Error(f(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(an(_,""),g.flags&=-33);var E=Ed(a);Td(a,E,_);break;case 3:case 4:var z=g.stateNode.containerInfo,Y=Ed(a);Hr(a,Y,z);break;default:throw Error(f(161))}}catch(ae){fr(a,a.return,ae)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function La(a,s,d){dt=a,Rd(a)}function Rd(a,s,d){for(var g=(a.mode&1)!==0;dt!==null;){var _=dt,E=_.child;if(_.tag===22&&g){var z=_.memoizedState!==null||eu;if(!z){var Y=_.alternate,ae=Y!==null&&Y.memoizedState!==null||Fr;Y=eu;var ye=Fr;if(eu=z,(Fr=ae)&&!ye)for(dt=_;dt!==null;)z=dt,ae=z.child,z.tag===22&&z.memoizedState!==null?yo(_):ae!==null?(ae.return=z,dt=ae):yo(_);for(;E!==null;)dt=E,Rd(E),E=E.sibling;dt=_,eu=Y,Fr=ye}Za(a)}else _.subtreeFlags&8772&&E!==null?(E.return=_,dt=E):Za(a)}}function Za(a){for(;dt!==null;){var s=dt;if(s.flags&8772){var d=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Fr||ru(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!Fr)if(d===null)g.componentDidMount();else{var _=s.elementType===s.type?d.memoizedProps:aa(s.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&sd(s,E,g);break;case 3:var z=s.updateQueue;if(z!==null){if(d=null,s.child!==null)switch(s.child.tag){case 5:d=s.child.stateNode;break;case 1:d=s.child.stateNode}sd(s,z,d)}break;case 5:var Y=s.stateNode;if(d===null&&s.flags&4){d=Y;var ae=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&d.focus();break;case"img":ae.src&&(d.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ye=s.alternate;if(ye!==null){var Be=ye.memoizedState;if(Be!==null){var je=Be.dehydrated;je!==null&&ko(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Fr||s.flags&512&&iu(s)}catch(Ue){fr(s,s.return,Ue)}}if(s===a){dt=null;break}if(d=s.sibling,d!==null){d.return=s.return,dt=d;break}dt=s.return}}function ua(a){for(;dt!==null;){var s=dt;if(s===a){dt=null;break}var d=s.sibling;if(d!==null){d.return=s.return,dt=d;break}dt=s.return}}function yo(a){for(;dt!==null;){var s=dt;try{switch(s.tag){case 0:case 11:case 15:var d=s.return;try{ru(4,s)}catch(ae){fr(s,d,ae)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var _=s.return;try{g.componentDidMount()}catch(ae){fr(s,_,ae)}}var E=s.return;try{iu(s)}catch(ae){fr(s,E,ae)}break;case 5:var z=s.return;try{iu(s)}catch(ae){fr(s,z,ae)}}}catch(ae){fr(s,s.return,ae)}if(s===a){dt=null;break}var Y=s.sibling;if(Y!==null){Y.return=s.return,dt=Y;break}dt=s.return}}var Xn=Math.ceil,el=fe.ReactCurrentDispatcher,Aa=fe.ReactCurrentOwner,Ri=fe.ReactCurrentBatchConfig,vn=0,Ar=null,or=null,cr=0,xi=0,xo=jo(0),dr=0,ts=null,ns=0,wi=0,au=0,tl=null,Gr=null,ou=0,wo=1/0,ca=null,nl=!1,Kf=null,rs=null,ac=!1,bo=null,su=0,rl=0,oc=null,Cd=-1,lu=0;function Xr(){return vn&6?gr():Cd!==-1?Cd:Cd=gr()}function Pa(a){return a.mode&1?vn&2&&cr!==0?cr&-cr:td.transition!==null?(lu===0&&(lu=uf()),lu):(a=ln,a!==0||(a=window.event,a=a===void 0?16:Bo(a.type)),a):1}function ji(a,s,d,g){if(50<rl)throw rl=0,oc=null,Error(f(185));bs(a,d,g),(!(vn&2)||a!==Ar)&&(a===Ar&&(!(vn&2)&&(wi|=d),dr===4&&Ci(a,cr)),ai(a,g),d===1&&vn===0&&!(s.mode&1)&&(wo=gr()+500,Fl&&Tr()))}function ai(a,s){var d=a.callbackNode;Fh(a,s);var g=bu(a,a===Ar?cr:0);if(g===0)d!==null&&on(d),a.callbackNode=null,a.callbackPriority=0;else if(s=g&-g,a.callbackPriority!==s){if(d!=null&&on(d),s===1)a.tag===0?If(th.bind(null,a)):Df(th.bind(null,a)),Lf(function(){!(vn&6)&&Tr()}),d=null;else{switch(Ki(g)){case 1:d=Ia;break;case 4:d=yu;break;case 16:d=ei;break;case 536870912:d=sf;break;default:d=ei}d=Yr(d,eh.bind(null,a))}a.callbackPriority=s,a.callbackNode=d}}function eh(a,s){if(Cd=-1,lu=0,vn&6)throw Error(f(327));var d=a.callbackNode;if(uu()&&a.callbackNode!==d)return null;var g=bu(a,a===Ar?cr:0);if(g===0)return null;if(g&30||g&a.expiredLanes||s)s=Ja(a,g);else{s=g;var _=vn;vn|=2;var E=ih();(Ar!==a||cr!==s)&&(ca=null,wo=gr()+500,_o(a,s));do try{Mp();break}catch(Y){is(a,Y)}while(!0);id(),el.current=E,vn=_,or!==null?s=0:(Ar=null,cr=0,s=dr)}if(s!==0){if(s===2&&(_=lf(a),_!==0&&(g=_,s=Ld(a,_))),s===1)throw d=ts,_o(a,0),Ci(a,g),ai(a,gr()),d;if(s===6)Ci(a,g);else{if(_=a.current.alternate,!(g&30)&&!Sp(_)&&(s=Ja(a,g),s===2&&(E=lf(a),E!==0&&(g=E,s=Ld(a,E))),s===1))throw d=ts,_o(a,0),Ci(a,g),ai(a,gr()),d;switch(a.finishedWork=_,a.finishedLanes=g,s){case 0:case 1:throw Error(f(345));case 2:il(a,Gr,ca);break;case 3:if(Ci(a,g),(g&130023424)===g&&(s=ou+500-gr(),10<s)){if(bu(a,0)!==0)break;if(_=a.suspendedLanes,(_&g)!==g){Xr(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Jc(il.bind(null,a,Gr,ca),s);break}il(a,Gr,ca);break;case 4:if(Ci(a,g),(g&4194240)===g)break;for(s=a.eventTimes,_=-1;0<g;){var z=31-Qi(g);E=1<<z,z=s[z],z>_&&(_=z),g&=~E}if(g=_,g=gr()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Xn(g/1960))-g,10<g){a.timeoutHandle=Jc(il.bind(null,a,Gr,ca),g);break}il(a,Gr,ca);break;case 5:il(a,Gr,ca);break;default:throw Error(f(329))}}}return ai(a,gr()),a.callbackNode===d?eh.bind(null,a):null}function Ld(a,s){var d=tl;return a.current.memoizedState.isDehydrated&&(_o(a,s).flags|=256),a=Ja(a,s),a!==2&&(s=Gr,Gr=d,s!==null&&Ad(s)),a}function Ad(a){Gr===null?Gr=a:Gr.push.apply(Gr,a)}function Sp(a){for(var s=a;;){if(s.flags&16384){var d=s.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],E=_.getSnapshot;_=_.value;try{if(!ta(E(),_))return!1}catch{return!1}}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(a,s){for(s&=~au,s&=~wi,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var d=31-Qi(s),g=1<<d;a[d]=-1,s&=~g}}function th(a){if(vn&6)throw Error(f(327));uu();var s=bu(a,0);if(!(s&1))return ai(a,gr()),null;var d=Ja(a,s);if(a.tag!==0&&d===2){var g=lf(a);g!==0&&(s=g,d=Ld(a,g))}if(d===1)throw d=ts,_o(a,0),Ci(a,s),ai(a,gr()),d;if(d===6)throw Error(f(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,il(a,Gr,ca),ai(a,gr()),null}function nh(a,s){var d=vn;vn|=1;try{return a(s)}finally{vn=d,vn===0&&(wo=gr()+500,Fl&&Tr())}}function Vi(a){bo!==null&&bo.tag===0&&!(vn&6)&&uu();var s=vn;vn|=1;var d=Ri.transition,g=ln;try{if(Ri.transition=null,ln=1,a)return a()}finally{ln=g,Ri.transition=d,vn=s,!(vn&6)&&Tr()}}function rh(){xi=xo.current,Vn(xo)}function _o(a,s){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,cp(d)),or!==null)for(d=or.return;d!==null;){var g=d;switch(Hl(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fs();break;case 3:fo(),Vn(ci),Vn(rr),Xu();break;case 5:$u(g);break;case 4:fo();break;case 13:Vn(er);break;case 19:Vn(er);break;case 10:ad(g.type._context);break;case 22:case 23:rh()}d=d.return}if(Ar=a,or=a=Qa(a.current,null),cr=xi=s,dr=0,ts=null,au=wi=ns=0,Gr=tl=null,Br!==null){for(s=0;s<Br.length;s++)if(d=Br[s],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,E=d.pending;if(E!==null){var z=E.next;E.next=_,g.next=z}d.pending=g}Br=null}return a}function is(a,s){do{var d=or;try{if(id(),Yu.current=qo,Xs){for(var g=tr.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Xs=!1}if(Hi=0,vr=Rr=tr=null,Ys=!1,Wa=0,Aa.current=null,d===null||d.return===null){dr=1,ts=s,or=null;break}e:{var E=a,z=d.return,Y=d,ae=s;if(s=cr,Y.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var ye=ae,Be=Y,je=Be.tag;if(!(Be.mode&1)&&(je===0||je===11||je===15)){var Ue=Be.alternate;Ue?(Be.updateQueue=Ue.updateQueue,Be.memoizedState=Ue.memoizedState,Be.lanes=Ue.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var ct=Jf(z);if(ct!==null){ct.flags&=-257,wd(ct,z,Y,E,s),ct.mode&1&&xd(E,ye,s),s=ct,ae=ye;var vt=s.updateQueue;if(vt===null){var wt=new Set;wt.add(ae),s.updateQueue=wt}else vt.add(ae);break e}else{if(!(s&1)){xd(E,ye,s),ah();break e}ae=Error(f(426))}}else if(Kn&&Y.mode&1){var wr=Jf(z);if(wr!==null){!(wr.flags&65536)&&(wr.flags|=256),wd(wr,z,Y,E,s),Gs(Xo(ae,Y));break e}}E=ae=Xo(ae,Y),dr!==4&&(dr=2),tl===null?tl=[E]:tl.push(E),E=z;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var me=yd(E,ae,s);$s(E,me);break e;case 1:Y=ae;var ue=E.type,ge=E.stateNode;if(!(E.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(rs===null||!rs.has(ge)))){E.flags|=65536,s&=-s,E.lanes|=s;var Je=Zf(E,Y,s);$s(E,Je);break e}}E=E.return}while(E!==null)}Ep(d)}catch(yt){s=yt,or===d&&d!==null&&(or=d=d.return);continue}break}while(!0)}function ih(){var a=el.current;return el.current=qo,a===null?qo:a}function ah(){(dr===0||dr===3||dr===2)&&(dr=4),Ar===null||!(ns&268435455)&&!(wi&268435455)||Ci(Ar,cr)}function Ja(a,s){var d=vn;vn|=2;var g=ih();(Ar!==a||cr!==s)&&(ca=null,_o(a,s));do try{Ym();break}catch(_){is(a,_)}while(!0);if(id(),vn=d,el.current=g,or!==null)throw Error(f(261));return Ar=null,cr=0,dr}function Ym(){for(;or!==null;)Pd(or)}function Mp(){for(;or!==null&&!ml();)Pd(or)}function Pd(a){var s=sh(a.alternate,a,xi);a.memoizedProps=a.pendingProps,s===null?Ep(a):or=s,Aa.current=null}function Ep(a){var s=a;do{var d=s.alternate;if(a=s.return,s.flags&32768){if(d=sa(d,s),d!==null){d.flags&=32767,or=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{dr=6,or=null;return}}else if(d=Ra(d,s,xi),d!==null){or=d;return}if(s=s.sibling,s!==null){or=s;return}or=s=a}while(s!==null);dr===0&&(dr=5)}function il(a,s,d){var g=ln,_=Ri.transition;try{Ri.transition=null,ln=1,oh(a,s,d,g)}finally{Ri.transition=_,ln=g}return null}function oh(a,s,d,g){do uu();while(bo!==null);if(vn&6)throw Error(f(327));d=a.finishedWork;var _=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(f(177));a.callbackNode=null,a.callbackPriority=0;var E=d.lanes|d.childLanes;if(km(a,E),a===Ar&&(or=Ar=null,cr=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||ac||(ac=!0,Yr(ei,function(){return uu(),null})),E=(d.flags&15990)!==0,d.subtreeFlags&15990||E){E=Ri.transition,Ri.transition=null;var z=ln;ln=1;var Y=vn;vn|=4,Aa.current=null,Gi(a,d),la(d,a),ki(Cf),zo=!!Is,Cf=Is=null,a.current=d,La(d),ma(),vn=Y,ln=z,Ri.transition=E}else a.current=d;if(ac&&(ac=!1,bo=a,su=_),E=a.pendingLanes,E===0&&(rs=null),Im(d.stateNode),ai(a,gr()),s!==null)for(g=a.onRecoverableError,d=0;d<s.length;d++)_=s[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(nl)throw nl=!1,a=Kf,Kf=null,a;return su&1&&a.tag!==0&&uu(),E=a.pendingLanes,E&1?a===oc?rl++:(rl=0,oc=a):rl=0,Tr(),null}function uu(){if(bo!==null){var a=Ki(su),s=Ri.transition,d=ln;try{if(Ri.transition=null,ln=16>a?16:a,bo===null)var g=!1;else{if(a=bo,bo=null,su=0,vn&6)throw Error(f(331));var _=vn;for(vn|=4,dt=a.current;dt!==null;){var E=dt,z=E.child;if(dt.flags&16){var Y=E.deletions;if(Y!==null){for(var ae=0;ae<Y.length;ae++){var ye=Y[ae];for(dt=ye;dt!==null;){var Be=dt;switch(Be.tag){case 0:case 11:case 15:Ya(8,Be,E)}var je=Be.child;if(je!==null)je.return=Be,dt=je;else for(;dt!==null;){Be=dt;var Ue=Be.sibling,ct=Be.return;if(Sd(Be),Be===ye){dt=null;break}if(Ue!==null){Ue.return=ct,dt=Ue;break}dt=ct}}}var vt=E.alternate;if(vt!==null){var wt=vt.child;if(wt!==null){vt.child=null;do{var wr=wt.sibling;wt.sibling=null,wt=wr}while(wt!==null)}}dt=E}}if(E.subtreeFlags&2064&&z!==null)z.return=E,dt=z;else e:for(;dt!==null;){if(E=dt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Ya(9,E,E.return)}var me=E.sibling;if(me!==null){me.return=E.return,dt=me;break e}dt=E.return}}var ue=a.current;for(dt=ue;dt!==null;){z=dt;var ge=z.child;if(z.subtreeFlags&2064&&ge!==null)ge.return=z,dt=ge;else e:for(z=ue;dt!==null;){if(Y=dt,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:ru(9,Y)}}catch(yt){fr(Y,Y.return,yt)}if(Y===z){dt=null;break e}var Je=Y.sibling;if(Je!==null){Je.return=Y.return,dt=Je;break e}dt=Y.return}}if(vn=_,Tr(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(xu,a)}catch{}g=!0}return g}finally{ln=d,Ri.transition=s}}return!1}function Tp(a,s,d){s=Xo(d,s),s=yd(a,s,1),a=Ea(a,s,1),s=Xr(),a!==null&&(bs(a,1,s),ai(a,s))}function fr(a,s,d){if(a.tag===3)Tp(a,a,d);else for(;s!==null;){if(s.tag===3){Tp(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))){a=Xo(d,a),a=Zf(s,a,1),s=Ea(s,a,1),a=Xr(),s!==null&&(bs(s,1,a),ai(s,a));break}}s=s.return}}function Zm(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),s=Xr(),a.pingedLanes|=a.suspendedLanes&d,Ar===a&&(cr&d)===d&&(dr===4||dr===3&&(cr&130023424)===cr&&500>gr()-ou?_o(a,0):au|=d),ai(a,s)}function Rp(a,s){s===0&&(a.mode&1?(s=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):s=1);var d=Xr();a=ir(a,s),a!==null&&(bs(a,s,d),ai(a,d))}function Jm(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),Rp(a,d)}function Qm(a,s){var d=0;switch(a.tag){case 13:var g=a.stateNode,_=a.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(f(314))}g!==null&&g.delete(s),Rp(a,d)}var sh;sh=function(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps||ci.current)Cr=!0;else{if(!(a.lanes&d)&&!(s.flags&128))return Cr=!1,Ql(a,s,d);Cr=!!(a.flags&131072)}else Cr=!1,Kn&&s.flags&1048576&&zu(s,_a,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Ko(a,s),a=s.pendingProps;var _=zl(s,rr.current);uo(s,d),_=$a(null,s,g,a,_,d);var E=Zs();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,di(g)?(E=!0,ku(s)):E=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Fi(s),_.updater=Xl,s.stateNode=_,_._reactInternals=s,gd(s,g,a,d),s=go(null,s,g,!0,E,d)):(s.tag=0,Kn&&E&&Hs(s),ar(null,s,_,d),s=s.child),s;case 16:g=s.elementType;e:{switch(Ko(a,s),a=s.pendingProps,_=g._init,g=_(g._payload),s.type=g,_=s.tag=Lp(g),a=aa(g,a),_){case 0:s=mo(null,s,g,a,d);break e;case 1:s=Jo(null,s,g,a,d);break e;case 11:s=Ta(null,s,g,a,d);break e;case 14:s=ho(null,s,g,aa(g.type,a),d);break e}throw Error(f(306,g,""))}return s;case 0:return g=s.type,_=s.pendingProps,_=s.elementType===g?_:aa(g,_),mo(a,s,g,_,d);case 1:return g=s.type,_=s.pendingProps,_=s.elementType===g?_:aa(g,_),Jo(a,s,g,_,d);case 3:e:{if(_p(s),a===null)throw Error(f(387));g=s.pendingProps,E=s.memoizedState,_=E.element,Bf(a,s),Vl(s,g,null,d);var z=s.memoizedState;if(g=z.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){_=Xo(Error(f(423)),s),s=qn(a,s,g,d,_);break e}else if(g!==_){_=Xo(Error(f(424)),s),s=qn(a,s,g,d,_);break e}else for(fi=Go(s.stateNode.containerInfo.firstChild),Ei=s,Kn=!0,hi=null,d=zf(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Us(),g===_){s=oa(a,s,d);break e}ar(a,s,g,d)}s=s.child}return s;case 5:return Bn(s),a===null&&Hu(s),g=s.type,_=s.pendingProps,E=a!==null?a.memoizedProps:null,z=_.children,ks(g,_)?z=null:E!==null&&ks(g,E)&&(s.flags|=32),Zo(a,s),ar(a,s,z,d),s.child;case 6:return a===null&&Hu(s),null;case 13:return Zl(a,s,d);case 4:return Wu(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=js(s,null,g,d):ar(a,s,g,d),s.child;case 11:return g=s.type,_=s.pendingProps,_=s.elementType===g?_:aa(g,_),Ta(a,s,g,_,d);case 7:return ar(a,s,s.pendingProps,d),s.child;case 8:return ar(a,s,s.pendingProps.children,d),s.child;case 12:return ar(a,s,s.pendingProps.children,d),s.child;case 10:e:{if(g=s.type._context,_=s.pendingProps,E=s.memoizedProps,z=_.value,Wn(Vs,g._currentValue),g._currentValue=z,E!==null)if(ta(E.value,z)){if(E.children===_.children&&!ci.current){s=oa(a,s,d);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var Y=E.dependencies;if(Y!==null){z=E.child;for(var ae=Y.firstContext;ae!==null;){if(ae.context===g){if(E.tag===1){ae=Ma(-1,d&-d),ae.tag=2;var ye=E.updateQueue;if(ye!==null){ye=ye.shared;var Be=ye.pending;Be===null?ae.next=ae:(ae.next=Be.next,Be.next=ae),ye.pending=ae}}E.lanes|=d,ae=E.alternate,ae!==null&&(ae.lanes|=d),od(E.return,d,s),Y.lanes|=d;break}ae=ae.next}}else if(E.tag===10)z=E.type===s.type?null:E.child;else if(E.tag===18){if(z=E.return,z===null)throw Error(f(341));z.lanes|=d,Y=z.alternate,Y!==null&&(Y.lanes|=d),od(z,d,s),z=E.sibling}else z=E.child;if(z!==null)z.return=E;else for(z=E;z!==null;){if(z===s){z=null;break}if(E=z.sibling,E!==null){E.return=z.return,z=E;break}z=z.return}E=z}ar(a,s,_.children,d),s=s.child}return s;case 9:return _=s.type,g=s.pendingProps.children,uo(s,d),_=pi(_),g=g(_),s.flags|=1,ar(a,s,g,d),s.child;case 14:return g=s.type,_=aa(g,s.pendingProps),_=aa(g.type,_),ho(a,s,g,_,d);case 15:return po(a,s,s.type,s.pendingProps,d);case 17:return g=s.type,_=s.pendingProps,_=s.elementType===g?_:aa(g,_),Ko(a,s),s.tag=1,di(g)?(a=!0,ku(s)):a=!1,uo(s,d),Yf(s,g,_),gd(s,g,_,d),go(null,s,g,!0,a,d);case 19:return ic(a,s,d);case 22:return Yo(a,s,d)}throw Error(f(156,s.tag))};function Yr(a,s){return ws(a,s)}function Cp(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(a,s,d,g){return new Cp(a,s,d,g)}function sc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Lp(a){if(typeof a=="function")return sc(a)?1:0;if(a!=null){if(a=a.$$typeof,a===gt)return 11;if(a===nn)return 14}return 2}function Qa(a,s){var d=a.alternate;return d===null?(d=da(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function cu(a,s,d,g,_,E){var z=2;if(g=a,typeof a=="function")sc(a)&&(z=1);else if(typeof a=="string")z=5;else e:switch(a){case Ge:return So(d.children,_,E,s);case ze:z=8,_|=8;break;case Xe:return a=da(12,d,s,_|2),a.elementType=Xe,a.lanes=E,a;case _t:return a=da(13,d,s,_),a.elementType=_t,a.lanes=E,a;case It:return a=da(19,d,s,_),a.elementType=It,a.lanes=E,a;case Rt:return lc(d,_,E,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case it:z=10;break e;case st:z=9;break e;case gt:z=11;break e;case nn:z=14;break e;case Dt:z=16,g=null;break e}throw Error(f(130,a==null?a:typeof a,""))}return s=da(z,d,s,_),s.elementType=a,s.type=g,s.lanes=E,s}function So(a,s,d,g){return a=da(7,a,g,s),a.lanes=d,a}function lc(a,s,d,g){return a=da(22,a,g,s),a.elementType=Rt,a.lanes=d,a.stateNode={isHidden:!1},a}function uc(a,s,d){return a=da(6,a,null,s),a.lanes=d,a}function lh(a,s,d){return s=da(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function Km(a,s,d,g,_){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Nd(a,s,d,g,_,E,z,Y,ae){return a=new Km(a,s,d,Y,ae),s===1?(s=1,E===!0&&(s|=8)):s=0,E=da(3,null,null,s),a.current=E,E.stateNode=a,E.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(E),a}function Ap(a,s,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oe,key:g==null?null:""+g,children:a,containerInfo:s,implementation:d}}function uh(a){if(!a)return ui;a=a._reactInternals;e:{if(Oi(a)!==a||a.tag!==1)throw Error(f(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(di(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(f(171))}if(a.tag===1){var d=a.type;if(di(d))return Bl(a,d,s)}return s}function cc(a,s,d,g,_,E,z,Y,ae){return a=Nd(d,g,!0,a,_,E,z,Y,ae),a.context=uh(null),d=a.current,g=Xr(),_=Pa(d),E=Ma(g,_),E.callback=s??null,Ea(d,E,_),a.current.lanes=_,bs(a,_,g),ai(a,g),a}function dc(a,s,d,g){var _=s.current,E=Xr(),z=Pa(_);return d=uh(d),s.context===null?s.context=d:s.pendingContext=d,s=Ma(E,z),s.payload={element:a},g=g===void 0?null:g,g!==null&&(s.callback=g),a=Ea(_,s,z),a!==null&&(ji(a,_,z,E),Ws(a,_,z)),z}function as(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ch(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function dh(a,s){ch(a,s),(a=a.alternate)&&ch(a,s)}var Mo=typeof reportError=="function"?reportError:function(a){console.error(a)};function du(a){this._internalRoot=a}fu.prototype.render=du.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(f(409));dc(a,s,null,null)},fu.prototype.unmount=du.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Vi(function(){dc(null,a,null,null)}),s[oo]=null}};function fu(a){this._internalRoot=a}fu.prototype.unstable_scheduleHydration=function(a){if(a){var s=_s();a={blockedOn:null,target:a,priority:s};for(var d=0;d<ga.length&&s!==0&&s<ga[d].priority;d++);ga.splice(d,0,a),d===0&&xl(a)}};function Od(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function fc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function eg(a,s,d,g,_){if(_){if(typeof g=="function"){var E=g;g=function(){var ye=as(z);E.call(ye)}}var z=cc(s,g,a,0,null,!1,!1,"",Pp);return a._reactRootContainer=z,a[oo]=z.current,Ou(a.nodeType===8?a.parentNode:a),Vi(),z}for(;_=a.lastChild;)a.removeChild(_);if(typeof g=="function"){var Y=g;g=function(){var ye=as(ae);Y.call(ye)}}var ae=Nd(a,0,!1,null,null,!1,!1,"",Pp);return a._reactRootContainer=ae,a[oo]=ae.current,Ou(a.nodeType===8?a.parentNode:a),Vi(function(){dc(s,ae,d,g)}),ae}function hc(a,s,d,g,_){var E=d._reactRootContainer;if(E){var z=E;if(typeof _=="function"){var Y=_;_=function(){var ae=as(z);Y.call(ae)}}dc(s,z,a,_)}else z=eg(d,s,a,_,g);return as(z)}ka=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var d=wu(s.pendingLanes);d!==0&&(cf(s,d|1),ai(s,gr()),!(vn&6)&&(wo=gr()+500,Tr()))}break;case 13:Vi(function(){var g=ir(a,1);if(g!==null){var _=Xr();ji(g,a,1,_)}}),dh(a,1)}},_u=function(a){if(a.tag===13){var s=ir(a,134217728);if(s!==null){var d=Xr();ji(s,a,134217728,d)}dh(a,134217728)}},za=function(a){if(a.tag===13){var s=Pa(a),d=ir(a,s);if(d!==null){var g=Xr();ji(d,a,s,g)}dh(a,s)}},_s=function(){return ln},Ss=function(a,s){var d=ln;try{return ln=a,s()}finally{ln=d}},V=function(a,s,d){switch(s){case"input":if(jt(a,d),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var _=Qc(g);if(!_)throw Error(f(90));un(g),jt(g,_)}}}break;case"textarea":Qr(a,d);break;case"select":s=d.value,s!=null&&Kt(a,!!d.multiple,s,!1)}},xt=nh,ft=Vi;var Np={usingClientEntryPoint:!1,Events:[Dl,Il,Qc,mt,Vt,nh]},pc={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Op={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=eo(a),a===null?null:a.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{xu=Dd.inject(Op),Ji=Dd}catch{}}return fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np,fa.createPortal=function(a,s){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(s))throw Error(f(200));return Ap(a,s,null,d)},fa.createRoot=function(a,s){if(!Od(a))throw Error(f(299));var d=!1,g="",_=Mo;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Nd(a,1,!1,null,null,d,!1,g,_),a[oo]=s.current,Ou(a.nodeType===8?a.parentNode:a),new du(s)},fa.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(f(188)):(a=Object.keys(a).join(","),Error(f(268,a)));return a=eo(s),a=a===null?null:a.stateNode,a},fa.flushSync=function(a){return Vi(a)},fa.hydrate=function(a,s,d){if(!fc(s))throw Error(f(200));return hc(null,a,s,!0,d)},fa.hydrateRoot=function(a,s,d){if(!Od(a))throw Error(f(405));var g=d!=null&&d.hydratedSources||null,_=!1,E="",z=Mo;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(z=d.onRecoverableError)),s=cc(s,null,a,1,d??null,_,!1,E,z),a[oo]=s.current,Ou(a),g)for(a=0;a<g.length;a++)d=g[a],_=d._getVersion,_=_(d._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[d,_]:s.mutableSourceEagerHydrationData.push(d,_);return new fu(s)},fa.render=function(a,s,d){if(!fc(s))throw Error(f(200));return hc(null,a,s,!1,d)},fa.unmountComponentAtNode=function(a){if(!fc(a))throw Error(f(40));return a._reactRootContainer?(Vi(function(){hc(null,null,a,!1,function(){a._reactRootContainer=null,a[oo]=null})}),!0):!1},fa.unstable_batchedUpdates=nh,fa.unstable_renderSubtreeIntoContainer=function(a,s,d,g){if(!fc(d))throw Error(f(200));if(a==null||a._reactInternals===void 0)throw Error(f(38));return hc(a,s,d,!1,g)},fa.version="18.3.1-next-f1338f8080-20240426",fa}var Yv;function Gy(){if(Yv)return sg.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),sg.exports=aw(),sg.exports}var Zv;function ow(){if(Zv)return zp;Zv=1;var i=Gy();return zp.createRoot=i.createRoot,zp.hydrateRoot=i.hydrateRoot,zp}var sw=ow(),fs=function(){return fs=Object.assign||function(c){for(var f,m=1,y=arguments.length;m<y;m++){f=arguments[m];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(c[b]=f[b])}return c},fs.apply(this,arguments)};function jy(i,c){var f={};for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&c.indexOf(m)<0&&(f[m]=i[m]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(i);y<m.length;y++)c.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(i,m[y])&&(f[m[y]]=i[m[y]]);return f}function lw(i,c,f){if(f||arguments.length===2)for(var m=0,y=c.length,b;m<y;m++)(b||!(m in c))&&(b||(b=Array.prototype.slice.call(c,0,m)),b[m]=c[m]);return i.concat(b||Array.prototype.slice.call(c))}var Wp="right-scroll-bar-position",$p="width-before-scroll-bar",uw="with-scroll-bars-hidden",cw="--removed-body-scroll-bar-size";function cg(i,c){return typeof i=="function"?i(c):i&&(i.current=c),i}function dw(i,c){var f=U.useState(function(){return{value:i,callback:c,facade:{get current(){return f.value},set current(m){var y=f.value;y!==m&&(f.value=m,f.callback(m,y))}}}})[0];return f.callback=c,f.facade}var fw=typeof window<"u"?U.useLayoutEffect:U.useEffect,Jv=new WeakMap;function hw(i,c){var f=dw(null,function(m){return i.forEach(function(y){return cg(y,m)})});return fw(function(){var m=Jv.get(f);if(m){var y=new Set(m),b=new Set(i),M=f.current;y.forEach(function(R){b.has(R)||cg(R,null)}),b.forEach(function(R){y.has(R)||cg(R,M)})}Jv.set(f,i)},[i]),f}function pw(i){return i}function mw(i,c){c===void 0&&(c=pw);var f=[],m=!1,y={read:function(){if(m)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return f.length?f[f.length-1]:i},useMedium:function(b){var M=c(b,m);return f.push(M),function(){f=f.filter(function(R){return R!==M})}},assignSyncMedium:function(b){for(m=!0;f.length;){var M=f;f=[],M.forEach(b)}f={push:function(R){return b(R)},filter:function(){return f}}},assignMedium:function(b){m=!0;var M=[];if(f.length){var R=f;f=[],R.forEach(b),M=f}var L=function(){var I=M;M=[],I.forEach(b)},N=function(){return Promise.resolve().then(L)};N(),f={push:function(I){M.push(I),N()},filter:function(I){return M=M.filter(I),f}}}};return y}function gw(i){i===void 0&&(i={});var c=mw(null);return c.options=fs({async:!0,ssr:!1},i),c}var Vy=function(i){var c=i.sideCar,f=jy(i,["sideCar"]);if(!c)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var m=c.read();if(!m)throw new Error("Sidecar medium not found");return U.createElement(m,fs({},f))};Vy.isSideCarExport=!0;function vw(i,c){return i.useMedium(c),Vy}var Wy=gw(),dg=function(){},lm=U.forwardRef(function(i,c){var f=U.useRef(null),m=U.useState({onScrollCapture:dg,onWheelCapture:dg,onTouchMoveCapture:dg}),y=m[0],b=m[1],M=i.forwardProps,R=i.children,L=i.className,N=i.removeScrollBar,I=i.enabled,F=i.shards,D=i.sideCar,W=i.noIsolation,X=i.inert,$=i.allowPinchZoom,j=i.as,oe=j===void 0?"div":j,de=i.gapMode,he=jy(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=D,xe=hw([f,c]),Oe=fs(fs({},he),y);return U.createElement(U.Fragment,null,I&&U.createElement(fe,{sideCar:Wy,removeScrollBar:N,shards:F,noIsolation:W,inert:X,setCallbacks:b,allowPinchZoom:!!$,lockRef:f,gapMode:de}),M?U.cloneElement(U.Children.only(R),fs(fs({},Oe),{ref:xe})):U.createElement(oe,fs({},Oe,{className:L,ref:xe}),R))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:$p,zeroRight:Wp};var yw=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xw(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var c=yw();return c&&i.setAttribute("nonce",c),i}function ww(i,c){i.styleSheet?i.styleSheet.cssText=c:i.appendChild(document.createTextNode(c))}function bw(i){var c=document.head||document.getElementsByTagName("head")[0];c.appendChild(i)}var _w=function(){var i=0,c=null;return{add:function(f){i==0&&(c=xw())&&(ww(c,f),bw(c)),i++},remove:function(){i--,!i&&c&&(c.parentNode&&c.parentNode.removeChild(c),c=null)}}},Sw=function(){var i=_w();return function(c,f){U.useEffect(function(){return i.add(c),function(){i.remove()}},[c&&f])}},$y=function(){var i=Sw(),c=function(f){var m=f.styles,y=f.dynamic;return i(m,y),null};return c},Mw={left:0,top:0,right:0,gap:0},fg=function(i){return parseInt(i||"",10)||0},Ew=function(i){var c=window.getComputedStyle(document.body),f=c[i==="padding"?"paddingLeft":"marginLeft"],m=c[i==="padding"?"paddingTop":"marginTop"],y=c[i==="padding"?"paddingRight":"marginRight"];return[fg(f),fg(m),fg(y)]},Tw=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return Mw;var c=Ew(i),f=document.documentElement.clientWidth,m=window.innerWidth;return{left:c[0],top:c[1],right:c[2],gap:Math.max(0,m-f+c[2]-c[0])}},Rw=$y(),jd="data-scroll-locked",Cw=function(i,c,f,m){var y=i.left,b=i.top,M=i.right,R=i.gap;return f===void 0&&(f="margin"),`
  .`.concat(uw,` {
   overflow: hidden `).concat(m,`;
   padding-right: `).concat(R,"px ").concat(m,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(m,`;
    overscroll-behavior: contain;
    `).concat([c&&"position: relative ".concat(m,";"),f==="margin"&&`
    padding-left: `.concat(y,`px;
    padding-top: `).concat(b,`px;
    padding-right: `).concat(M,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(R,"px ").concat(m,`;
    `),f==="padding"&&"padding-right: ".concat(R,"px ").concat(m,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wp,` {
    right: `).concat(R,"px ").concat(m,`;
  }
  
  .`).concat($p,` {
    margin-right: `).concat(R,"px ").concat(m,`;
  }
  
  .`).concat(Wp," .").concat(Wp,` {
    right: 0 `).concat(m,`;
  }
  
  .`).concat($p," .").concat($p,` {
    margin-right: 0 `).concat(m,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(cw,": ").concat(R,`px;
  }
`)},Qv=function(){var i=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(i)?i:0},Lw=function(){U.useEffect(function(){return document.body.setAttribute(jd,(Qv()+1).toString()),function(){var i=Qv()-1;i<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,i.toString())}},[])},Aw=function(i){var c=i.noRelative,f=i.noImportant,m=i.gapMode,y=m===void 0?"margin":m;Lw();var b=U.useMemo(function(){return Tw(y)},[y]);return U.createElement(Rw,{styles:Cw(b,!c,y,f?"":"!important")})},Rg=!1;if(typeof window<"u")try{var Bp=Object.defineProperty({},"passive",{get:function(){return Rg=!0,!0}});window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,Bp)}catch{Rg=!1}var Bd=Rg?{passive:!1}:!1,Pw=function(i){return i.tagName==="TEXTAREA"},qy=function(i,c){if(!(i instanceof Element))return!1;var f=window.getComputedStyle(i);return f[c]!=="hidden"&&!(f.overflowY===f.overflowX&&!Pw(i)&&f[c]==="visible")},Nw=function(i){return qy(i,"overflowY")},Ow=function(i){return qy(i,"overflowX")},Kv=function(i,c){var f=c.ownerDocument,m=c;do{typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&(m=m.host);var y=Xy(i,m);if(y){var b=Yy(i,m),M=b[1],R=b[2];if(M>R)return!0}m=m.parentNode}while(m&&m!==f.body);return!1},Dw=function(i){var c=i.scrollTop,f=i.scrollHeight,m=i.clientHeight;return[c,f,m]},Iw=function(i){var c=i.scrollLeft,f=i.scrollWidth,m=i.clientWidth;return[c,f,m]},Xy=function(i,c){return i==="v"?Nw(c):Ow(c)},Yy=function(i,c){return i==="v"?Dw(c):Iw(c)},kw=function(i,c){return i==="h"&&c==="rtl"?-1:1},zw=function(i,c,f,m,y){var b=kw(i,window.getComputedStyle(c).direction),M=b*m,R=f.target,L=c.contains(R),N=!1,I=M>0,F=0,D=0;do{var W=Yy(i,R),X=W[0],$=W[1],j=W[2],oe=$-j-b*X;(X||oe)&&Xy(i,R)&&(F+=oe,D+=X),R instanceof ShadowRoot?R=R.host:R=R.parentNode}while(!L&&R!==document.body||L&&(c.contains(R)||c===R));return(I&&Math.abs(F)<1||!I&&Math.abs(D)<1)&&(N=!0),N},Fp=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},ey=function(i){return[i.deltaX,i.deltaY]},ty=function(i){return i&&"current"in i?i.current:i},Bw=function(i,c){return i[0]===c[0]&&i[1]===c[1]},Fw=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},Hw=0,Fd=[];function Uw(i){var c=U.useRef([]),f=U.useRef([0,0]),m=U.useRef(),y=U.useState(Hw++)[0],b=U.useState($y)[0],M=U.useRef(i);U.useEffect(function(){M.current=i},[i]),U.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(y));var $=lw([i.lockRef.current],(i.shards||[]).map(ty),!0).filter(Boolean);return $.forEach(function(j){return j.classList.add("allow-interactivity-".concat(y))}),function(){document.body.classList.remove("block-interactivity-".concat(y)),$.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(y))})}}},[i.inert,i.lockRef.current,i.shards]);var R=U.useCallback(function($,j){if("touches"in $&&$.touches.length===2||$.type==="wheel"&&$.ctrlKey)return!M.current.allowPinchZoom;var oe=Fp($),de=f.current,he="deltaX"in $?$.deltaX:de[0]-oe[0],fe="deltaY"in $?$.deltaY:de[1]-oe[1],xe,Oe=$.target,Ge=Math.abs(he)>Math.abs(fe)?"h":"v";if("touches"in $&&Ge==="h"&&Oe.type==="range")return!1;var ze=Kv(Ge,Oe);if(!ze)return!0;if(ze?xe=Ge:(xe=Ge==="v"?"h":"v",ze=Kv(Ge,Oe)),!ze)return!1;if(!m.current&&"changedTouches"in $&&(he||fe)&&(m.current=xe),!xe)return!0;var Xe=m.current||xe;return zw(Xe,j,$,Xe==="h"?he:fe)},[]),L=U.useCallback(function($){var j=$;if(!(!Fd.length||Fd[Fd.length-1]!==b)){var oe="deltaY"in j?ey(j):Fp(j),de=c.current.filter(function(xe){return xe.name===j.type&&(xe.target===j.target||j.target===xe.shadowParent)&&Bw(xe.delta,oe)})[0];if(de&&de.should){j.cancelable&&j.preventDefault();return}if(!de){var he=(M.current.shards||[]).map(ty).filter(Boolean).filter(function(xe){return xe.contains(j.target)}),fe=he.length>0?R(j,he[0]):!M.current.noIsolation;fe&&j.cancelable&&j.preventDefault()}}},[]),N=U.useCallback(function($,j,oe,de){var he={name:$,delta:j,target:oe,should:de,shadowParent:Gw(oe)};c.current.push(he),setTimeout(function(){c.current=c.current.filter(function(fe){return fe!==he})},1)},[]),I=U.useCallback(function($){f.current=Fp($),m.current=void 0},[]),F=U.useCallback(function($){N($.type,ey($),$.target,R($,i.lockRef.current))},[]),D=U.useCallback(function($){N($.type,Fp($),$.target,R($,i.lockRef.current))},[]);U.useEffect(function(){return Fd.push(b),i.setCallbacks({onScrollCapture:F,onWheelCapture:F,onTouchMoveCapture:D}),document.addEventListener("wheel",L,Bd),document.addEventListener("touchmove",L,Bd),document.addEventListener("touchstart",I,Bd),function(){Fd=Fd.filter(function($){return $!==b}),document.removeEventListener("wheel",L,Bd),document.removeEventListener("touchmove",L,Bd),document.removeEventListener("touchstart",I,Bd)}},[]);var W=i.removeScrollBar,X=i.inert;return U.createElement(U.Fragment,null,X?U.createElement(b,{styles:Fw(y)}):null,W?U.createElement(Aw,{gapMode:i.gapMode}):null)}function Gw(i){for(var c=null;i!==null;)i instanceof ShadowRoot&&(c=i.host,i=i.host),i=i.parentNode;return c}const jw=vw(Wy,Uw);var Zy=U.forwardRef(function(i,c){return U.createElement(lm,fs({},i,{ref:c,sideCar:jw}))});Zy.classNames=lm.classNames;function ha(i){return Object.keys(i)}function hg(i){return i&&typeof i=="object"&&!Array.isArray(i)}function $g(i,c){const f={...i},m=c;return hg(i)&&hg(c)&&Object.keys(c).forEach(y=>{hg(m[y])&&y in i?f[y]=$g(f[y],m[y]):f[y]=m[y]}),f}function Vw(i){return i.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}function Ww(i){var c;return typeof i!="string"||!i.includes("var(--mantine-scale)")?i:(c=i.match(/^calc\((.*?)\)$/))==null?void 0:c[1].split("*")[0].trim()}function Eh(i){const c=Ww(i);return typeof c=="number"?c:typeof c=="string"?c.includes("calc")||c.includes("var")?c:c.includes("px")?Number(c.replace("px","")):c.includes("rem")?Number(c.replace("rem",""))*16:c.includes("em")?Number(c.replace("em",""))*16:Number(c):NaN}function pg(i){return i==="0rem"?"0rem":`calc(${i} * var(--mantine-scale))`}function Jy(i,{shouldScale:c=!1}={}){function f(m){if(m===0||m==="0")return`0${i}`;if(typeof m=="number"){const y=`${m/16}${i}`;return c?pg(y):y}if(typeof m=="string"){if(m===""||m.startsWith("calc(")||m.startsWith("clamp(")||m.includes("rgba("))return m;if(m.includes(","))return m.split(",").map(b=>f(b)).join(",");if(m.includes(" "))return m.split(" ").map(b=>f(b)).join(" ");if(m.includes(i))return c?pg(m):m;const y=m.replace("px","");if(!Number.isNaN(Number(y))){const b=`${Number(y)/16}${i}`;return c?pg(b):b}}return m}return f}const Ye=Jy("rem",{shouldScale:!0}),ny=Jy("em");function Ah(i){return Object.keys(i).reduce((c,f)=>(i[f]!==void 0&&(c[f]=i[f]),c),{})}function Qy(i){if(typeof i=="number")return!0;if(typeof i=="string"){if(i.startsWith("calc(")||i.startsWith("var(")||i.includes(" ")&&i.trim()!=="")return!0;const c=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return i.trim().split(/\s+/).every(m=>c.test(m))}return!1}function qg(i){return Array.isArray(i)||i===null?!1:typeof i=="object"?i.type!==U.Fragment:!1}function Qd(i){const c=U.createContext(null);return[({children:y,value:b})=>ne.jsx(c.Provider,{value:b,children:y}),()=>{const y=U.useContext(c);if(y===null)throw new Error(i);return y}]}function $w(i=null){const c=U.createContext(i);return[({children:y,value:b})=>ne.jsx(c.Provider,{value:b,children:y}),()=>U.useContext(c)]}const qw={app:100,modal:200,popover:300,overlay:400,max:9999};function Tc(i){return qw[i]}const Ky=()=>{};function Xw(i,c={active:!0}){return typeof i!="function"||!c.active?c.onKeyDown||Ky:f=>{var m;f.key==="Escape"&&(i(f),(m=c.onTrigger)==null||m.call(c))}}function Xi(i,c="size",f=!0){if(i!==void 0)return Qy(i)?f?Ye(i):i:`var(--${c}-${i})`}function To(i){return Xi(i,"mantine-spacing")}function Rc(i){return i===void 0?"var(--mantine-radius-default)":Xi(i,"mantine-radius")}function Th(i){return Xi(i,"mantine-font-size")}function Yw(i){return Xi(i,"mantine-line-height",!1)}function Xg(i){if(i)return Xi(i,"mantine-shadow",!1)}function Jp(i,c){return f=>{i==null||i(f),c==null||c(f)}}function Zw(i,c){return i in c?Eh(c[i]):Eh(i)}function Jw(i,c){const f=i.map(m=>({value:m,px:Zw(m,c)}));return f.sort((m,y)=>m.px-y.px),f}function Vd(i){return typeof i=="object"&&i!==null?"base"in i?i.base:void 0:i}function Qw(i="mantine-"){return`${i}${Math.random().toString(36).slice(2,11)}`}function wc(i){const c=U.useRef(i);return U.useEffect(()=>{c.current=i}),U.useMemo(()=>(...f)=>{var m;return(m=c.current)==null?void 0:m.call(c,...f)},[])}const Kw=()=>{};function um(i,c){const f=typeof c=="number"?c:c.delay,m=typeof c=="number"?!1:c.flushOnUnmount,y=wc(i),b=U.useRef(0),M=Object.assign(U.useCallback((...R)=>{window.clearTimeout(b.current);const L=()=>{b.current!==0&&(b.current=0,y(...R))};M.flush=L,b.current=window.setTimeout(L,f)},[y,f]),{flush:Kw});return U.useEffect(()=>()=>{window.clearTimeout(b.current),m&&M.flush()},[M,m]),M}const ry=["mousedown","touchstart"];function e1(i,c,f){const m=U.useRef(null);return U.useEffect(()=>{const y=b=>{const{target:M}=b??{};if(Array.isArray(f)){const R=(M==null?void 0:M.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(M)&&M.tagName!=="HTML";f.every(N=>!!N&&!b.composedPath().includes(N))&&!R&&i()}else m.current&&!m.current.contains(M)&&i()};return(c||ry).forEach(b=>document.addEventListener(b,y)),()=>{(c||ry).forEach(b=>document.removeEventListener(b,y))}},[m,i,f]),m}function t1(i,c){try{return i.addEventListener("change",c),()=>i.removeEventListener("change",c)}catch{return i.addListener(c),()=>i.removeListener(c)}}function n1(i,c){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(i).matches:!1}function e0(i,c,{getInitialValueInEffect:f}={getInitialValueInEffect:!0}){const[m,y]=U.useState(f?c:n1(i)),b=U.useRef(null);return U.useEffect(()=>{if("matchMedia"in window)return b.current=window.matchMedia(i),y(b.current.matches),t1(b.current,M=>y(M.matches))},[i]),m}function r1(i,c){return e0("(prefers-color-scheme: dark)",i==="dark",c)?"dark":"light"}const Ph=typeof document<"u"?U.useLayoutEffect:U.useEffect;function Sc(i,c){const f=U.useRef(!1);U.useEffect(()=>()=>{f.current=!1},[]),U.useEffect(()=>{if(f.current)return i();f.current=!0},c)}function t0({opened:i,shouldReturnFocus:c=!0}){const f=U.useRef(null),m=()=>{var y;f.current&&"focus"in f.current&&typeof f.current.focus=="function"&&((y=f.current)==null||y.focus({preventScroll:!0}))};return Sc(()=>{let y=-1;const b=M=>{M.key==="Tab"&&window.clearTimeout(y)};return document.addEventListener("keydown",b),i?f.current=document.activeElement:c&&(y=window.setTimeout(m,10)),()=>{window.clearTimeout(y),document.removeEventListener("keydown",b)}},[i,c]),m}const i1=/input|select|textarea|button|object/,n0="a, input, select, textarea, button, object, [tabindex]";function a1(i){return i.style.display==="none"}function o1(i){if(i.getAttribute("aria-hidden")||i.getAttribute("hidden")||i.getAttribute("type")==="hidden")return!1;let f=i;for(;f&&!(f===document.body||f.nodeType===11);){if(a1(f))return!1;f=f.parentNode}return!0}function r0(i){let c=i.getAttribute("tabindex");return c===null&&(c=void 0),parseInt(c,10)}function Cg(i){const c=i.nodeName.toLowerCase(),f=!Number.isNaN(r0(i));return(i1.test(c)&&!i.disabled||i instanceof HTMLAnchorElement&&i.href||f)&&o1(i)}function i0(i){const c=r0(i);return(Number.isNaN(c)||c>=0)&&Cg(i)}function s1(i){return Array.from(i.querySelectorAll(n0)).filter(i0)}function l1(i,c){const f=s1(i);if(!f.length){c.preventDefault();return}const m=f[c.shiftKey?0:f.length-1],y=i.getRootNode();let b=m===y.activeElement||i===y.activeElement;const M=y.activeElement;if(M.tagName==="INPUT"&&M.getAttribute("type")==="radio"&&(b=f.filter(I=>I.getAttribute("type")==="radio"&&I.getAttribute("name")===M.getAttribute("name")).includes(m)),!b)return;c.preventDefault();const L=f[c.shiftKey?f.length-1:0];L&&L.focus()}function u1(i=!0){const c=U.useRef(null),f=y=>{let b=y.querySelector("[data-autofocus]");if(!b){const M=Array.from(y.querySelectorAll(n0));b=M.find(i0)||M.find(Cg)||null,!b&&Cg(y)&&(b=y)}b&&b.focus({preventScroll:!0})},m=U.useCallback(y=>{i&&y!==null&&c.current!==y&&(y?(setTimeout(()=>{y.getRootNode()&&f(y)}),c.current=y):c.current=null)},[i]);return U.useEffect(()=>{if(!i)return;c.current&&setTimeout(()=>f(c.current));const y=b=>{b.key==="Tab"&&c.current&&l1(c.current,b)};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),m}const c1=Lo.useId||(()=>{});function d1(){const i=c1();return i?`mantine-${i.replace(/:/g,"")}`:""}function a0(i){const c=d1(),[f,m]=U.useState(c);return Ph(()=>{m(Qw())},[]),typeof i=="string"?i:typeof window>"u"?c:f}function f1(i,c,f){U.useEffect(()=>(window.addEventListener(i,c,f),()=>window.removeEventListener(i,c,f)),[i,c])}function Lg(i,c){if(typeof i=="function")return i(c);typeof i=="object"&&i!==null&&"current"in i&&(i.current=c)}function o0(...i){const c=new Map;return f=>{if(i.forEach(m=>{const y=Lg(m,f);y&&c.set(m,y)}),c.size>0)return()=>{i.forEach(m=>{const y=c.get(m);y?y():Lg(m,null)}),c.clear()}}}function dl(...i){return U.useCallback(o0(...i),i)}function h1({value:i,defaultValue:c,finalValue:f,onChange:m=()=>{}}){const[y,b]=U.useState(c!==void 0?c:f),M=(R,...L)=>{b(R),m==null||m(R,...L)};return i!==void 0?[i,m,!0]:[y,M,!1]}function Yg(i,c){return e0("(prefers-reduced-motion: reduce)",i,c)}function Ag(i=!1,c){const{onOpen:f,onClose:m}=c||{},[y,b]=U.useState(i),M=U.useCallback(()=>{b(N=>N||(f==null||f(),!0))},[f]),R=U.useCallback(()=>{b(N=>N&&(m==null||m(),!1))},[m]),L=U.useCallback(()=>{y?R():M()},[R,M,y]);return[y,{open:M,close:R,toggle:L}]}function p1(i){var f;const c=Lo.version;return typeof Lo.version!="string"||c.startsWith("18.")?i==null?void 0:i.ref:(f=i==null?void 0:i.props)==null?void 0:f.ref}function s0(i){var c,f,m="";if(typeof i=="string"||typeof i=="number")m+=i;else if(typeof i=="object")if(Array.isArray(i)){var y=i.length;for(c=0;c<y;c++)i[c]&&(f=s0(i[c]))&&(m&&(m+=" "),m+=f)}else for(f in i)i[f]&&(m&&(m+=" "),m+=f);return m}function Yi(){for(var i,c,f=0,m="",y=arguments.length;f<y;f++)(i=arguments[f])&&(c=s0(i))&&(m&&(m+=" "),m+=c);return m}const m1={};function g1(i){const c={};return i.forEach(f=>{Object.entries(f).forEach(([m,y])=>{c[m]?c[m]=Yi(c[m],y):c[m]=y})}),c}function cm({theme:i,classNames:c,props:f,stylesCtx:m}){const b=(Array.isArray(c)?c:[c]).map(M=>typeof M=="function"?M(i,f,m):M||m1);return g1(b)}function Qp({theme:i,styles:c,props:f,stylesCtx:m}){return(Array.isArray(c)?c:[c]).reduce((b,M)=>typeof M=="function"?{...b,...M(i,f,m)}:{...b,...M},{})}const Zg=U.createContext(null);function Cc(){const i=U.useContext(Zg);if(!i)throw new Error("[@mantine/core] MantineProvider was not found in tree");return i}function v1(){return Cc().cssVariablesResolver}function y1(){return Cc().classNamesPrefix}function dm(){return Cc().getStyleNonce}function x1(){return Cc().withStaticClasses}function w1(){return Cc().headless}function b1(){var i;return(i=Cc().stylesTransform)==null?void 0:i.sx}function _1(){var i;return(i=Cc().stylesTransform)==null?void 0:i.styles}function S1(i){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(i)}function M1(i){let c=i.replace("#","");if(c.length===3){const M=c.split("");c=[M[0],M[0],M[1],M[1],M[2],M[2]].join("")}if(c.length===8){const M=parseInt(c.slice(6,8),16)/255;return{r:parseInt(c.slice(0,2),16),g:parseInt(c.slice(2,4),16),b:parseInt(c.slice(4,6),16),a:M}}const f=parseInt(c,16),m=f>>16&255,y=f>>8&255,b=f&255;return{r:m,g:y,b,a:1}}function E1(i){const[c,f,m,y]=i.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:c,g:f,b:m,a:y||1}}function T1(i){const c=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,f=i.match(c);if(!f)return{r:0,g:0,b:0,a:1};const m=parseInt(f[1],10),y=parseInt(f[2],10)/100,b=parseInt(f[3],10)/100,M=f[5]?parseFloat(f[5]):void 0,R=(1-Math.abs(2*b-1))*y,L=m/60,N=R*(1-Math.abs(L%2-1)),I=b-R/2;let F,D,W;return L>=0&&L<1?(F=R,D=N,W=0):L>=1&&L<2?(F=N,D=R,W=0):L>=2&&L<3?(F=0,D=R,W=N):L>=3&&L<4?(F=0,D=N,W=R):L>=4&&L<5?(F=N,D=0,W=R):(F=R,D=0,W=N),{r:Math.round((F+I)*255),g:Math.round((D+I)*255),b:Math.round((W+I)*255),a:M||1}}function Jg(i){return S1(i)?M1(i):i.startsWith("rgb")?E1(i):i.startsWith("hsl")?T1(i):{r:0,g:0,b:0,a:1}}function Hp(i,c){if(i.startsWith("var("))return`color-mix(in srgb, ${i}, black ${c*100}%)`;const{r:f,g:m,b:y,a:b}=Jg(i),M=1-c,R=L=>Math.round(L*M);return`rgba(${R(f)}, ${R(m)}, ${R(y)}, ${b})`}function Rh(i,c){return typeof i.primaryShade=="number"?i.primaryShade:c==="dark"?i.primaryShade.dark:i.primaryShade.light}function mg(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function R1(i){const c=i.match(/oklch\((.*?)%\s/);return c?parseFloat(c[1]):null}function C1(i){if(i.startsWith("oklch("))return(R1(i)||0)/100;const{r:c,g:f,b:m}=Jg(i),y=c/255,b=f/255,M=m/255,R=mg(y),L=mg(b),N=mg(M);return .2126*R+.7152*L+.0722*N}function yh(i,c=.179){return i.startsWith("var(")?!1:C1(i)>c}function Nh({color:i,theme:c,colorScheme:f}){if(typeof i!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof i}`);if(i==="bright")return{color:i,value:f==="dark"?c.white:c.black,shade:void 0,isThemeColor:!1,isLight:yh(f==="dark"?c.white:c.black,c.luminanceThreshold),variable:"--mantine-color-bright"};if(i==="dimmed")return{color:i,value:f==="dark"?c.colors.dark[2]:c.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:yh(f==="dark"?c.colors.dark[2]:c.colors.gray[6],c.luminanceThreshold),variable:"--mantine-color-dimmed"};if(i==="white"||i==="black")return{color:i,value:i==="white"?c.white:c.black,shade:void 0,isThemeColor:!1,isLight:yh(i==="white"?c.white:c.black,c.luminanceThreshold),variable:`--mantine-color-${i}`};const[m,y]=i.split("."),b=y?Number(y):void 0,M=m in c.colors;if(M){const R=b!==void 0?c.colors[m][b]:c.colors[m][Rh(c,f||"light")];return{color:m,value:R,shade:b,isThemeColor:M,isLight:yh(R,c.luminanceThreshold),variable:y?`--mantine-color-${m}-${b}`:`--mantine-color-${m}-filled`}}return{color:i,value:i,isThemeColor:M,isLight:yh(i,c.luminanceThreshold),shade:b,variable:void 0}}function qd(i,c){const f=Nh({color:i||c.primaryColor,theme:c});return f.variable?`var(${f.variable})`:i}function Pg(i,c){const f={from:(i==null?void 0:i.from)||c.defaultGradient.from,to:(i==null?void 0:i.to)||c.defaultGradient.to,deg:(i==null?void 0:i.deg)||c.defaultGradient.deg||0},m=qd(f.from,c),y=qd(f.to,c);return`linear-gradient(${f.deg}deg, ${m} 0%, ${y} 100%)`}function cs(i,c){if(typeof i!="string"||c>1||c<0)return"rgba(0, 0, 0, 1)";if(i.startsWith("var(")){const b=(1-c)*100;return`color-mix(in srgb, ${i}, transparent ${b}%)`}if(i.startsWith("oklch"))return i.includes("/")?i.replace(/\/\s*[\d.]+\s*\)/,`/ ${c})`):i.replace(")",` / ${c})`);const{r:f,g:m,b:y}=Jg(i);return`rgba(${f}, ${m}, ${y}, ${c})`}const Hd=cs,L1=({color:i,theme:c,variant:f,gradient:m,autoContrast:y})=>{const b=Nh({color:i,theme:c}),M=typeof y=="boolean"?y:c.autoContrast;if(f==="filled"){const R=M&&b.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return b.isThemeColor?b.shade===void 0?{background:`var(--mantine-color-${i}-filled)`,hover:`var(--mantine-color-${i}-filled-hover)`,color:R,border:`${Ye(1)} solid transparent`}:{background:`var(--mantine-color-${b.color}-${b.shade})`,hover:`var(--mantine-color-${b.color}-${b.shade===9?8:b.shade+1})`,color:R,border:`${Ye(1)} solid transparent`}:{background:i,hover:Hp(i,.1),color:R,border:`${Ye(1)} solid transparent`}}if(f==="light"){if(b.isThemeColor){if(b.shade===void 0)return{background:`var(--mantine-color-${i}-light)`,hover:`var(--mantine-color-${i}-light-hover)`,color:`var(--mantine-color-${i}-light-color)`,border:`${Ye(1)} solid transparent`};const R=c.colors[b.color][b.shade];return{background:cs(R,.1),hover:cs(R,.12),color:`var(--mantine-color-${b.color}-${Math.min(b.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:cs(i,.1),hover:cs(i,.12),color:i,border:`${Ye(1)} solid transparent`}}if(f==="outline")return b.isThemeColor?b.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${i}-outline-hover)`,color:`var(--mantine-color-${i}-outline)`,border:`${Ye(1)} solid var(--mantine-color-${i}-outline)`}:{background:"transparent",hover:cs(c.colors[b.color][b.shade],.05),color:`var(--mantine-color-${b.color}-${b.shade})`,border:`${Ye(1)} solid var(--mantine-color-${b.color}-${b.shade})`}:{background:"transparent",hover:cs(i,.05),color:i,border:`${Ye(1)} solid ${i}`};if(f==="subtle"){if(b.isThemeColor){if(b.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${i}-light-hover)`,color:`var(--mantine-color-${i}-light-color)`,border:`${Ye(1)} solid transparent`};const R=c.colors[b.color][b.shade];return{background:"transparent",hover:cs(R,.12),color:`var(--mantine-color-${b.color}-${Math.min(b.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:"transparent",hover:cs(i,.12),color:i,border:`${Ye(1)} solid transparent`}}return f==="transparent"?b.isThemeColor?b.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i}-light-color)`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${b.color}-${Math.min(b.shade,6)})`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:i,border:`${Ye(1)} solid transparent`}:f==="white"?b.isThemeColor?b.shade===void 0?{background:"var(--mantine-color-white)",hover:Hp(c.white,.01),color:`var(--mantine-color-${i}-filled)`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Hp(c.white,.01),color:`var(--mantine-color-${b.color}-${b.shade})`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Hp(c.white,.01),color:i,border:`${Ye(1)} solid transparent`}:f==="gradient"?{background:Pg(m,c),hover:Pg(m,c),color:"var(--mantine-color-white)",border:"none"}:f==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ye(1)} solid var(--mantine-color-default-border)`}:{}},A1={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},iy="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Qg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:A1,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:L1,autoContrast:!1,luminanceThreshold:.3,fontFamily:iy,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:iy,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ye(34),lineHeight:"1.3"},h2:{fontSize:Ye(26),lineHeight:"1.35"},h3:{fontSize:Ye(22),lineHeight:"1.4"},h4:{fontSize:Ye(18),lineHeight:"1.45"},h5:{fontSize:Ye(16),lineHeight:"1.5"},h6:{fontSize:Ye(14),lineHeight:"1.5"}}},fontSizes:{xs:Ye(12),sm:Ye(14),md:Ye(16),lg:Ye(18),xl:Ye(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ye(2),sm:Ye(4),md:Ye(8),lg:Ye(16),xl:Ye(32)},spacing:{xs:Ye(10),sm:Ye(12),md:Ye(16),lg:Ye(20),xl:Ye(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), 0 ${Ye(1)} ${Ye(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(10)} ${Ye(15)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(7)} ${Ye(7)} ${Ye(-5)}`,md:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(20)} ${Ye(25)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(10)} ${Ye(10)} ${Ye(-5)}`,lg:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(28)} ${Ye(23)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(12)} ${Ye(12)} ${Ye(-7)}`,xl:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(36)} ${Ye(28)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(17)} ${Ye(17)} ${Ye(-7)}`},other:{},components:{}};function ay(i){return i==="auto"||i==="dark"||i==="light"}function P1({key:i="mantine-color-scheme-value"}={}){let c;return{get:f=>{if(typeof window>"u")return f;try{const m=window.localStorage.getItem(i);return ay(m)?m:f}catch{return f}},set:f=>{try{window.localStorage.setItem(i,f)}catch(m){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",m)}},subscribe:f=>{c=m=>{m.storageArea===window.localStorage&&m.key===i&&ay(m.newValue)&&f(m.newValue)},window.addEventListener("storage",c)},unsubscribe:()=>{window.removeEventListener("storage",c)},clear:()=>{window.localStorage.removeItem(i)}}}const N1="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",oy="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function gg(i){return i<0||i>9?!1:parseInt(i.toString(),10)===i}function sy(i){if(!(i.primaryColor in i.colors))throw new Error(N1);if(typeof i.primaryShade=="object"&&(!gg(i.primaryShade.dark)||!gg(i.primaryShade.light)))throw new Error(oy);if(typeof i.primaryShade=="number"&&!gg(i.primaryShade))throw new Error(oy)}function O1(i,c){var m;if(!c)return sy(i),i;const f=$g(i,c);return c.fontFamily&&!((m=c.headings)!=null&&m.fontFamily)&&(f.headings.fontFamily=c.fontFamily),sy(f),f}const Kg=U.createContext(null),D1=()=>U.useContext(Kg)||Qg;function gs(){const i=U.useContext(Kg);if(!i)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return i}function l0({theme:i,children:c,inherit:f=!0}){const m=D1(),y=U.useMemo(()=>O1(f?m:Qg,i),[i,m,f]);return ne.jsx(Kg.Provider,{value:y,children:c})}l0.displayName="@mantine/core/MantineThemeProvider";function I1(){const i=gs(),c=dm(),f=ha(i.breakpoints).reduce((m,y)=>{const b=i.breakpoints[y].includes("px"),M=Eh(i.breakpoints[y]),R=b?`${M-.1}px`:ny(M-.1),L=b?`${M}px`:ny(M);return`${m}@media (max-width: ${R}) {.mantine-visible-from-${y} {display: none !important;}}@media (min-width: ${L}) {.mantine-hidden-from-${y} {display: none !important;}}`},"");return ne.jsx("style",{"data-mantine-styles":"classes",nonce:c==null?void 0:c(),dangerouslySetInnerHTML:{__html:f}})}function vg(i){return Object.entries(i).map(([c,f])=>`${c}: ${f};`).join("")}function xh(i,c){return(Array.isArray(i)?i:[i]).reduce((m,y)=>`${y}{${m}}`,c)}function k1(i,c){const f=vg(i.variables),m=f?xh(c,f):"",y=vg(i.dark),b=vg(i.light),M=y?xh(c===":host"?`${c}([data-mantine-color-scheme="dark"])`:`${c}[data-mantine-color-scheme="dark"]`,y):"",R=b?xh(c===":host"?`${c}([data-mantine-color-scheme="light"])`:`${c}[data-mantine-color-scheme="light"]`,b):"";return`${m}${M}${R}`}function z1({color:i,theme:c,autoContrast:f}){return(typeof f=="boolean"?f:c.autoContrast)&&Nh({color:i||c.primaryColor,theme:c}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ly(i,c){return z1({color:i.colors[i.primaryColor][Rh(i,c)],theme:i,autoContrast:null})}function Up({theme:i,color:c,colorScheme:f,name:m=c,withColorValues:y=!0}){if(!i.colors[c])return{};if(f==="light"){const R=Rh(i,"light"),L={[`--mantine-color-${m}-text`]:`var(--mantine-color-${m}-filled)`,[`--mantine-color-${m}-filled`]:`var(--mantine-color-${m}-${R})`,[`--mantine-color-${m}-filled-hover`]:`var(--mantine-color-${m}-${R===9?8:R+1})`,[`--mantine-color-${m}-light`]:Hd(i.colors[c][R],.1),[`--mantine-color-${m}-light-hover`]:Hd(i.colors[c][R],.12),[`--mantine-color-${m}-light-color`]:`var(--mantine-color-${m}-${R})`,[`--mantine-color-${m}-outline`]:`var(--mantine-color-${m}-${R})`,[`--mantine-color-${m}-outline-hover`]:Hd(i.colors[c][R],.05)};return y?{[`--mantine-color-${m}-0`]:i.colors[c][0],[`--mantine-color-${m}-1`]:i.colors[c][1],[`--mantine-color-${m}-2`]:i.colors[c][2],[`--mantine-color-${m}-3`]:i.colors[c][3],[`--mantine-color-${m}-4`]:i.colors[c][4],[`--mantine-color-${m}-5`]:i.colors[c][5],[`--mantine-color-${m}-6`]:i.colors[c][6],[`--mantine-color-${m}-7`]:i.colors[c][7],[`--mantine-color-${m}-8`]:i.colors[c][8],[`--mantine-color-${m}-9`]:i.colors[c][9],...L}:L}const b=Rh(i,"dark"),M={[`--mantine-color-${m}-text`]:`var(--mantine-color-${m}-4)`,[`--mantine-color-${m}-filled`]:`var(--mantine-color-${m}-${b})`,[`--mantine-color-${m}-filled-hover`]:`var(--mantine-color-${m}-${b===9?8:b+1})`,[`--mantine-color-${m}-light`]:Hd(i.colors[c][Math.max(0,b-2)],.15),[`--mantine-color-${m}-light-hover`]:Hd(i.colors[c][Math.max(0,b-2)],.2),[`--mantine-color-${m}-light-color`]:`var(--mantine-color-${m}-${Math.max(b-5,0)})`,[`--mantine-color-${m}-outline`]:`var(--mantine-color-${m}-${Math.max(b-4,0)})`,[`--mantine-color-${m}-outline-hover`]:Hd(i.colors[c][Math.max(b-4,0)],.05)};return y?{[`--mantine-color-${m}-0`]:i.colors[c][0],[`--mantine-color-${m}-1`]:i.colors[c][1],[`--mantine-color-${m}-2`]:i.colors[c][2],[`--mantine-color-${m}-3`]:i.colors[c][3],[`--mantine-color-${m}-4`]:i.colors[c][4],[`--mantine-color-${m}-5`]:i.colors[c][5],[`--mantine-color-${m}-6`]:i.colors[c][6],[`--mantine-color-${m}-7`]:i.colors[c][7],[`--mantine-color-${m}-8`]:i.colors[c][8],[`--mantine-color-${m}-9`]:i.colors[c][9],...M}:M}function B1(i){return!!i&&typeof i=="object"&&"mantine-virtual-color"in i}function Ud(i,c,f){ha(c).forEach(m=>Object.assign(i,{[`--mantine-${f}-${m}`]:c[m]}))}const u0=i=>{const c=Rh(i,"light"),f=i.defaultRadius in i.radius?i.radius[i.defaultRadius]:Ye(i.defaultRadius),m={variables:{"--mantine-scale":i.scale.toString(),"--mantine-cursor-type":i.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":i.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":i.fontSmoothing?"grayscale":"unset","--mantine-color-white":i.white,"--mantine-color-black":i.black,"--mantine-line-height":i.lineHeights.md,"--mantine-font-family":i.fontFamily,"--mantine-font-family-monospace":i.fontFamilyMonospace,"--mantine-font-family-headings":i.headings.fontFamily,"--mantine-heading-font-weight":i.headings.fontWeight,"--mantine-heading-text-wrap":i.headings.textWrap,"--mantine-radius-default":f,"--mantine-primary-color-filled":`var(--mantine-color-${i.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${i.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${i.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${i.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${i.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ly(i,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":i.black,"--mantine-color-body":i.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${i.primaryColor}-${c})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":ly(i,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${i.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ud(m.variables,i.breakpoints,"breakpoint"),Ud(m.variables,i.spacing,"spacing"),Ud(m.variables,i.fontSizes,"font-size"),Ud(m.variables,i.lineHeights,"line-height"),Ud(m.variables,i.shadows,"shadow"),Ud(m.variables,i.radius,"radius"),i.colors[i.primaryColor].forEach((b,M)=>{m.variables[`--mantine-primary-color-${M}`]=`var(--mantine-color-${i.primaryColor}-${M})`}),ha(i.colors).forEach(b=>{const M=i.colors[b];if(B1(M)){Object.assign(m.light,Up({theme:i,name:M.name,color:M.light,colorScheme:"light",withColorValues:!0})),Object.assign(m.dark,Up({theme:i,name:M.name,color:M.dark,colorScheme:"dark",withColorValues:!0}));return}M.forEach((R,L)=>{m.variables[`--mantine-color-${b}-${L}`]=R}),Object.assign(m.light,Up({theme:i,color:b,colorScheme:"light",withColorValues:!1})),Object.assign(m.dark,Up({theme:i,color:b,colorScheme:"dark",withColorValues:!1}))});const y=i.headings.sizes;return ha(y).forEach(b=>{m.variables[`--mantine-${b}-font-size`]=y[b].fontSize,m.variables[`--mantine-${b}-line-height`]=y[b].lineHeight,m.variables[`--mantine-${b}-font-weight`]=y[b].fontWeight||i.headings.fontWeight}),m};function F1({theme:i,generator:c}){const f=u0(i),m=c==null?void 0:c(i);return m?$g(f,m):f}const yg=u0(Qg);function H1(i){const c={variables:{},light:{},dark:{}};return ha(i.variables).forEach(f=>{yg.variables[f]!==i.variables[f]&&(c.variables[f]=i.variables[f])}),ha(i.light).forEach(f=>{yg.light[f]!==i.light[f]&&(c.light[f]=i.light[f])}),ha(i.dark).forEach(f=>{yg.dark[f]!==i.dark[f]&&(c.dark[f]=i.dark[f])}),c}function U1(i){return`
  ${i}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${i}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function c0({cssVariablesSelector:i,deduplicateCssVariables:c}){const f=gs(),m=dm(),y=v1(),b=F1({theme:f,generator:y}),M=i===":root"&&c,R=M?H1(b):b,L=k1(R,i);return L?ne.jsx("style",{"data-mantine-styles":!0,nonce:m==null?void 0:m(),dangerouslySetInnerHTML:{__html:`${L}${M?"":U1(i)}`}}):null}c0.displayName="@mantine/CssVariables";function G1(){const i=console.error;console.error=(...c)=>{c.length>1&&typeof c[0]=="string"&&c[0].toLowerCase().includes("extra attributes from the server")&&typeof c[1]=="string"&&c[1].toLowerCase().includes("data-mantine-color-scheme")||i(...c)}}function Gd(i,c){var y,b;const f=typeof window<"u"&&"matchMedia"in window&&((y=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:y.matches),m=i!=="auto"?i:f?"dark":"light";(b=c())==null||b.setAttribute("data-mantine-color-scheme",m)}function j1({manager:i,defaultColorScheme:c,getRootElement:f,forceColorScheme:m}){const y=U.useRef(null),[b,M]=U.useState(()=>i.get(c)),R=m||b,L=U.useCallback(I=>{m||(Gd(I,f),M(I),i.set(I))},[i.set,R,m]),N=U.useCallback(()=>{M(c),Gd(c,f),i.clear()},[i.clear,c]);return U.useEffect(()=>(i.subscribe(L),i.unsubscribe),[i.subscribe,i.unsubscribe]),Ph(()=>{Gd(i.get(c),f)},[]),U.useEffect(()=>{var F;if(m)return Gd(m,f),()=>{};m===void 0&&Gd(b,f),typeof window<"u"&&"matchMedia"in window&&(y.current=window.matchMedia("(prefers-color-scheme: dark)"));const I=D=>{b==="auto"&&Gd(D.matches?"dark":"light",f)};return(F=y.current)==null||F.addEventListener("change",I),()=>{var D;return(D=y.current)==null?void 0:D.removeEventListener("change",I)}},[b,m]),{colorScheme:R,setColorScheme:L,clearColorScheme:N}}function V1({respectReducedMotion:i,getRootElement:c}){Ph(()=>{var f;i&&((f=c())==null||f.setAttribute("data-respect-reduced-motion","true"))},[i])}G1();function d0({theme:i,children:c,getStyleNonce:f,withStaticClasses:m=!0,withGlobalClasses:y=!0,deduplicateCssVariables:b=!0,withCssVariables:M=!0,cssVariablesSelector:R=":root",classNamesPrefix:L="mantine",colorSchemeManager:N=P1(),defaultColorScheme:I="light",getRootElement:F=()=>document.documentElement,cssVariablesResolver:D,forceColorScheme:W,stylesTransform:X}){const{colorScheme:$,setColorScheme:j,clearColorScheme:oe}=j1({defaultColorScheme:I,forceColorScheme:W,manager:N,getRootElement:F});return V1({respectReducedMotion:(i==null?void 0:i.respectReducedMotion)||!1,getRootElement:F}),ne.jsx(Zg.Provider,{value:{colorScheme:$,setColorScheme:j,clearColorScheme:oe,getRootElement:F,classNamesPrefix:L,getStyleNonce:f,cssVariablesResolver:D,cssVariablesSelector:R,withStaticClasses:m,stylesTransform:X},children:ne.jsxs(l0,{theme:i,children:[M&&ne.jsx(c0,{cssVariablesSelector:R,deduplicateCssVariables:b}),y&&ne.jsx(I1,{}),c]})})}d0.displayName="@mantine/core/MantineProvider";function W1({classNames:i,styles:c,props:f,stylesCtx:m}){const y=gs();return{resolvedClassNames:cm({theme:y,classNames:i,props:f,stylesCtx:m||void 0}),resolvedStyles:Qp({theme:y,styles:c,props:f,stylesCtx:m||void 0})}}const $1={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function q1({theme:i,options:c,unstyled:f}){return Yi((c==null?void 0:c.focusable)&&!f&&(i.focusClassName||$1[i.focusRing]),(c==null?void 0:c.active)&&!f&&i.activeClassName)}function X1({selector:i,stylesCtx:c,options:f,props:m,theme:y}){return cm({theme:y,classNames:f==null?void 0:f.classNames,props:(f==null?void 0:f.props)||m,stylesCtx:c})[i]}function uy({selector:i,stylesCtx:c,theme:f,classNames:m,props:y}){return cm({theme:f,classNames:m,props:y,stylesCtx:c})[i]}function Y1({rootSelector:i,selector:c,className:f}){return i===c?f:void 0}function Z1({selector:i,classes:c,unstyled:f}){return f?void 0:c[i]}function J1({themeName:i,classNamesPrefix:c,selector:f,withStaticClass:m}){return m===!1?[]:i.map(y=>`${c}-${y}-${f}`)}function Q1({themeName:i,theme:c,selector:f,props:m,stylesCtx:y}){return i.map(b=>{var M,R;return(R=cm({theme:c,classNames:(M=c.components[b])==null?void 0:M.classNames,props:m,stylesCtx:y}))==null?void 0:R[f]})}function K1({options:i,classes:c,selector:f,unstyled:m}){return i!=null&&i.variant&&!m?c[`${f}--${i.variant}`]:void 0}function eb({theme:i,options:c,themeName:f,selector:m,classNamesPrefix:y,classNames:b,classes:M,unstyled:R,className:L,rootSelector:N,props:I,stylesCtx:F,withStaticClasses:D,headless:W,transformedStyles:X}){return Yi(q1({theme:i,options:c,unstyled:R||W}),Q1({theme:i,themeName:f,selector:m,props:I,stylesCtx:F}),K1({options:c,classes:M,selector:m,unstyled:R}),uy({selector:m,stylesCtx:F,theme:i,classNames:b,props:I}),uy({selector:m,stylesCtx:F,theme:i,classNames:X,props:I}),X1({selector:m,stylesCtx:F,options:c,props:I,theme:i}),Y1({rootSelector:N,selector:m,className:L}),Z1({selector:m,classes:M,unstyled:R||W}),D&&!W&&J1({themeName:f,classNamesPrefix:y,selector:m,withStaticClass:c==null?void 0:c.withStaticClass}),c==null?void 0:c.className)}function tb({theme:i,themeName:c,props:f,stylesCtx:m,selector:y}){return c.map(b=>{var M;return Qp({theme:i,styles:(M=i.components[b])==null?void 0:M.styles,props:f,stylesCtx:m})[y]}).reduce((b,M)=>({...b,...M}),{})}function Ng({style:i,theme:c}){return Array.isArray(i)?[...i].reduce((f,m)=>({...f,...Ng({style:m,theme:c})}),{}):typeof i=="function"?i(c):i??{}}function nb(i){return i.reduce((c,f)=>(f&&Object.keys(f).forEach(m=>{c[m]={...c[m],...Ah(f[m])}}),c),{})}function rb({vars:i,varsResolver:c,theme:f,props:m,stylesCtx:y,selector:b,themeName:M,headless:R}){var L;return(L=nb([R?{}:c==null?void 0:c(f,m,y),...M.map(N=>{var I,F,D;return(D=(F=(I=f.components)==null?void 0:I[N])==null?void 0:F.vars)==null?void 0:D.call(F,f,m,y)}),i==null?void 0:i(f,m,y)]))==null?void 0:L[b]}function ib({theme:i,themeName:c,selector:f,options:m,props:y,stylesCtx:b,rootSelector:M,styles:R,style:L,vars:N,varsResolver:I,headless:F,withStylesTransform:D}){return{...!D&&tb({theme:i,themeName:c,props:y,stylesCtx:b,selector:f}),...!D&&Qp({theme:i,styles:R,props:y,stylesCtx:b})[f],...!D&&Qp({theme:i,styles:m==null?void 0:m.styles,props:(m==null?void 0:m.props)||y,stylesCtx:b})[f],...rb({theme:i,props:y,stylesCtx:b,vars:N,varsResolver:I,selector:f,themeName:c,headless:F}),...M===f?Ng({style:L,theme:i}):null,...Ng({style:m==null?void 0:m.style,theme:i})}}function ab({props:i,stylesCtx:c,themeName:f}){var M;const m=gs(),y=(M=_1())==null?void 0:M();return{getTransformedStyles:R=>y?[...R.map(N=>y(N,{props:i,theme:m,ctx:c})),...f.map(N=>{var I;return y((I=m.components[N])==null?void 0:I.styles,{props:i,theme:m,ctx:c})})].filter(Boolean):[],withStylesTransform:!!y}}function Wr({name:i,classes:c,props:f,stylesCtx:m,className:y,style:b,rootSelector:M="root",unstyled:R,classNames:L,styles:N,vars:I,varsResolver:F}){const D=gs(),W=y1(),X=x1(),$=w1(),j=(Array.isArray(i)?i:[i]).filter(he=>he),{withStylesTransform:oe,getTransformedStyles:de}=ab({props:f,stylesCtx:m,themeName:j});return(he,fe)=>({className:eb({theme:D,options:fe,themeName:j,selector:he,classNamesPrefix:W,classNames:L,classes:c,unstyled:R,className:y,rootSelector:M,props:f,stylesCtx:m,withStaticClasses:X,headless:$,transformedStyles:de([fe==null?void 0:fe.styles,N])}),style:ib({theme:D,themeName:j,selector:he,options:fe,props:f,stylesCtx:m,rootSelector:M,styles:N,style:b,vars:I,varsResolver:F,headless:$,withStylesTransform:oe})})}function cy(i){const c=document.createElement("style");return c.setAttribute("data-mantine-styles","inline"),c.innerHTML="*, *::before, *::after {transition: none !important;}",c.setAttribute("data-mantine-disable-transition","true"),i&&c.setAttribute("nonce",i),document.head.appendChild(c),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(m=>m.remove())}function ob({keepTransitions:i}={}){const c=U.useRef(Ky),f=U.useRef(-1),m=U.useContext(Zg),y=dm(),b=U.useRef(y==null?void 0:y());if(!m)throw new Error("[@mantine/core] MantineProvider was not found in tree");const M=F=>{m.setColorScheme(F),c.current=i?()=>{}:cy(b.current),window.clearTimeout(f.current),f.current=window.setTimeout(()=>{var D;(D=c.current)==null||D.call(c)},10)},R=()=>{m.clearColorScheme(),c.current=i?()=>{}:cy(b.current),window.clearTimeout(f.current),f.current=window.setTimeout(()=>{var F;(F=c.current)==null||F.call(c)},10)},L=r1("light",{getInitialValueInEffect:!1}),N=m.colorScheme==="auto"?L:m.colorScheme,I=U.useCallback(()=>M(N==="light"?"dark":"light"),[M,N]);return U.useEffect(()=>()=>{var F;(F=c.current)==null||F.call(c),window.clearTimeout(f.current)},[]),{colorScheme:m.colorScheme,setColorScheme:M,clearColorScheme:R,toggleColorScheme:I}}function hn(i,c,f){var M;const m=gs(),y=(M=m.components[i])==null?void 0:M.defaultProps,b=typeof y=="function"?y(m):y;return{...c,...b,...Ah(f)}}function xg(i){return ha(i).reduce((c,f)=>i[f]!==void 0?`${c}${Vw(f)}:${i[f]};`:c,"").trim()}function sb({selector:i,styles:c,media:f,container:m}){const y=c?xg(c):"",b=Array.isArray(f)?f.map(R=>`@media${R.query}{${i}{${xg(R.styles)}}}`):[],M=Array.isArray(m)?m.map(R=>`@container ${R.query}{${i}{${xg(R.styles)}}}`):[];return`${y?`${i}{${y}}`:""}${b.join("")}${M.join("")}`.trim()}function ev(i){const c=dm();return ne.jsx("style",{"data-mantine-styles":"inline",nonce:c==null?void 0:c(),dangerouslySetInnerHTML:{__html:sb(i)}})}function lb(i){const{m:c,mx:f,my:m,mt:y,mb:b,ml:M,mr:R,me:L,ms:N,p:I,px:F,py:D,pt:W,pb:X,pl:$,pr:j,pe:oe,ps:de,bd:he,bg:fe,c:xe,opacity:Oe,ff:Ge,fz:ze,fw:Xe,lts:it,ta:st,lh:gt,fs:_t,tt:It,td:nn,w:Dt,miw:Rt,maw:De,h:pe,mih:Re,mah:le,bgsz:Te,bgp:Lt,bgr:At,bga:Bt,pos:Gt,top:rn,left:qt,bottom:pn,right:He,inset:Pt,display:un,flex:pt,hiddenFrom:Sn,visibleFrom:Yn,lightHidden:lr,darkHidden:jt,sx:mn,...Yt}=i;return{styleProps:Ah({m:c,mx:f,my:m,mt:y,mb:b,ml:M,mr:R,me:L,ms:N,p:I,px:F,py:D,pt:W,pb:X,pl:$,pr:j,pe:oe,ps:de,bd:he,bg:fe,c:xe,opacity:Oe,ff:Ge,fz:ze,fw:Xe,lts:it,ta:st,lh:gt,fs:_t,tt:It,td:nn,w:Dt,miw:Rt,maw:De,h:pe,mih:Re,mah:le,bgsz:Te,bgp:Lt,bgr:At,bga:Bt,pos:Gt,top:rn,left:qt,bottom:pn,right:He,inset:Pt,display:un,flex:pt,hiddenFrom:Sn,visibleFrom:Yn,lightHidden:lr,darkHidden:jt,sx:mn}),rest:Yt}}const ub={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function tv(i,c){const f=Nh({color:i,theme:c});return f.color==="dimmed"?"var(--mantine-color-dimmed)":f.color==="bright"?"var(--mantine-color-bright)":f.variable?`var(${f.variable})`:f.color}function cb(i,c){const f=Nh({color:i,theme:c});return f.isThemeColor&&f.shade===void 0?`var(--mantine-color-${f.color}-text)`:tv(i,c)}function db(i,c){if(typeof i=="number")return Ye(i);if(typeof i=="string"){const[f,m,...y]=i.split(" ").filter(M=>M.trim()!=="");let b=`${Ye(f)}`;return m&&(b+=` ${m}`),y.length>0&&(b+=` ${tv(y.join(" "),c)}`),b.trim()}return i}const dy={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function fb(i){return typeof i=="string"&&i in dy?dy[i]:i}const hb=["h1","h2","h3","h4","h5","h6"];function pb(i,c){return typeof i=="string"&&i in c.fontSizes?`var(--mantine-font-size-${i})`:typeof i=="string"&&hb.includes(i)?`var(--mantine-${i}-font-size)`:typeof i=="number"||typeof i=="string"?Ye(i):i}function mb(i){return i}const gb=["h1","h2","h3","h4","h5","h6"];function vb(i,c){return typeof i=="string"&&i in c.lineHeights?`var(--mantine-line-height-${i})`:typeof i=="string"&&gb.includes(i)?`var(--mantine-${i}-line-height)`:i}function yb(i){return typeof i=="number"?Ye(i):i}function xb(i,c){if(typeof i=="number")return Ye(i);if(typeof i=="string"){const f=i.replace("-","");if(!(f in c.spacing))return Ye(i);const m=`--mantine-spacing-${f}`;return i.startsWith("-")?`calc(var(${m}) * -1)`:`var(${m})`}return i}const wg={color:tv,textColor:cb,fontSize:pb,spacing:xb,identity:mb,size:yb,lineHeight:vb,fontFamily:fb,border:db};function fy(i){return i.replace("(min-width: ","").replace("em)","")}function wb({media:i,...c}){const m=Object.keys(i).sort((y,b)=>Number(fy(y))-Number(fy(b))).map(y=>({query:y,styles:i[y]}));return{...c,media:m}}function bb(i){if(typeof i!="object"||i===null)return!1;const c=Object.keys(i);return!(c.length===1&&c[0]==="base")}function _b(i){return typeof i=="object"&&i!==null?"base"in i?i.base:void 0:i}function Sb(i){return typeof i=="object"&&i!==null?ha(i).filter(c=>c!=="base"):[]}function Mb(i,c){return typeof i=="object"&&i!==null&&c in i?i[c]:i}function Eb({styleProps:i,data:c,theme:f}){return wb(ha(i).reduce((m,y)=>{if(y==="hiddenFrom"||y==="visibleFrom"||y==="sx")return m;const b=c[y],M=Array.isArray(b.property)?b.property:[b.property],R=_b(i[y]);if(!bb(i[y]))return M.forEach(N=>{m.inlineStyles[N]=wg[b.type](R,f)}),m;m.hasResponsiveStyles=!0;const L=Sb(i[y]);return M.forEach(N=>{R&&(m.styles[N]=wg[b.type](R,f)),L.forEach(I=>{const F=`(min-width: ${f.breakpoints[I]})`;m.media[F]={...m.media[F],[N]:wg[b.type](Mb(i[y],I),f)}})}),m},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function f0(){return`__m__-${U.useId().replace(/:/g,"")}`}function h0(i,c){return Array.isArray(i)?[...i].reduce((f,m)=>({...f,...h0(m,c)}),{}):typeof i=="function"?i(c):i??{}}function p0(i){return i.startsWith("data-")?i:`data-${i}`}function Tb(i){return Object.keys(i).reduce((c,f)=>{const m=i[f];return m===void 0||m===""||m===!1||m===null||(c[p0(f)]=i[f]),c},{})}function m0(i){return i?typeof i=="string"?{[p0(i)]:!0}:Array.isArray(i)?[...i].reduce((c,f)=>({...c,...m0(f)}),{}):Tb(i):null}function Og(i,c){return Array.isArray(i)?[...i].reduce((f,m)=>({...f,...Og(m,c)}),{}):typeof i=="function"?i(c):i??{}}function Rb({theme:i,style:c,vars:f,styleProps:m}){const y=Og(c,i),b=Og(f,i);return{...y,...b,...m}}const g0=U.forwardRef(({component:i,style:c,__vars:f,className:m,variant:y,mod:b,size:M,hiddenFrom:R,visibleFrom:L,lightHidden:N,darkHidden:I,renderRoot:F,__size:D,...W},X)=>{var ze;const $=gs(),j=i||"div",{styleProps:oe,rest:de}=lb(W),he=b1(),fe=(ze=he==null?void 0:he())==null?void 0:ze(oe.sx),xe=f0(),Oe=Eb({styleProps:oe,theme:$,data:ub}),Ge={ref:X,style:Rb({theme:$,style:c,vars:f,styleProps:Oe.inlineStyles}),className:Yi(m,fe,{[xe]:Oe.hasResponsiveStyles,"mantine-light-hidden":N,"mantine-dark-hidden":I,[`mantine-hidden-from-${R}`]:R,[`mantine-visible-from-${L}`]:L}),"data-variant":y,"data-size":Qy(M)?void 0:M||void 0,size:D,...m0(b),...de};return ne.jsxs(ne.Fragment,{children:[Oe.hasResponsiveStyles&&ne.jsx(ev,{selector:`.${xe}`,styles:Oe.styles,media:Oe.media}),typeof F=="function"?F(Ge):ne.jsx(j,{...Ge})]})});g0.displayName="@mantine/core/Box";const fn=g0;function v0(i){return i}function _r(i){const c=U.forwardRef(i);return c.extend=v0,c.withProps=f=>{const m=U.forwardRef((y,b)=>ne.jsx(c,{...f,...y,ref:b}));return m.extend=c.extend,m.displayName=`WithProps(${c.displayName})`,m},c}function vu(i){const c=U.forwardRef(i);return c.withProps=f=>{const m=U.forwardRef((y,b)=>ne.jsx(c,{...f,...y,ref:b}));return m.extend=c.extend,m.displayName=`WithProps(${c.displayName})`,m},c.extend=v0,c}const Cb=U.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function fm(){return U.useContext(Cb)}var hm=Gy();const Lb=Uy(hm);function Ab(i){if(!i||typeof i=="string")return 0;const c=i/36;return Math.round((4+15*c**.25+c/5)*10)}function bg(i){return i!=null&&i.current?i.current.scrollHeight:"auto"}const wh=typeof window<"u"&&window.requestAnimationFrame;function Pb({transitionDuration:i,transitionTimingFunction:c="ease",onTransitionEnd:f=()=>{},opened:m}){const y=U.useRef(null),b=0,M={display:"none",height:0,overflow:"hidden"},[R,L]=U.useState(m?{}:M),N=X=>{hm.flushSync(()=>L(X))},I=X=>{N($=>({...$,...X}))};function F(X){const $=i||Ab(X);return{transition:`height ${$}ms ${c}, opacity ${$}ms ${c}`}}Sc(()=>{typeof wh=="function"&&wh(m?()=>{I({willChange:"height",display:"block",overflow:"hidden"}),wh(()=>{const X=bg(y);I({...F(X),height:X})})}:()=>{const X=bg(y);I({...F(X),willChange:"height",height:X}),wh(()=>I({height:b,overflow:"hidden"}))})},[m]);const D=X=>{if(!(X.target!==y.current||X.propertyName!=="height"))if(m){const $=bg(y);$===R.height?N({}):I({height:$}),f()}else R.height===b&&(N(M),f())};function W({style:X={},refKey:$="ref",...j}={}){const oe=j[$];return{"aria-hidden":!m,...j,[$]:o0(y,oe),onTransitionEnd:D,style:{boxSizing:"border-box",...X,...R}}}return W}const Nb={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},y0=_r((i,c)=>{const{children:f,in:m,transitionDuration:y,transitionTimingFunction:b,style:M,onTransitionEnd:R,animateOpacity:L,...N}=hn("Collapse",Nb,i),I=gs(),F=Yg(),W=(I.respectReducedMotion?F:!1)?0:y,X=Pb({opened:m,transitionDuration:W,transitionTimingFunction:b,onTransitionEnd:R});return W===0?m?ne.jsx(fn,{...N,children:f}):null:ne.jsx(fn,{...X({style:{opacity:m||!L?1:0,transition:L?`opacity ${W}ms ${b}`:"none",...h0(M,I)},ref:c,...N}),children:f})});y0.displayName="@mantine/core/Collapse";const[Ob,Ka]=Qd("ScrollArea.Root component was not found in tree");function Xd(i,c){const f=wc(c);Ph(()=>{let m=0;if(i){const y=new ResizeObserver(()=>{cancelAnimationFrame(m),m=window.requestAnimationFrame(f)});return y.observe(i),()=>{window.cancelAnimationFrame(m),y.unobserve(i)}}},[i,f])}const Db=U.forwardRef((i,c)=>{const{style:f,...m}=i,y=Ka(),[b,M]=U.useState(0),[R,L]=U.useState(0),N=!!(b&&R);return Xd(y.scrollbarX,()=>{var F;const I=((F=y.scrollbarX)==null?void 0:F.offsetHeight)||0;y.onCornerHeightChange(I),L(I)}),Xd(y.scrollbarY,()=>{var F;const I=((F=y.scrollbarY)==null?void 0:F.offsetWidth)||0;y.onCornerWidthChange(I),M(I)}),N?ne.jsx("div",{...m,ref:c,style:{...f,width:b,height:R}}):null}),Ib=U.forwardRef((i,c)=>{const f=Ka(),m=!!(f.scrollbarX&&f.scrollbarY);return f.type!=="scroll"&&m?ne.jsx(Db,{...i,ref:c}):null}),kb={scrollHideDelay:1e3,type:"hover"},x0=U.forwardRef((i,c)=>{const f=hn("ScrollAreaRoot",kb,i),{type:m,scrollHideDelay:y,scrollbars:b,...M}=f,[R,L]=U.useState(null),[N,I]=U.useState(null),[F,D]=U.useState(null),[W,X]=U.useState(null),[$,j]=U.useState(null),[oe,de]=U.useState(0),[he,fe]=U.useState(0),[xe,Oe]=U.useState(!1),[Ge,ze]=U.useState(!1),Xe=dl(c,it=>L(it));return ne.jsx(Ob,{value:{type:m,scrollHideDelay:y,scrollArea:R,viewport:N,onViewportChange:I,content:F,onContentChange:D,scrollbarX:W,onScrollbarXChange:X,scrollbarXEnabled:xe,onScrollbarXEnabledChange:Oe,scrollbarY:$,onScrollbarYChange:j,scrollbarYEnabled:Ge,onScrollbarYEnabledChange:ze,onCornerWidthChange:de,onCornerHeightChange:fe},children:ne.jsx(fn,{...M,ref:Xe,__vars:{"--sa-corner-width":b!=="xy"?"0px":`${oe}px`,"--sa-corner-height":b!=="xy"?"0px":`${he}px`}})})});x0.displayName="@mantine/core/ScrollAreaRoot";function w0(i,c){const f=i/c;return Number.isNaN(f)?0:f}function pm(i){const c=w0(i.viewport,i.content),f=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,m=(i.scrollbar.size-f)*c;return Math.max(m,18)}function b0(i,c){return f=>{if(i[0]===i[1]||c[0]===c[1])return c[0];const m=(c[1]-c[0])/(i[1]-i[0]);return c[0]+m*(f-i[0])}}function zb(i,[c,f]){return Math.min(f,Math.max(c,i))}function hy(i,c,f="ltr"){const m=pm(c),y=c.scrollbar.paddingStart+c.scrollbar.paddingEnd,b=c.scrollbar.size-y,M=c.content-c.viewport,R=b-m,L=f==="ltr"?[0,M]:[M*-1,0],N=zb(i,L);return b0([0,M],[0,R])(N)}function Bb(i,c,f,m="ltr"){const y=pm(f),b=y/2,M=c||b,R=y-M,L=f.scrollbar.paddingStart+M,N=f.scrollbar.size-f.scrollbar.paddingEnd-R,I=f.content-f.viewport,F=m==="ltr"?[0,I]:[I*-1,0];return b0([L,N],F)(i)}function _0(i,c){return i>0&&i<c}function Kp(i){return i?parseInt(i,10):0}function bc(i,c,{checkForDefaultPrevented:f=!0}={}){return m=>{i==null||i(m),(f===!1||!m.defaultPrevented)&&(c==null||c(m))}}const[Fb,S0]=Qd("ScrollAreaScrollbar was not found in tree"),M0=U.forwardRef((i,c)=>{const{sizes:f,hasThumb:m,onThumbChange:y,onThumbPointerUp:b,onThumbPointerDown:M,onThumbPositionChange:R,onDragScroll:L,onWheelScroll:N,onResize:I,...F}=i,D=Ka(),[W,X]=U.useState(null),$=dl(c,ze=>X(ze)),j=U.useRef(null),oe=U.useRef(""),{viewport:de}=D,he=f.content-f.viewport,fe=wc(N),xe=wc(R),Oe=um(I,10),Ge=ze=>{if(j.current){const Xe=ze.clientX-j.current.left,it=ze.clientY-j.current.top;L({x:Xe,y:it})}};return U.useEffect(()=>{const ze=Xe=>{const it=Xe.target;(W==null?void 0:W.contains(it))&&fe(Xe,he)};return document.addEventListener("wheel",ze,{passive:!1}),()=>document.removeEventListener("wheel",ze,{passive:!1})},[de,W,he,fe]),U.useEffect(xe,[f,xe]),Xd(W,Oe),Xd(D.content,Oe),ne.jsx(Fb,{value:{scrollbar:W,hasThumb:m,onThumbChange:wc(y),onThumbPointerUp:wc(b),onThumbPositionChange:xe,onThumbPointerDown:wc(M)},children:ne.jsx("div",{...F,ref:$,"data-mantine-scrollbar":!0,style:{position:"absolute",...F.style},onPointerDown:bc(i.onPointerDown,ze=>{ze.preventDefault(),ze.button===0&&(ze.target.setPointerCapture(ze.pointerId),j.current=W.getBoundingClientRect(),oe.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",Ge(ze))}),onPointerMove:bc(i.onPointerMove,Ge),onPointerUp:bc(i.onPointerUp,ze=>{ze.preventDefault();const Xe=ze.target;Xe.hasPointerCapture(ze.pointerId)&&Xe.releasePointerCapture(ze.pointerId),document.body.style.webkitUserSelect=oe.current,j.current=null})})})}),E0=U.forwardRef((i,c)=>{const{sizes:f,onSizesChange:m,style:y,...b}=i,M=Ka(),[R,L]=U.useState(),N=U.useRef(null),I=dl(c,N,M.onScrollbarXChange);return U.useEffect(()=>{N.current&&L(getComputedStyle(N.current))},[N]),ne.jsx(M0,{"data-orientation":"horizontal",...b,ref:I,sizes:f,style:{...y,"--sa-thumb-width":`${pm(f)}px`},onThumbPointerDown:F=>i.onThumbPointerDown(F.x),onDragScroll:F=>i.onDragScroll(F.x),onWheelScroll:(F,D)=>{if(M.viewport){const W=M.viewport.scrollLeft+F.deltaX;i.onWheelScroll(W),_0(W,D)&&F.preventDefault()}},onResize:()=>{N.current&&M.viewport&&R&&m({content:M.viewport.scrollWidth,viewport:M.viewport.offsetWidth,scrollbar:{size:N.current.clientWidth,paddingStart:Kp(R.paddingLeft),paddingEnd:Kp(R.paddingRight)}})}})});E0.displayName="@mantine/core/ScrollAreaScrollbarX";const T0=U.forwardRef((i,c)=>{const{sizes:f,onSizesChange:m,style:y,...b}=i,M=Ka(),[R,L]=U.useState(),N=U.useRef(null),I=dl(c,N,M.onScrollbarYChange);return U.useEffect(()=>{N.current&&L(window.getComputedStyle(N.current))},[]),ne.jsx(M0,{...b,"data-orientation":"vertical",ref:I,sizes:f,style:{"--sa-thumb-height":`${pm(f)}px`,...y},onThumbPointerDown:F=>i.onThumbPointerDown(F.y),onDragScroll:F=>i.onDragScroll(F.y),onWheelScroll:(F,D)=>{if(M.viewport){const W=M.viewport.scrollTop+F.deltaY;i.onWheelScroll(W),_0(W,D)&&F.preventDefault()}},onResize:()=>{N.current&&M.viewport&&R&&m({content:M.viewport.scrollHeight,viewport:M.viewport.offsetHeight,scrollbar:{size:N.current.clientHeight,paddingStart:Kp(R.paddingTop),paddingEnd:Kp(R.paddingBottom)}})}})});T0.displayName="@mantine/core/ScrollAreaScrollbarY";const mm=U.forwardRef((i,c)=>{const{orientation:f="vertical",...m}=i,{dir:y}=fm(),b=Ka(),M=U.useRef(null),R=U.useRef(0),[L,N]=U.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),I=w0(L.viewport,L.content),F={...m,sizes:L,onSizesChange:N,hasThumb:I>0&&I<1,onThumbChange:W=>{M.current=W},onThumbPointerUp:()=>{R.current=0},onThumbPointerDown:W=>{R.current=W}},D=(W,X)=>Bb(W,R.current,L,X);return f==="horizontal"?ne.jsx(E0,{...F,ref:c,onThumbPositionChange:()=>{if(b.viewport&&M.current){const W=b.viewport.scrollLeft,X=hy(W,L,y);M.current.style.transform=`translate3d(${X}px, 0, 0)`}},onWheelScroll:W=>{b.viewport&&(b.viewport.scrollLeft=W)},onDragScroll:W=>{b.viewport&&(b.viewport.scrollLeft=D(W,y))}}):f==="vertical"?ne.jsx(T0,{...F,ref:c,onThumbPositionChange:()=>{if(b.viewport&&M.current){const W=b.viewport.scrollTop,X=hy(W,L);L.scrollbar.size===0?M.current.style.setProperty("--thumb-opacity","0"):M.current.style.setProperty("--thumb-opacity","1"),M.current.style.transform=`translate3d(0, ${X}px, 0)`}},onWheelScroll:W=>{b.viewport&&(b.viewport.scrollTop=W)},onDragScroll:W=>{b.viewport&&(b.viewport.scrollTop=D(W))}}):null});mm.displayName="@mantine/core/ScrollAreaScrollbarVisible";const nv=U.forwardRef((i,c)=>{const f=Ka(),{forceMount:m,...y}=i,[b,M]=U.useState(!1),R=i.orientation==="horizontal",L=um(()=>{if(f.viewport){const N=f.viewport.offsetWidth<f.viewport.scrollWidth,I=f.viewport.offsetHeight<f.viewport.scrollHeight;M(R?N:I)}},10);return Xd(f.viewport,L),Xd(f.content,L),m||b?ne.jsx(mm,{"data-state":b?"visible":"hidden",...y,ref:c}):null});nv.displayName="@mantine/core/ScrollAreaScrollbarAuto";const R0=U.forwardRef((i,c)=>{const{forceMount:f,...m}=i,y=Ka(),[b,M]=U.useState(!1);return U.useEffect(()=>{const{scrollArea:R}=y;let L=0;if(R){const N=()=>{window.clearTimeout(L),M(!0)},I=()=>{L=window.setTimeout(()=>M(!1),y.scrollHideDelay)};return R.addEventListener("pointerenter",N),R.addEventListener("pointerleave",I),()=>{window.clearTimeout(L),R.removeEventListener("pointerenter",N),R.removeEventListener("pointerleave",I)}}},[y.scrollArea,y.scrollHideDelay]),f||b?ne.jsx(nv,{"data-state":b?"visible":"hidden",...m,ref:c}):null});R0.displayName="@mantine/core/ScrollAreaScrollbarHover";const Hb=U.forwardRef((i,c)=>{const{forceMount:f,...m}=i,y=Ka(),b=i.orientation==="horizontal",[M,R]=U.useState("hidden"),L=um(()=>R("idle"),100);return U.useEffect(()=>{if(M==="idle"){const N=window.setTimeout(()=>R("hidden"),y.scrollHideDelay);return()=>window.clearTimeout(N)}},[M,y.scrollHideDelay]),U.useEffect(()=>{const{viewport:N}=y,I=b?"scrollLeft":"scrollTop";if(N){let F=N[I];const D=()=>{const W=N[I];F!==W&&(R("scrolling"),L()),F=W};return N.addEventListener("scroll",D),()=>N.removeEventListener("scroll",D)}},[y.viewport,b,L]),f||M!=="hidden"?ne.jsx(mm,{"data-state":M==="hidden"?"hidden":"visible",...m,ref:c,onPointerEnter:bc(i.onPointerEnter,()=>R("interacting")),onPointerLeave:bc(i.onPointerLeave,()=>R("idle"))}):null}),Dg=U.forwardRef((i,c)=>{const{forceMount:f,...m}=i,y=Ka(),{onScrollbarXEnabledChange:b,onScrollbarYEnabledChange:M}=y,R=i.orientation==="horizontal";return U.useEffect(()=>(R?b(!0):M(!0),()=>{R?b(!1):M(!1)}),[R,b,M]),y.type==="hover"?ne.jsx(R0,{...m,ref:c,forceMount:f}):y.type==="scroll"?ne.jsx(Hb,{...m,ref:c,forceMount:f}):y.type==="auto"?ne.jsx(nv,{...m,ref:c,forceMount:f}):y.type==="always"?ne.jsx(mm,{...m,ref:c}):null});Dg.displayName="@mantine/core/ScrollAreaScrollbar";function Ub(i,c=()=>{}){let f={left:i.scrollLeft,top:i.scrollTop},m=0;return function y(){const b={left:i.scrollLeft,top:i.scrollTop},M=f.left!==b.left,R=f.top!==b.top;(M||R)&&c(),f=b,m=window.requestAnimationFrame(y)}(),()=>window.cancelAnimationFrame(m)}const C0=U.forwardRef((i,c)=>{const{style:f,...m}=i,y=Ka(),b=S0(),{onThumbPositionChange:M}=b,R=dl(c,I=>b.onThumbChange(I)),L=U.useRef(void 0),N=um(()=>{L.current&&(L.current(),L.current=void 0)},100);return U.useEffect(()=>{const{viewport:I}=y;if(I){const F=()=>{if(N(),!L.current){const D=Ub(I,M);L.current=D,M()}};return M(),I.addEventListener("scroll",F),()=>I.removeEventListener("scroll",F)}},[y.viewport,N,M]),ne.jsx("div",{"data-state":b.hasThumb?"visible":"hidden",...m,ref:R,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...f},onPointerDownCapture:bc(i.onPointerDownCapture,I=>{const D=I.target.getBoundingClientRect(),W=I.clientX-D.left,X=I.clientY-D.top;b.onThumbPointerDown({x:W,y:X})}),onPointerUp:bc(i.onPointerUp,b.onThumbPointerUp)})});C0.displayName="@mantine/core/ScrollAreaThumb";const Ig=U.forwardRef((i,c)=>{const{forceMount:f,...m}=i,y=S0();return f||y.hasThumb?ne.jsx(C0,{ref:c,...m}):null});Ig.displayName="@mantine/core/ScrollAreaThumb";const L0=U.forwardRef(({children:i,style:c,...f},m)=>{const y=Ka(),b=dl(m,y.onViewportChange);return ne.jsx(fn,{...f,ref:b,style:{overflowX:y.scrollbarXEnabled?"scroll":"hidden",overflowY:y.scrollbarYEnabled?"scroll":"hidden",...c},children:ne.jsx("div",{style:{minWidth:"100%",display:"table"},ref:y.onContentChange,children:i})})});L0.displayName="@mantine/core/ScrollAreaViewport";var rv={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const A0={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Gb=(i,{scrollbarSize:c})=>({root:{"--scrollarea-scrollbar-size":Ye(c)}}),Oh=_r((i,c)=>{const f=hn("ScrollArea",A0,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,scrollbarSize:L,vars:N,type:I,scrollHideDelay:F,viewportProps:D,viewportRef:W,onScrollPositionChange:X,children:$,offsetScrollbars:j,scrollbars:oe,onBottomReached:de,onTopReached:he,...fe}=f,[xe,Oe]=U.useState(!1),Ge=Wr({name:"ScrollArea",props:f,classes:rv,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:N,varsResolver:Gb});return ne.jsxs(x0,{type:I==="never"?"always":I,scrollHideDelay:F,ref:c,scrollbars:oe,...Ge("root"),...fe,children:[ne.jsx(L0,{...D,...Ge("viewport",{style:D==null?void 0:D.style}),ref:W,"data-offset-scrollbars":j===!0?"xy":j||void 0,"data-scrollbars":oe||void 0,onScroll:ze=>{var gt;(gt=D==null?void 0:D.onScroll)==null||gt.call(D,ze),X==null||X({x:ze.currentTarget.scrollLeft,y:ze.currentTarget.scrollTop});const{scrollTop:Xe,scrollHeight:it,clientHeight:st}=ze.currentTarget;Xe-(it-st)>=0&&(de==null||de()),Xe===0&&(he==null||he())},children:$}),(oe==="xy"||oe==="x")&&ne.jsx(Dg,{...Ge("scrollbar"),orientation:"horizontal","data-hidden":I==="never"||void 0,forceMount:!0,onMouseEnter:()=>Oe(!0),onMouseLeave:()=>Oe(!1),children:ne.jsx(Ig,{...Ge("thumb")})}),(oe==="xy"||oe==="y")&&ne.jsx(Dg,{...Ge("scrollbar"),orientation:"vertical","data-hidden":I==="never"||void 0,forceMount:!0,onMouseEnter:()=>Oe(!0),onMouseLeave:()=>Oe(!1),children:ne.jsx(Ig,{...Ge("thumb")})}),ne.jsx(Ib,{...Ge("corner"),"data-hovered":xe||void 0,"data-hidden":I==="never"||void 0})]})});Oh.displayName="@mantine/core/ScrollArea";const iv=_r((i,c)=>{const{children:f,classNames:m,styles:y,scrollbarSize:b,scrollHideDelay:M,type:R,dir:L,offsetScrollbars:N,viewportRef:I,onScrollPositionChange:F,unstyled:D,variant:W,viewportProps:X,scrollbars:$,style:j,vars:oe,onBottomReached:de,onTopReached:he,...fe}=hn("ScrollAreaAutosize",A0,i);return ne.jsx(fn,{...fe,ref:c,style:[{display:"flex",overflow:"auto"},j],children:ne.jsx(fn,{style:{display:"flex",flexDirection:"column",flex:1},children:ne.jsx(Oh,{classNames:m,styles:y,scrollHideDelay:M,scrollbarSize:b,type:R,dir:L,offsetScrollbars:N,viewportRef:I,onScrollPositionChange:F,unstyled:D,variant:W,viewportProps:X,vars:oe,scrollbars:$,onBottomReached:de,onTopReached:he,children:f})})})});Oh.classes=rv;iv.displayName="@mantine/core/ScrollAreaAutosize";iv.classes=rv;Oh.Autosize=iv;var P0={root:"m_87cf2631"};const jb={__staticSelector:"UnstyledButton"},Mc=vu((i,c)=>{const f=hn("UnstyledButton",jb,i),{className:m,component:y="button",__staticSelector:b,unstyled:M,classNames:R,styles:L,style:N,...I}=f,F=Wr({name:b,props:f,classes:P0,className:m,style:N,classNames:R,styles:L,unstyled:M});return ne.jsx(fn,{...F("root",{focusable:!0}),component:y,ref:c,type:y==="button"?"button":void 0,...I})});Mc.classes=P0;Mc.displayName="@mantine/core/UnstyledButton";var N0={root:"m_515a97f8"};const Vb={},av=_r((i,c)=>{const f=hn("VisuallyHidden",Vb,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,...N}=f,I=Wr({name:"VisuallyHidden",classes:N0,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R});return ne.jsx(fn,{component:"span",ref:c,...I("root"),...N})});av.classes=N0;av.displayName="@mantine/core/VisuallyHidden";var O0={root:"m_1b7284a3"};const Wb={},$b=(i,{radius:c,shadow:f})=>({root:{"--paper-radius":c===void 0?void 0:Rc(c),"--paper-shadow":Xg(f)}}),gm=vu((i,c)=>{const f=hn("Paper",Wb,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,withBorder:L,vars:N,radius:I,shadow:F,variant:D,mod:W,...X}=f,$=Wr({name:"Paper",props:f,classes:O0,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:N,varsResolver:$b});return ne.jsx(fn,{ref:c,mod:[{"data-with-border":L},W],...$("root"),variant:D,...X})});gm.classes=O0;gm.displayName="@mantine/core/Paper";function vm(){return typeof window<"u"}function Kd(i){return D0(i)?(i.nodeName||"").toLowerCase():"#document"}function Oa(i){var c;return(i==null||(c=i.ownerDocument)==null?void 0:c.defaultView)||window}function vs(i){var c;return(c=(D0(i)?i.ownerDocument:i.document)||window.document)==null?void 0:c.documentElement}function D0(i){return vm()?i instanceof Node||i instanceof Oa(i).Node:!1}function qi(i){return vm()?i instanceof Element||i instanceof Oa(i).Element:!1}function ps(i){return vm()?i instanceof HTMLElement||i instanceof Oa(i).HTMLElement:!1}function py(i){return!vm()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Oa(i).ShadowRoot}function Dh(i){const{overflow:c,overflowX:f,overflowY:m,display:y}=Ao(i);return/auto|scroll|overlay|hidden|clip/.test(c+m+f)&&!["inline","contents"].includes(y)}function qb(i){return["table","td","th"].includes(Kd(i))}function ym(i){return[":popover-open",":modal"].some(c=>{try{return i.matches(c)}catch{return!1}})}function ov(i){const c=sv(),f=qi(i)?Ao(i):i;return["transform","translate","scale","rotate","perspective"].some(m=>f[m]?f[m]!=="none":!1)||(f.containerType?f.containerType!=="normal":!1)||!c&&(f.backdropFilter?f.backdropFilter!=="none":!1)||!c&&(f.filter?f.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(m=>(f.willChange||"").includes(m))||["paint","layout","strict","content"].some(m=>(f.contain||"").includes(m))}function Xb(i){let c=mu(i);for(;ps(c)&&!Yd(c);){if(ov(c))return c;if(ym(c))return null;c=mu(c)}return null}function sv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yd(i){return["html","body","#document"].includes(Kd(i))}function Ao(i){return Oa(i).getComputedStyle(i)}function xm(i){return qi(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function mu(i){if(Kd(i)==="html")return i;const c=i.assignedSlot||i.parentNode||py(i)&&i.host||vs(i);return py(c)?c.host:c}function I0(i){const c=mu(i);return Yd(c)?i.ownerDocument?i.ownerDocument.body:i.body:ps(c)&&Dh(c)?c:I0(c)}function Ch(i,c,f){var m;c===void 0&&(c=[]),f===void 0&&(f=!0);const y=I0(i),b=y===((m=i.ownerDocument)==null?void 0:m.body),M=Oa(y);if(b){const R=kg(M);return c.concat(M,M.visualViewport||[],Dh(y)?y:[],R&&f?Ch(R):[])}return c.concat(y,Ch(y,[],f))}function kg(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const Po=Math.min,Pi=Math.max,em=Math.round,Gp=Math.floor,hs=i=>({x:i,y:i}),Yb={left:"right",right:"left",bottom:"top",top:"bottom"},Zb={start:"end",end:"start"};function zg(i,c,f){return Pi(i,Po(c,f))}function ul(i,c){return typeof i=="function"?i(c):i}function No(i){return i.split("-")[0]}function ef(i){return i.split("-")[1]}function lv(i){return i==="x"?"y":"x"}function uv(i){return i==="y"?"height":"width"}function cl(i){return["top","bottom"].includes(No(i))?"y":"x"}function cv(i){return lv(cl(i))}function Jb(i,c,f){f===void 0&&(f=!1);const m=ef(i),y=cv(i),b=uv(y);let M=y==="x"?m===(f?"end":"start")?"right":"left":m==="start"?"bottom":"top";return c.reference[b]>c.floating[b]&&(M=tm(M)),[M,tm(M)]}function Qb(i){const c=tm(i);return[Bg(i),c,Bg(c)]}function Bg(i){return i.replace(/start|end/g,c=>Zb[c])}function Kb(i,c,f){const m=["left","right"],y=["right","left"],b=["top","bottom"],M=["bottom","top"];switch(i){case"top":case"bottom":return f?c?y:m:c?m:y;case"left":case"right":return c?b:M;default:return[]}}function e_(i,c,f,m){const y=ef(i);let b=Kb(No(i),f==="start",m);return y&&(b=b.map(M=>M+"-"+y),c&&(b=b.concat(b.map(Bg)))),b}function tm(i){return i.replace(/left|right|bottom|top/g,c=>Yb[c])}function t_(i){return{top:0,right:0,bottom:0,left:0,...i}}function dv(i){return typeof i!="number"?t_(i):{top:i,right:i,bottom:i,left:i}}function Zd(i){const{x:c,y:f,width:m,height:y}=i;return{width:m,height:y,top:f,left:c,right:c+m,bottom:f+y,x:c,y:f}}function my(i,c,f){let{reference:m,floating:y}=i;const b=cl(c),M=cv(c),R=uv(M),L=No(c),N=b==="y",I=m.x+m.width/2-y.width/2,F=m.y+m.height/2-y.height/2,D=m[R]/2-y[R]/2;let W;switch(L){case"top":W={x:I,y:m.y-y.height};break;case"bottom":W={x:I,y:m.y+m.height};break;case"right":W={x:m.x+m.width,y:F};break;case"left":W={x:m.x-y.width,y:F};break;default:W={x:m.x,y:m.y}}switch(ef(c)){case"start":W[M]-=D*(f&&N?-1:1);break;case"end":W[M]+=D*(f&&N?-1:1);break}return W}const n_=async(i,c,f)=>{const{placement:m="bottom",strategy:y="absolute",middleware:b=[],platform:M}=f,R=b.filter(Boolean),L=await(M.isRTL==null?void 0:M.isRTL(c));let N=await M.getElementRects({reference:i,floating:c,strategy:y}),{x:I,y:F}=my(N,m,L),D=m,W={},X=0;for(let $=0;$<R.length;$++){const{name:j,fn:oe}=R[$],{x:de,y:he,data:fe,reset:xe}=await oe({x:I,y:F,initialPlacement:m,placement:D,strategy:y,middlewareData:W,rects:N,platform:M,elements:{reference:i,floating:c}});I=de??I,F=he??F,W={...W,[j]:{...W[j],...fe}},xe&&X<=50&&(X++,typeof xe=="object"&&(xe.placement&&(D=xe.placement),xe.rects&&(N=xe.rects===!0?await M.getElementRects({reference:i,floating:c,strategy:y}):xe.rects),{x:I,y:F}=my(N,D,L)),$=-1)}return{x:I,y:F,placement:D,strategy:y,middlewareData:W}};async function fv(i,c){var f;c===void 0&&(c={});const{x:m,y,platform:b,rects:M,elements:R,strategy:L}=i,{boundary:N="clippingAncestors",rootBoundary:I="viewport",elementContext:F="floating",altBoundary:D=!1,padding:W=0}=ul(c,i),X=dv(W),j=R[D?F==="floating"?"reference":"floating":F],oe=Zd(await b.getClippingRect({element:(f=await(b.isElement==null?void 0:b.isElement(j)))==null||f?j:j.contextElement||await(b.getDocumentElement==null?void 0:b.getDocumentElement(R.floating)),boundary:N,rootBoundary:I,strategy:L})),de=F==="floating"?{x:m,y,width:M.floating.width,height:M.floating.height}:M.reference,he=await(b.getOffsetParent==null?void 0:b.getOffsetParent(R.floating)),fe=await(b.isElement==null?void 0:b.isElement(he))?await(b.getScale==null?void 0:b.getScale(he))||{x:1,y:1}:{x:1,y:1},xe=Zd(b.convertOffsetParentRelativeRectToViewportRelativeRect?await b.convertOffsetParentRelativeRectToViewportRelativeRect({elements:R,rect:de,offsetParent:he,strategy:L}):de);return{top:(oe.top-xe.top+X.top)/fe.y,bottom:(xe.bottom-oe.bottom+X.bottom)/fe.y,left:(oe.left-xe.left+X.left)/fe.x,right:(xe.right-oe.right+X.right)/fe.x}}const r_=i=>({name:"arrow",options:i,async fn(c){const{x:f,y:m,placement:y,rects:b,platform:M,elements:R,middlewareData:L}=c,{element:N,padding:I=0}=ul(i,c)||{};if(N==null)return{};const F=dv(I),D={x:f,y:m},W=cv(y),X=uv(W),$=await M.getDimensions(N),j=W==="y",oe=j?"top":"left",de=j?"bottom":"right",he=j?"clientHeight":"clientWidth",fe=b.reference[X]+b.reference[W]-D[W]-b.floating[X],xe=D[W]-b.reference[W],Oe=await(M.getOffsetParent==null?void 0:M.getOffsetParent(N));let Ge=Oe?Oe[he]:0;(!Ge||!await(M.isElement==null?void 0:M.isElement(Oe)))&&(Ge=R.floating[he]||b.floating[X]);const ze=fe/2-xe/2,Xe=Ge/2-$[X]/2-1,it=Po(F[oe],Xe),st=Po(F[de],Xe),gt=it,_t=Ge-$[X]-st,It=Ge/2-$[X]/2+ze,nn=zg(gt,It,_t),Dt=!L.arrow&&ef(y)!=null&&It!==nn&&b.reference[X]/2-(It<gt?it:st)-$[X]/2<0,Rt=Dt?It<gt?It-gt:It-_t:0;return{[W]:D[W]+Rt,data:{[W]:nn,centerOffset:It-nn-Rt,...Dt&&{alignmentOffset:Rt}},reset:Dt}}}),i_=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(c){var f,m;const{placement:y,middlewareData:b,rects:M,initialPlacement:R,platform:L,elements:N}=c,{mainAxis:I=!0,crossAxis:F=!0,fallbackPlacements:D,fallbackStrategy:W="bestFit",fallbackAxisSideDirection:X="none",flipAlignment:$=!0,...j}=ul(i,c);if((f=b.arrow)!=null&&f.alignmentOffset)return{};const oe=No(y),de=cl(R),he=No(R)===R,fe=await(L.isRTL==null?void 0:L.isRTL(N.floating)),xe=D||(he||!$?[tm(R)]:Qb(R)),Oe=X!=="none";!D&&Oe&&xe.push(...e_(R,$,X,fe));const Ge=[R,...xe],ze=await fv(c,j),Xe=[];let it=((m=b.flip)==null?void 0:m.overflows)||[];if(I&&Xe.push(ze[oe]),F){const It=Jb(y,M,fe);Xe.push(ze[It[0]],ze[It[1]])}if(it=[...it,{placement:y,overflows:Xe}],!Xe.every(It=>It<=0)){var st,gt;const It=(((st=b.flip)==null?void 0:st.index)||0)+1,nn=Ge[It];if(nn)return{data:{index:It,overflows:it},reset:{placement:nn}};let Dt=(gt=it.filter(Rt=>Rt.overflows[0]<=0).sort((Rt,De)=>Rt.overflows[1]-De.overflows[1])[0])==null?void 0:gt.placement;if(!Dt)switch(W){case"bestFit":{var _t;const Rt=(_t=it.filter(De=>{if(Oe){const pe=cl(De.placement);return pe===de||pe==="y"}return!0}).map(De=>[De.placement,De.overflows.filter(pe=>pe>0).reduce((pe,Re)=>pe+Re,0)]).sort((De,pe)=>De[1]-pe[1])[0])==null?void 0:_t[0];Rt&&(Dt=Rt);break}case"initialPlacement":Dt=R;break}if(y!==Dt)return{reset:{placement:Dt}}}return{}}}};function k0(i){const c=Po(...i.map(b=>b.left)),f=Po(...i.map(b=>b.top)),m=Pi(...i.map(b=>b.right)),y=Pi(...i.map(b=>b.bottom));return{x:c,y:f,width:m-c,height:y-f}}function a_(i){const c=i.slice().sort((y,b)=>y.y-b.y),f=[];let m=null;for(let y=0;y<c.length;y++){const b=c[y];!m||b.y-m.y>m.height/2?f.push([b]):f[f.length-1].push(b),m=b}return f.map(y=>Zd(k0(y)))}const o_=function(i){return i===void 0&&(i={}),{name:"inline",options:i,async fn(c){const{placement:f,elements:m,rects:y,platform:b,strategy:M}=c,{padding:R=2,x:L,y:N}=ul(i,c),I=Array.from(await(b.getClientRects==null?void 0:b.getClientRects(m.reference))||[]),F=a_(I),D=Zd(k0(I)),W=dv(R);function X(){if(F.length===2&&F[0].left>F[1].right&&L!=null&&N!=null)return F.find(j=>L>j.left-W.left&&L<j.right+W.right&&N>j.top-W.top&&N<j.bottom+W.bottom)||D;if(F.length>=2){if(cl(f)==="y"){const it=F[0],st=F[F.length-1],gt=No(f)==="top",_t=it.top,It=st.bottom,nn=gt?it.left:st.left,Dt=gt?it.right:st.right,Rt=Dt-nn,De=It-_t;return{top:_t,bottom:It,left:nn,right:Dt,width:Rt,height:De,x:nn,y:_t}}const j=No(f)==="left",oe=Pi(...F.map(it=>it.right)),de=Po(...F.map(it=>it.left)),he=F.filter(it=>j?it.left===de:it.right===oe),fe=he[0].top,xe=he[he.length-1].bottom,Oe=de,Ge=oe,ze=Ge-Oe,Xe=xe-fe;return{top:fe,bottom:xe,left:Oe,right:Ge,width:ze,height:Xe,x:Oe,y:fe}}return D}const $=await b.getElementRects({reference:{getBoundingClientRect:X},floating:m.floating,strategy:M});return y.reference.x!==$.reference.x||y.reference.y!==$.reference.y||y.reference.width!==$.reference.width||y.reference.height!==$.reference.height?{reset:{rects:$}}:{}}}};async function s_(i,c){const{placement:f,platform:m,elements:y}=i,b=await(m.isRTL==null?void 0:m.isRTL(y.floating)),M=No(f),R=ef(f),L=cl(f)==="y",N=["left","top"].includes(M)?-1:1,I=b&&L?-1:1,F=ul(c,i);let{mainAxis:D,crossAxis:W,alignmentAxis:X}=typeof F=="number"?{mainAxis:F,crossAxis:0,alignmentAxis:null}:{mainAxis:F.mainAxis||0,crossAxis:F.crossAxis||0,alignmentAxis:F.alignmentAxis};return R&&typeof X=="number"&&(W=R==="end"?X*-1:X),L?{x:W*I,y:D*N}:{x:D*N,y:W*I}}const l_=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(c){var f,m;const{x:y,y:b,placement:M,middlewareData:R}=c,L=await s_(c,i);return M===((f=R.offset)==null?void 0:f.placement)&&(m=R.arrow)!=null&&m.alignmentOffset?{}:{x:y+L.x,y:b+L.y,data:{...L,placement:M}}}}},u_=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(c){const{x:f,y:m,placement:y}=c,{mainAxis:b=!0,crossAxis:M=!1,limiter:R={fn:j=>{let{x:oe,y:de}=j;return{x:oe,y:de}}},...L}=ul(i,c),N={x:f,y:m},I=await fv(c,L),F=cl(No(y)),D=lv(F);let W=N[D],X=N[F];if(b){const j=D==="y"?"top":"left",oe=D==="y"?"bottom":"right",de=W+I[j],he=W-I[oe];W=zg(de,W,he)}if(M){const j=F==="y"?"top":"left",oe=F==="y"?"bottom":"right",de=X+I[j],he=X-I[oe];X=zg(de,X,he)}const $=R.fn({...c,[D]:W,[F]:X});return{...$,data:{x:$.x-f,y:$.y-m,enabled:{[D]:b,[F]:M}}}}}},c_=function(i){return i===void 0&&(i={}),{options:i,fn(c){const{x:f,y:m,placement:y,rects:b,middlewareData:M}=c,{offset:R=0,mainAxis:L=!0,crossAxis:N=!0}=ul(i,c),I={x:f,y:m},F=cl(y),D=lv(F);let W=I[D],X=I[F];const $=ul(R,c),j=typeof $=="number"?{mainAxis:$,crossAxis:0}:{mainAxis:0,crossAxis:0,...$};if(L){const he=D==="y"?"height":"width",fe=b.reference[D]-b.floating[he]+j.mainAxis,xe=b.reference[D]+b.reference[he]-j.mainAxis;W<fe?W=fe:W>xe&&(W=xe)}if(N){var oe,de;const he=D==="y"?"width":"height",fe=["top","left"].includes(No(y)),xe=b.reference[F]-b.floating[he]+(fe&&((oe=M.offset)==null?void 0:oe[F])||0)+(fe?0:j.crossAxis),Oe=b.reference[F]+b.reference[he]+(fe?0:((de=M.offset)==null?void 0:de[F])||0)-(fe?j.crossAxis:0);X<xe?X=xe:X>Oe&&(X=Oe)}return{[D]:W,[F]:X}}}},d_=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(c){var f,m;const{placement:y,rects:b,platform:M,elements:R}=c,{apply:L=()=>{},...N}=ul(i,c),I=await fv(c,N),F=No(y),D=ef(y),W=cl(y)==="y",{width:X,height:$}=b.floating;let j,oe;F==="top"||F==="bottom"?(j=F,oe=D===(await(M.isRTL==null?void 0:M.isRTL(R.floating))?"start":"end")?"left":"right"):(oe=F,j=D==="end"?"top":"bottom");const de=$-I.top-I.bottom,he=X-I.left-I.right,fe=Po($-I[j],de),xe=Po(X-I[oe],he),Oe=!c.middlewareData.shift;let Ge=fe,ze=xe;if((f=c.middlewareData.shift)!=null&&f.enabled.x&&(ze=he),(m=c.middlewareData.shift)!=null&&m.enabled.y&&(Ge=de),Oe&&!D){const it=Pi(I.left,0),st=Pi(I.right,0),gt=Pi(I.top,0),_t=Pi(I.bottom,0);W?ze=X-2*(it!==0||st!==0?it+st:Pi(I.left,I.right)):Ge=$-2*(gt!==0||_t!==0?gt+_t:Pi(I.top,I.bottom))}await L({...c,availableWidth:ze,availableHeight:Ge});const Xe=await M.getDimensions(R.floating);return X!==Xe.width||$!==Xe.height?{reset:{rects:!0}}:{}}}};function z0(i){const c=Ao(i);let f=parseFloat(c.width)||0,m=parseFloat(c.height)||0;const y=ps(i),b=y?i.offsetWidth:f,M=y?i.offsetHeight:m,R=em(f)!==b||em(m)!==M;return R&&(f=b,m=M),{width:f,height:m,$:R}}function hv(i){return qi(i)?i:i.contextElement}function Wd(i){const c=hv(i);if(!ps(c))return hs(1);const f=c.getBoundingClientRect(),{width:m,height:y,$:b}=z0(c);let M=(b?em(f.width):f.width)/m,R=(b?em(f.height):f.height)/y;return(!M||!Number.isFinite(M))&&(M=1),(!R||!Number.isFinite(R))&&(R=1),{x:M,y:R}}const f_=hs(0);function B0(i){const c=Oa(i);return!sv()||!c.visualViewport?f_:{x:c.visualViewport.offsetLeft,y:c.visualViewport.offsetTop}}function h_(i,c,f){return c===void 0&&(c=!1),!f||c&&f!==Oa(i)?!1:c}function Ec(i,c,f,m){c===void 0&&(c=!1),f===void 0&&(f=!1);const y=i.getBoundingClientRect(),b=hv(i);let M=hs(1);c&&(m?qi(m)&&(M=Wd(m)):M=Wd(i));const R=h_(b,f,m)?B0(b):hs(0);let L=(y.left+R.x)/M.x,N=(y.top+R.y)/M.y,I=y.width/M.x,F=y.height/M.y;if(b){const D=Oa(b),W=m&&qi(m)?Oa(m):m;let X=D,$=kg(X);for(;$&&m&&W!==X;){const j=Wd($),oe=$.getBoundingClientRect(),de=Ao($),he=oe.left+($.clientLeft+parseFloat(de.paddingLeft))*j.x,fe=oe.top+($.clientTop+parseFloat(de.paddingTop))*j.y;L*=j.x,N*=j.y,I*=j.x,F*=j.y,L+=he,N+=fe,X=Oa($),$=kg(X)}}return Zd({width:I,height:F,x:L,y:N})}function pv(i,c){const f=xm(i).scrollLeft;return c?c.left+f:Ec(vs(i)).left+f}function F0(i,c,f){f===void 0&&(f=!1);const m=i.getBoundingClientRect(),y=m.left+c.scrollLeft-(f?0:pv(i,m)),b=m.top+c.scrollTop;return{x:y,y:b}}function p_(i){let{elements:c,rect:f,offsetParent:m,strategy:y}=i;const b=y==="fixed",M=vs(m),R=c?ym(c.floating):!1;if(m===M||R&&b)return f;let L={scrollLeft:0,scrollTop:0},N=hs(1);const I=hs(0),F=ps(m);if((F||!F&&!b)&&((Kd(m)!=="body"||Dh(M))&&(L=xm(m)),ps(m))){const W=Ec(m);N=Wd(m),I.x=W.x+m.clientLeft,I.y=W.y+m.clientTop}const D=M&&!F&&!b?F0(M,L,!0):hs(0);return{width:f.width*N.x,height:f.height*N.y,x:f.x*N.x-L.scrollLeft*N.x+I.x+D.x,y:f.y*N.y-L.scrollTop*N.y+I.y+D.y}}function m_(i){return Array.from(i.getClientRects())}function g_(i){const c=vs(i),f=xm(i),m=i.ownerDocument.body,y=Pi(c.scrollWidth,c.clientWidth,m.scrollWidth,m.clientWidth),b=Pi(c.scrollHeight,c.clientHeight,m.scrollHeight,m.clientHeight);let M=-f.scrollLeft+pv(i);const R=-f.scrollTop;return Ao(m).direction==="rtl"&&(M+=Pi(c.clientWidth,m.clientWidth)-y),{width:y,height:b,x:M,y:R}}function v_(i,c){const f=Oa(i),m=vs(i),y=f.visualViewport;let b=m.clientWidth,M=m.clientHeight,R=0,L=0;if(y){b=y.width,M=y.height;const N=sv();(!N||N&&c==="fixed")&&(R=y.offsetLeft,L=y.offsetTop)}return{width:b,height:M,x:R,y:L}}function y_(i,c){const f=Ec(i,!0,c==="fixed"),m=f.top+i.clientTop,y=f.left+i.clientLeft,b=ps(i)?Wd(i):hs(1),M=i.clientWidth*b.x,R=i.clientHeight*b.y,L=y*b.x,N=m*b.y;return{width:M,height:R,x:L,y:N}}function gy(i,c,f){let m;if(c==="viewport")m=v_(i,f);else if(c==="document")m=g_(vs(i));else if(qi(c))m=y_(c,f);else{const y=B0(i);m={x:c.x-y.x,y:c.y-y.y,width:c.width,height:c.height}}return Zd(m)}function H0(i,c){const f=mu(i);return f===c||!qi(f)||Yd(f)?!1:Ao(f).position==="fixed"||H0(f,c)}function x_(i,c){const f=c.get(i);if(f)return f;let m=Ch(i,[],!1).filter(R=>qi(R)&&Kd(R)!=="body"),y=null;const b=Ao(i).position==="fixed";let M=b?mu(i):i;for(;qi(M)&&!Yd(M);){const R=Ao(M),L=ov(M);!L&&R.position==="fixed"&&(y=null),(b?!L&&!y:!L&&R.position==="static"&&!!y&&["absolute","fixed"].includes(y.position)||Dh(M)&&!L&&H0(i,M))?m=m.filter(I=>I!==M):y=R,M=mu(M)}return c.set(i,m),m}function w_(i){let{element:c,boundary:f,rootBoundary:m,strategy:y}=i;const M=[...f==="clippingAncestors"?ym(c)?[]:x_(c,this._c):[].concat(f),m],R=M[0],L=M.reduce((N,I)=>{const F=gy(c,I,y);return N.top=Pi(F.top,N.top),N.right=Po(F.right,N.right),N.bottom=Po(F.bottom,N.bottom),N.left=Pi(F.left,N.left),N},gy(c,R,y));return{width:L.right-L.left,height:L.bottom-L.top,x:L.left,y:L.top}}function b_(i){const{width:c,height:f}=z0(i);return{width:c,height:f}}function __(i,c,f){const m=ps(c),y=vs(c),b=f==="fixed",M=Ec(i,!0,b,c);let R={scrollLeft:0,scrollTop:0};const L=hs(0);if(m||!m&&!b)if((Kd(c)!=="body"||Dh(y))&&(R=xm(c)),m){const D=Ec(c,!0,b,c);L.x=D.x+c.clientLeft,L.y=D.y+c.clientTop}else y&&(L.x=pv(y));const N=y&&!m&&!b?F0(y,R):hs(0),I=M.left+R.scrollLeft-L.x-N.x,F=M.top+R.scrollTop-L.y-N.y;return{x:I,y:F,width:M.width,height:M.height}}function _g(i){return Ao(i).position==="static"}function vy(i,c){if(!ps(i)||Ao(i).position==="fixed")return null;if(c)return c(i);let f=i.offsetParent;return vs(i)===f&&(f=f.ownerDocument.body),f}function U0(i,c){const f=Oa(i);if(ym(i))return f;if(!ps(i)){let y=mu(i);for(;y&&!Yd(y);){if(qi(y)&&!_g(y))return y;y=mu(y)}return f}let m=vy(i,c);for(;m&&qb(m)&&_g(m);)m=vy(m,c);return m&&Yd(m)&&_g(m)&&!ov(m)?f:m||Xb(i)||f}const S_=async function(i){const c=this.getOffsetParent||U0,f=this.getDimensions,m=await f(i.floating);return{reference:__(i.reference,await c(i.floating),i.strategy),floating:{x:0,y:0,width:m.width,height:m.height}}};function M_(i){return Ao(i).direction==="rtl"}const E_={convertOffsetParentRelativeRectToViewportRelativeRect:p_,getDocumentElement:vs,getClippingRect:w_,getOffsetParent:U0,getElementRects:S_,getClientRects:m_,getDimensions:b_,getScale:Wd,isElement:qi,isRTL:M_};function G0(i,c){return i.x===c.x&&i.y===c.y&&i.width===c.width&&i.height===c.height}function T_(i,c){let f=null,m;const y=vs(i);function b(){var R;clearTimeout(m),(R=f)==null||R.disconnect(),f=null}function M(R,L){R===void 0&&(R=!1),L===void 0&&(L=1),b();const N=i.getBoundingClientRect(),{left:I,top:F,width:D,height:W}=N;if(R||c(),!D||!W)return;const X=Gp(F),$=Gp(y.clientWidth-(I+D)),j=Gp(y.clientHeight-(F+W)),oe=Gp(I),he={rootMargin:-X+"px "+-$+"px "+-j+"px "+-oe+"px",threshold:Pi(0,Po(1,L))||1};let fe=!0;function xe(Oe){const Ge=Oe[0].intersectionRatio;if(Ge!==L){if(!fe)return M();Ge?M(!1,Ge):m=setTimeout(()=>{M(!1,1e-7)},1e3)}Ge===1&&!G0(N,i.getBoundingClientRect())&&M(),fe=!1}try{f=new IntersectionObserver(xe,{...he,root:y.ownerDocument})}catch{f=new IntersectionObserver(xe,he)}f.observe(i)}return M(!0),b}function R_(i,c,f,m){m===void 0&&(m={});const{ancestorScroll:y=!0,ancestorResize:b=!0,elementResize:M=typeof ResizeObserver=="function",layoutShift:R=typeof IntersectionObserver=="function",animationFrame:L=!1}=m,N=hv(i),I=y||b?[...N?Ch(N):[],...Ch(c)]:[];I.forEach(oe=>{y&&oe.addEventListener("scroll",f,{passive:!0}),b&&oe.addEventListener("resize",f)});const F=N&&R?T_(N,f):null;let D=-1,W=null;M&&(W=new ResizeObserver(oe=>{let[de]=oe;de&&de.target===N&&W&&(W.unobserve(c),cancelAnimationFrame(D),D=requestAnimationFrame(()=>{var he;(he=W)==null||he.observe(c)})),f()}),N&&!L&&W.observe(N),W.observe(c));let X,$=L?Ec(i):null;L&&j();function j(){const oe=Ec(i);$&&!G0($,oe)&&f(),$=oe,X=requestAnimationFrame(j)}return f(),()=>{var oe;I.forEach(de=>{y&&de.removeEventListener("scroll",f),b&&de.removeEventListener("resize",f)}),F==null||F(),(oe=W)==null||oe.disconnect(),W=null,L&&cancelAnimationFrame(X)}}const C_=l_,L_=u_,A_=i_,P_=d_,yy=r_,N_=o_,O_=c_,D_=(i,c,f)=>{const m=new Map,y={platform:E_,...f},b={...y.platform,_c:m};return n_(i,c,{...y,platform:b})};var qp=typeof document<"u"?U.useLayoutEffect:U.useEffect;function nm(i,c){if(i===c)return!0;if(typeof i!=typeof c)return!1;if(typeof i=="function"&&i.toString()===c.toString())return!0;let f,m,y;if(i&&c&&typeof i=="object"){if(Array.isArray(i)){if(f=i.length,f!==c.length)return!1;for(m=f;m--!==0;)if(!nm(i[m],c[m]))return!1;return!0}if(y=Object.keys(i),f=y.length,f!==Object.keys(c).length)return!1;for(m=f;m--!==0;)if(!{}.hasOwnProperty.call(c,y[m]))return!1;for(m=f;m--!==0;){const b=y[m];if(!(b==="_owner"&&i.$$typeof)&&!nm(i[b],c[b]))return!1}return!0}return i!==i&&c!==c}function j0(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function xy(i,c){const f=j0(i);return Math.round(c*f)/f}function Sg(i){const c=U.useRef(i);return qp(()=>{c.current=i}),c}function I_(i){i===void 0&&(i={});const{placement:c="bottom",strategy:f="absolute",middleware:m=[],platform:y,elements:{reference:b,floating:M}={},transform:R=!0,whileElementsMounted:L,open:N}=i,[I,F]=U.useState({x:0,y:0,strategy:f,placement:c,middlewareData:{},isPositioned:!1}),[D,W]=U.useState(m);nm(D,m)||W(m);const[X,$]=U.useState(null),[j,oe]=U.useState(null),de=U.useCallback(De=>{De!==Oe.current&&(Oe.current=De,$(De))},[]),he=U.useCallback(De=>{De!==Ge.current&&(Ge.current=De,oe(De))},[]),fe=b||X,xe=M||j,Oe=U.useRef(null),Ge=U.useRef(null),ze=U.useRef(I),Xe=L!=null,it=Sg(L),st=Sg(y),gt=Sg(N),_t=U.useCallback(()=>{if(!Oe.current||!Ge.current)return;const De={placement:c,strategy:f,middleware:D};st.current&&(De.platform=st.current),D_(Oe.current,Ge.current,De).then(pe=>{const Re={...pe,isPositioned:gt.current!==!1};It.current&&!nm(ze.current,Re)&&(ze.current=Re,hm.flushSync(()=>{F(Re)}))})},[D,c,f,st,gt]);qp(()=>{N===!1&&ze.current.isPositioned&&(ze.current.isPositioned=!1,F(De=>({...De,isPositioned:!1})))},[N]);const It=U.useRef(!1);qp(()=>(It.current=!0,()=>{It.current=!1}),[]),qp(()=>{if(fe&&(Oe.current=fe),xe&&(Ge.current=xe),fe&&xe){if(it.current)return it.current(fe,xe,_t);_t()}},[fe,xe,_t,it,Xe]);const nn=U.useMemo(()=>({reference:Oe,floating:Ge,setReference:de,setFloating:he}),[de,he]),Dt=U.useMemo(()=>({reference:fe,floating:xe}),[fe,xe]),Rt=U.useMemo(()=>{const De={position:f,left:0,top:0};if(!Dt.floating)return De;const pe=xy(Dt.floating,I.x),Re=xy(Dt.floating,I.y);return R?{...De,transform:"translate("+pe+"px, "+Re+"px)",...j0(Dt.floating)>=1.5&&{willChange:"transform"}}:{position:f,left:pe,top:Re}},[f,R,Dt.floating,I.x,I.y]);return U.useMemo(()=>({...I,update:_t,refs:nn,elements:Dt,floatingStyles:Rt}),[I,_t,nn,Dt,Rt])}const k_=i=>{function c(f){return{}.hasOwnProperty.call(f,"current")}return{name:"arrow",options:i,fn(f){const{element:m,padding:y}=typeof i=="function"?i(f):i;return m&&c(m)?m.current!=null?yy({element:m.current,padding:y}).fn(f):{}:m?yy({element:m,padding:y}).fn(f):{}}}},z_=(i,c)=>({...C_(i),options:[i,c]}),B_=(i,c)=>({...L_(i),options:[i,c]}),wy=(i,c)=>({...O_(i),options:[i,c]}),by=(i,c)=>({...A_(i),options:[i,c]}),F_=(i,c)=>({...P_(i),options:[i,c]}),_y=(i,c)=>({...N_(i),options:[i,c]}),H_=(i,c)=>({...k_(i),options:[i,c]}),V0={...nw},U_=V0.useInsertionEffect,G_=U_||(i=>i());function j_(i){const c=U.useRef(()=>{});return G_(()=>{c.current=i}),U.useCallback(function(){for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];return c.current==null?void 0:c.current(...m)},[])}var Fg=typeof document<"u"?U.useLayoutEffect:U.useEffect;let Sy=!1,V_=0;const My=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+V_++;function W_(){const[i,c]=U.useState(()=>Sy?My():void 0);return Fg(()=>{i==null&&c(My())},[]),U.useEffect(()=>{Sy=!0},[]),i}const $_=V0.useId,q_=$_||W_;function X_(){const i=new Map;return{emit(c,f){var m;(m=i.get(c))==null||m.forEach(y=>y(f))},on(c,f){i.set(c,[...i.get(c)||[],f])},off(c,f){var m;i.set(c,((m=i.get(c))==null?void 0:m.filter(y=>y!==f))||[])}}}const Y_=U.createContext(null),Z_=U.createContext(null),J_=()=>{var i;return((i=U.useContext(Y_))==null?void 0:i.id)||null},Q_=()=>U.useContext(Z_);function K_(i){const{open:c=!1,onOpenChange:f,elements:m}=i,y=q_(),b=U.useRef({}),[M]=U.useState(()=>X_()),R=J_()!=null,[L,N]=U.useState(m.reference),I=j_((W,X,$)=>{b.current.openEvent=W?X:void 0,M.emit("openchange",{open:W,event:X,reason:$,nested:R}),f==null||f(W,X,$)}),F=U.useMemo(()=>({setPositionReference:N}),[]),D=U.useMemo(()=>({reference:L||m.reference||null,floating:m.floating||null,domReference:m.reference}),[L,m.reference,m.floating]);return U.useMemo(()=>({dataRef:b,open:c,onOpenChange:I,elements:D,events:M,floatingId:y,refs:F}),[c,I,D,M,y,F])}function eS(i){i===void 0&&(i={});const{nodeId:c}=i,f=K_({...i,elements:{reference:null,floating:null,...i.elements}}),m=i.rootContext||f,y=m.elements,[b,M]=U.useState(null),[R,L]=U.useState(null),I=(y==null?void 0:y.domReference)||b,F=U.useRef(null),D=Q_();Fg(()=>{I&&(F.current=I)},[I]);const W=I_({...i,elements:{...y,...R&&{reference:R}}}),X=U.useCallback(he=>{const fe=qi(he)?{getBoundingClientRect:()=>he.getBoundingClientRect(),contextElement:he}:he;L(fe),W.refs.setReference(fe)},[W.refs]),$=U.useCallback(he=>{(qi(he)||he===null)&&(F.current=he,M(he)),(qi(W.refs.reference.current)||W.refs.reference.current===null||he!==null&&!qi(he))&&W.refs.setReference(he)},[W.refs]),j=U.useMemo(()=>({...W.refs,setReference:$,setPositionReference:X,domReference:F}),[W.refs,$,X]),oe=U.useMemo(()=>({...W.elements,domReference:I}),[W.elements,I]),de=U.useMemo(()=>({...W,...m,refs:j,elements:oe,nodeId:c}),[W,j,oe,c,m]);return Fg(()=>{m.dataRef.current.floatingContext=de;const he=D==null?void 0:D.nodesRef.current.find(fe=>fe.id===c);he&&(he.context=de)}),U.useMemo(()=>({...W,context:de,refs:j,elements:oe}),[W,j,oe,de])}function tS(i,c){if(i==="rtl"&&(c.includes("right")||c.includes("left"))){const[f,m]=c.split("-"),y=f==="right"?"left":"right";return m===void 0?y:`${y}-${m}`}return c}function Ey(i,c,f,m){return i==="center"||m==="center"?{top:c}:i==="end"?{bottom:f}:i==="start"?{top:f}:{}}function Ty(i,c,f,m,y){return i==="center"||m==="center"?{left:c}:i==="end"?{[y==="ltr"?"right":"left"]:f}:i==="start"?{[y==="ltr"?"left":"right"]:f}:{}}const nS={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function rS({position:i,arrowSize:c,arrowOffset:f,arrowRadius:m,arrowPosition:y,arrowX:b,arrowY:M,dir:R}){const[L,N="center"]=i.split("-"),I={width:c,height:c,transform:"rotate(45deg)",position:"absolute",[nS[L]]:m},F=-c/2;return L==="left"?{...I,...Ey(N,M,f,y),right:F,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:L==="right"?{...I,...Ey(N,M,f,y),left:F,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:L==="top"?{...I,...Ty(N,b,f,y,R),bottom:F,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:L==="bottom"?{...I,...Ty(N,b,f,y,R),top:F,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const W0=U.forwardRef(({position:i,arrowSize:c,arrowOffset:f,arrowRadius:m,arrowPosition:y,visible:b,arrowX:M,arrowY:R,style:L,...N},I)=>{const{dir:F}=fm();return b?ne.jsx("div",{...N,ref:I,style:{...L,...rS({position:i,arrowSize:c,arrowOffset:f,arrowRadius:m,arrowPosition:y,dir:F,arrowX:M,arrowY:R})}}):null});W0.displayName="@mantine/core/FloatingArrow";var $0={root:"m_9814e45f"};const iS={zIndex:Tc("modal")},aS=(i,{gradient:c,color:f,backgroundOpacity:m,blur:y,radius:b,zIndex:M})=>({root:{"--overlay-bg":c||(f!==void 0||m!==void 0)&&cs(f||"#000",m??.6)||void 0,"--overlay-filter":y?`blur(${Ye(y)})`:void 0,"--overlay-radius":b===void 0?void 0:Rc(b),"--overlay-z-index":M==null?void 0:M.toString()}}),wm=vu((i,c)=>{const f=hn("Overlay",iS,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,fixed:N,center:I,children:F,radius:D,zIndex:W,gradient:X,blur:$,color:j,backgroundOpacity:oe,mod:de,...he}=f,fe=Wr({name:"Overlay",props:f,classes:$0,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L,varsResolver:aS});return ne.jsx(fn,{ref:c,...fe("root"),mod:[{center:I,fixed:N},de],...he,children:F})});wm.classes=$0;wm.displayName="@mantine/core/Overlay";function oS(i){const c=document.createElement("div");return c.setAttribute("data-portal","true"),typeof i.className=="string"&&c.classList.add(...i.className.split(" ").filter(Boolean)),typeof i.style=="object"&&Object.assign(c.style,i.style),typeof i.id=="string"&&c.setAttribute("id",i.id),c}const sS={},q0=U.forwardRef((i,c)=>{const{children:f,target:m,...y}=hn("Portal",sS,i),[b,M]=U.useState(!1),R=U.useRef(null);return Ph(()=>(M(!0),R.current=m?typeof m=="string"?document.querySelector(m):m:oS(y),Lg(c,R.current),!m&&R.current&&document.body.appendChild(R.current),()=>{!m&&R.current&&document.body.removeChild(R.current)}),[m]),!b||!R.current?null:hm.createPortal(ne.jsx(ne.Fragment,{children:f}),R.current)});q0.displayName="@mantine/core/Portal";function bm({withinPortal:i=!0,children:c,...f}){return i?ne.jsx(q0,{...f,children:c}):ne.jsx(ne.Fragment,{children:c})}bm.displayName="@mantine/core/OptionalPortal";const bh=i=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${i==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),jp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...bh("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...bh("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...bh("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...bh("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...bh("top"),common:{transformOrigin:"top right"}}},Ry={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function lS({transition:i,state:c,duration:f,timingFunction:m}){const y={transitionDuration:`${f}ms`,transitionTimingFunction:m};return typeof i=="string"?i in jp?{transitionProperty:jp[i].transitionProperty,...y,...jp[i].common,...jp[i][Ry[c]]}:{}:{transitionProperty:i.transitionProperty,...y,...i.common,...i[Ry[c]]}}function uS({duration:i,exitDuration:c,timingFunction:f,mounted:m,onEnter:y,onExit:b,onEntered:M,onExited:R,enterDelay:L,exitDelay:N}){const I=gs(),F=Yg(),D=I.respectReducedMotion?F:!1,[W,X]=U.useState(D?0:i),[$,j]=U.useState(m?"entered":"exited"),oe=U.useRef(-1),de=U.useRef(-1),he=U.useRef(-1),fe=Oe=>{const Ge=Oe?y:b,ze=Oe?M:R;window.clearTimeout(oe.current);const Xe=D?0:Oe?i:c;X(Xe),Xe===0?(typeof Ge=="function"&&Ge(),typeof ze=="function"&&ze(),j(Oe?"entered":"exited")):he.current=requestAnimationFrame(()=>{Lb.flushSync(()=>{j(Oe?"pre-entering":"pre-exiting")}),he.current=requestAnimationFrame(()=>{typeof Ge=="function"&&Ge(),j(Oe?"entering":"exiting"),oe.current=window.setTimeout(()=>{typeof ze=="function"&&ze(),j(Oe?"entered":"exited")},Xe)})})},xe=Oe=>{if(window.clearTimeout(de.current),typeof(Oe?L:N)!="number"){fe(Oe);return}de.current=window.setTimeout(()=>{fe(Oe)},Oe?L:N)};return Sc(()=>{xe(m)},[m]),U.useEffect(()=>()=>{window.clearTimeout(oe.current),cancelAnimationFrame(he.current)},[]),{transitionDuration:W,transitionStatus:$,transitionTimingFunction:f||"ease"}}function tf({keepMounted:i,transition:c="fade",duration:f=250,exitDuration:m=f,mounted:y,children:b,timingFunction:M="ease",onExit:R,onEntered:L,onEnter:N,onExited:I,enterDelay:F,exitDelay:D}){const{transitionDuration:W,transitionStatus:X,transitionTimingFunction:$}=uS({mounted:y,exitDuration:m,duration:f,timingFunction:M,onExit:R,onEntered:L,onEnter:N,onExited:I,enterDelay:F,exitDelay:D});return W===0?y?ne.jsx(ne.Fragment,{children:b({})}):i?b({display:"none"}):null:X==="exited"?i?b({display:"none"}):null:ne.jsx(ne.Fragment,{children:b(lS({transition:c,duration:W,state:X,timingFunction:$}))})}tf.displayName="@mantine/core/Transition";const[cS,X0]=Qd("Popover component was not found in the tree");function _m({children:i,active:c=!0,refProp:f="ref",innerRef:m}){const y=u1(c),b=dl(y,m);return qg(i)?U.cloneElement(i,{[f]:b}):i}function Y0(i){return ne.jsx(av,{tabIndex:-1,"data-autofocus":!0,...i})}_m.displayName="@mantine/core/FocusTrap";Y0.displayName="@mantine/core/FocusTrapInitialFocus";_m.InitialFocus=Y0;var Z0={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const dS={},mv=_r((i,c)=>{var j,oe,de,he;const f=hn("PopoverDropdown",dS,i),{className:m,style:y,vars:b,children:M,onKeyDownCapture:R,variant:L,classNames:N,styles:I,...F}=f,D=X0(),W=t0({opened:D.opened,shouldReturnFocus:D.returnFocus}),X=D.withRoles?{"aria-labelledby":D.getTargetId(),id:D.getDropdownId(),role:"dialog",tabIndex:-1}:{},$=dl(c,D.floating);return D.disabled?null:ne.jsx(bm,{...D.portalProps,withinPortal:D.withinPortal,children:ne.jsx(tf,{mounted:D.opened,...D.transitionProps,transition:((j=D.transitionProps)==null?void 0:j.transition)||"fade",duration:((oe=D.transitionProps)==null?void 0:oe.duration)??150,keepMounted:D.keepMounted,exitDuration:typeof((de=D.transitionProps)==null?void 0:de.exitDuration)=="number"?D.transitionProps.exitDuration:(he=D.transitionProps)==null?void 0:he.duration,children:fe=>ne.jsx(_m,{active:D.trapFocus&&D.opened,innerRef:$,children:ne.jsxs(fn,{...X,...F,variant:L,onKeyDownCapture:Xw(D.onClose,{active:D.closeOnEscape,onTrigger:W,onKeyDown:R}),"data-position":D.placement,"data-fixed":D.floatingStrategy==="fixed"||void 0,...D.getStyles("dropdown",{className:m,props:f,classNames:N,styles:I,style:[{...fe,zIndex:D.zIndex,top:D.y??0,left:D.x??0,width:D.width==="target"?void 0:Ye(D.width)},D.resolvedStyles.dropdown,I==null?void 0:I.dropdown,y]}),children:[M,ne.jsx(W0,{ref:D.arrowRef,arrowX:D.arrowX,arrowY:D.arrowY,visible:D.withArrow,position:D.placement,arrowSize:D.arrowSize,arrowRadius:D.arrowRadius,arrowOffset:D.arrowOffset,arrowPosition:D.arrowPosition,...D.getStyles("arrow",{props:f,classNames:N,styles:I})})]})})})})});mv.classes=Z0;mv.displayName="@mantine/core/PopoverDropdown";const fS={refProp:"ref",popupType:"dialog"},J0=_r((i,c)=>{const{children:f,refProp:m,popupType:y,...b}=hn("PopoverTarget",fS,i);if(!qg(f))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const M=b,R=X0(),L=dl(R.reference,p1(f),c),N=R.withRoles?{"aria-haspopup":y,"aria-expanded":R.opened,"aria-controls":R.getDropdownId(),id:R.getTargetId()}:{};return U.cloneElement(f,{...M,...N,...R.targetProps,className:Yi(R.targetProps.className,M.className,f.props.className),[m]:L,...R.controlled?null:{onClick:R.onToggle}})});J0.displayName="@mantine/core/PopoverTarget";function hS({opened:i,floating:c,position:f,positionDependencies:m}){const[y,b]=U.useState(0);U.useEffect(()=>{if(c.refs.reference.current&&c.refs.floating.current&&i)return R_(c.refs.reference.current,c.refs.floating.current,c.update)},[c.refs.reference.current,c.refs.floating.current,i,y,f]),Sc(()=>{c.update()},m),Sc(()=>{b(M=>M+1)},[i])}function pS(i){if(i===void 0)return{shift:!0,flip:!0};const c={...i};return i.shift===void 0&&(c.shift=!0),i.flip===void 0&&(c.flip=!0),c}function mS(i,c){const f=pS(i.middlewares),m=[z_(i.offset)];return f.shift&&m.push(B_(typeof f.shift=="boolean"?{limiter:wy(),padding:5}:{limiter:wy(),padding:5,...f.shift})),f.flip&&m.push(typeof f.flip=="boolean"?by():by(f.flip)),f.inline&&m.push(typeof f.inline=="boolean"?_y():_y(f.inline)),m.push(H_({element:i.arrowRef,padding:i.arrowOffset})),(f.size||i.width==="target")&&m.push(F_({...typeof f.size=="boolean"?{}:f.size,apply({rects:y,availableWidth:b,availableHeight:M,...R}){var I;const N=((I=c().refs.floating.current)==null?void 0:I.style)??{};f.size&&(typeof f.size=="object"&&f.size.apply?f.size.apply({rects:y,availableWidth:b,availableHeight:M,...R}):Object.assign(N,{maxWidth:`${b}px`,maxHeight:`${M}px`})),i.width==="target"&&Object.assign(N,{width:`${y.reference.width}px`})}})),m}function gS(i){const[c,f]=h1({value:i.opened,defaultValue:i.defaultOpened,finalValue:!1,onChange:i.onChange}),m=U.useRef(c),y=()=>{c&&f(!1)},b=()=>f(!c),M=eS({strategy:i.strategy,placement:i.position,middleware:mS(i,()=>M)});return hS({opened:c,position:i.position,positionDependencies:i.positionDependencies||[],floating:M}),Sc(()=>{var R;(R=i.onPositionChange)==null||R.call(i,M.placement)},[M.placement]),Sc(()=>{var R,L;c!==m.current&&(c?(L=i.onOpen)==null||L.call(i):(R=i.onClose)==null||R.call(i)),m.current=c},[c,i.onClose,i.onOpen]),{floating:M,controlled:typeof i.opened=="boolean",opened:c,onClose:y,onToggle:b}}const vS={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Tc("popover"),__staticSelector:"Popover",width:"max-content"},yS=(i,{radius:c,shadow:f})=>({dropdown:{"--popover-radius":c===void 0?void 0:Rc(c),"--popover-shadow":Xg(f)}});function Lc(i){var Qr,Ct,Xt,gn,Ve,Ft;const c=hn("Popover",vS,i),{children:f,position:m,offset:y,onPositionChange:b,positionDependencies:M,opened:R,transitionProps:L,onExitTransitionEnd:N,onEnterTransitionEnd:I,width:F,middlewares:D,withArrow:W,arrowSize:X,arrowOffset:$,arrowRadius:j,arrowPosition:oe,unstyled:de,classNames:he,styles:fe,closeOnClickOutside:xe,withinPortal:Oe,portalProps:Ge,closeOnEscape:ze,clickOutsideEvents:Xe,trapFocus:it,onClose:st,onOpen:gt,onChange:_t,zIndex:It,radius:nn,shadow:Dt,id:Rt,defaultOpened:De,__staticSelector:pe,withRoles:Re,disabled:le,returnFocus:Te,variant:Lt,keepMounted:At,vars:Bt,floatingStrategy:Gt,withOverlay:rn,overlayProps:qt,...pn}=c,He=Wr({name:pe,props:c,classes:Z0,classNames:he,styles:fe,unstyled:de,rootSelector:"dropdown",vars:Bt,varsResolver:yS}),{resolvedStyles:Pt}=W1({classNames:he,styles:fe,props:c}),un=U.useRef(null),[pt,Sn]=U.useState(null),[Yn,lr]=U.useState(null),{dir:jt}=fm(),mn=a0(Rt),Yt=gS({middlewares:D,width:F,position:tS(jt,m),offset:typeof y=="number"?y+(W?X/2:0):y,arrowRef:un,arrowOffset:$,onPositionChange:b,positionDependencies:M,opened:R,defaultOpened:De,onChange:_t,onOpen:gt,onClose:st,strategy:Gt});e1(()=>xe&&Yt.onClose(),Xe,[pt,Yn]);const In=U.useCallback(an=>{Sn(an),Yt.floating.refs.setReference(an)},[Yt.floating.refs.setReference]),Kt=U.useCallback(an=>{lr(an),Yt.floating.refs.setFloating(an)},[Yt.floating.refs.setFloating]),Qe=U.useCallback(()=>{var an;(an=L==null?void 0:L.onExited)==null||an.call(L),N==null||N()},[L==null?void 0:L.onExited,N]),bn=U.useCallback(()=>{var an;(an=L==null?void 0:L.onEntered)==null||an.call(L),I==null||I()},[L==null?void 0:L.onEntered,I]);return ne.jsxs(cS,{value:{returnFocus:Te,disabled:le,controlled:Yt.controlled,reference:In,floating:Kt,x:Yt.floating.x,y:Yt.floating.y,arrowX:(Xt=(Ct=(Qr=Yt.floating)==null?void 0:Qr.middlewareData)==null?void 0:Ct.arrow)==null?void 0:Xt.x,arrowY:(Ft=(Ve=(gn=Yt.floating)==null?void 0:gn.middlewareData)==null?void 0:Ve.arrow)==null?void 0:Ft.y,opened:Yt.opened,arrowRef:un,transitionProps:{...L,onExited:Qe,onEntered:bn},width:F,withArrow:W,arrowSize:X,arrowOffset:$,arrowRadius:j,arrowPosition:oe,placement:Yt.floating.placement,trapFocus:it,withinPortal:Oe,portalProps:Ge,zIndex:It,radius:nn,shadow:Dt,closeOnEscape:ze,onClose:Yt.onClose,onToggle:Yt.onToggle,getTargetId:()=>`${mn}-target`,getDropdownId:()=>`${mn}-dropdown`,withRoles:Re,targetProps:pn,__staticSelector:pe,classNames:he,styles:fe,unstyled:de,variant:Lt,keepMounted:At,getStyles:He,resolvedStyles:Pt,floatingStrategy:Gt},children:[f,rn&&ne.jsx(tf,{transition:"fade",mounted:Yt.opened,duration:(L==null?void 0:L.duration)||250,exitDuration:(L==null?void 0:L.exitDuration)||250,children:an=>ne.jsx(bm,{withinPortal:Oe,children:ne.jsx(wm,{...qt,...He("overlay",{className:qt==null?void 0:qt.className,style:[an,qt==null?void 0:qt.style]})})})})]})}Lc.Target=J0;Lc.Dropdown=mv;Lc.displayName="@mantine/core/Popover";Lc.extend=i=>i;var Ro={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Q0=U.forwardRef(({className:i,...c},f)=>ne.jsxs(fn,{component:"span",className:Yi(Ro.barsLoader,i),...c,ref:f,children:[ne.jsx("span",{className:Ro.bar}),ne.jsx("span",{className:Ro.bar}),ne.jsx("span",{className:Ro.bar})]}));Q0.displayName="@mantine/core/Bars";const K0=U.forwardRef(({className:i,...c},f)=>ne.jsxs(fn,{component:"span",className:Yi(Ro.dotsLoader,i),...c,ref:f,children:[ne.jsx("span",{className:Ro.dot}),ne.jsx("span",{className:Ro.dot}),ne.jsx("span",{className:Ro.dot})]}));K0.displayName="@mantine/core/Dots";const ex=U.forwardRef(({className:i,...c},f)=>ne.jsx(fn,{component:"span",className:Yi(Ro.ovalLoader,i),...c,ref:f}));ex.displayName="@mantine/core/Oval";const tx={bars:Q0,oval:ex,dots:K0},xS={loaders:tx,type:"oval"},wS=(i,{size:c,color:f})=>({root:{"--loader-size":Xi(c,"loader-size"),"--loader-color":f?qd(f,i):void 0}}),Sm=_r((i,c)=>{const f=hn("Loader",xS,i),{size:m,color:y,type:b,vars:M,className:R,style:L,classNames:N,styles:I,unstyled:F,loaders:D,variant:W,children:X,...$}=f,j=Wr({name:"Loader",props:f,classes:Ro,className:R,style:L,classNames:N,styles:I,unstyled:F,vars:M,varsResolver:wS});return X?ne.jsx(fn,{...j("root"),ref:c,...$,children:X}):ne.jsx(fn,{...j("root"),ref:c,component:D[b],variant:W,size:m,...$})});Sm.defaultLoaders=tx;Sm.classes=Ro;Sm.displayName="@mantine/core/Loader";const nx=U.forwardRef(({size:i="var(--cb-icon-size, 70%)",style:c,...f},m)=>ne.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...c,width:i,height:i},ref:m,...f,children:ne.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));nx.displayName="@mantine/core/CloseIcon";var rx={root:"m_86a44da5","root--subtle":"m_220c80f2"};const bS={variant:"subtle"},_S=(i,{size:c,radius:f,iconSize:m})=>({root:{"--cb-size":Xi(c,"cb-size"),"--cb-radius":f===void 0?void 0:Rc(f),"--cb-icon-size":Ye(m)}}),gv=vu((i,c)=>{const f=hn("CloseButton",bS,i),{iconSize:m,children:y,vars:b,radius:M,className:R,classNames:L,style:N,styles:I,unstyled:F,"data-disabled":D,disabled:W,variant:X,icon:$,mod:j,__staticSelector:oe,...de}=f,he=Wr({name:oe||"CloseButton",props:f,className:R,style:N,classes:rx,classNames:L,styles:I,unstyled:F,vars:b,varsResolver:_S});return ne.jsxs(Mc,{ref:c,...de,unstyled:F,variant:X,disabled:W,mod:[{disabled:W||D},j],...he("root",{variant:X,active:!W&&!D}),children:[$||ne.jsx(nx,{}),y]})});gv.classes=rx;gv.displayName="@mantine/core/CloseButton";function SS(i){return U.Children.toArray(i).filter(Boolean)}var ix={root:"m_4081bf90"};const MS={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},ES=(i,{grow:c,preventGrowOverflow:f,gap:m,align:y,justify:b,wrap:M},{childWidth:R})=>({root:{"--group-child-width":c&&f?R:void 0,"--group-gap":To(m),"--group-align":y,"--group-justify":b,"--group-wrap":M}}),ds=_r((i,c)=>{const f=hn("Group",MS,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,children:L,gap:N,align:I,justify:F,wrap:D,grow:W,preventGrowOverflow:X,vars:$,variant:j,__size:oe,mod:de,...he}=f,fe=SS(L),xe=fe.length,Oe=To(N??"md"),ze={childWidth:`calc(${100/xe}% - (${Oe} - ${Oe} / ${xe}))`},Xe=Wr({name:"Group",props:f,stylesCtx:ze,className:y,style:b,classes:ix,classNames:m,styles:M,unstyled:R,vars:$,varsResolver:ES});return ne.jsx(fn,{...Xe("root"),ref:c,variant:j,mod:[{grow:W},de],size:oe,...he,children:fe})});ds.classes=ix;ds.displayName="@mantine/core/Group";const[TS,fl]=Qd("ModalBase component was not found in tree");function RS({opened:i,transitionDuration:c}){const[f,m]=U.useState(i),y=U.useRef(-1),M=Yg()?0:c;return U.useEffect(()=>(i?(m(!0),window.clearTimeout(y.current)):M===0?m(!1):y.current=window.setTimeout(()=>m(!1),M),()=>window.clearTimeout(y.current)),[i,M]),f}function CS({id:i,transitionProps:c,opened:f,trapFocus:m,closeOnEscape:y,onClose:b,returnFocus:M}){const R=a0(i),[L,N]=U.useState(!1),[I,F]=U.useState(!1),D=typeof(c==null?void 0:c.duration)=="number"?c==null?void 0:c.duration:200,W=RS({opened:f,transitionDuration:D});return f1("keydown",X=>{var $;X.key==="Escape"&&y&&f&&(($=X.target)==null?void 0:$.getAttribute("data-mantine-stop-propagation"))!=="true"&&b()},{capture:!0}),t0({opened:f,shouldReturnFocus:m&&M}),{_id:R,titleMounted:L,bodyMounted:I,shouldLockScroll:W,setTitleMounted:N,setBodyMounted:F}}const ax=U.forwardRef(({keepMounted:i,opened:c,onClose:f,id:m,transitionProps:y,onExitTransitionEnd:b,onEnterTransitionEnd:M,trapFocus:R,closeOnEscape:L,returnFocus:N,closeOnClickOutside:I,withinPortal:F,portalProps:D,lockScroll:W,children:X,zIndex:$,shadow:j,padding:oe,__vars:de,unstyled:he,removeScrollProps:fe,...xe},Oe)=>{const{_id:Ge,titleMounted:ze,bodyMounted:Xe,shouldLockScroll:it,setTitleMounted:st,setBodyMounted:gt}=CS({id:m,transitionProps:y,opened:c,trapFocus:R,closeOnEscape:L,onClose:f,returnFocus:N}),{key:_t,...It}=fe||{};return ne.jsx(bm,{...D,withinPortal:F,children:ne.jsx(TS,{value:{opened:c,onClose:f,closeOnClickOutside:I,onExitTransitionEnd:b,onEnterTransitionEnd:M,transitionProps:{...y,keepMounted:i},getTitleId:()=>`${Ge}-title`,getBodyId:()=>`${Ge}-body`,titleMounted:ze,bodyMounted:Xe,setTitleMounted:st,setBodyMounted:gt,trapFocus:R,closeOnEscape:L,zIndex:$,unstyled:he},children:ne.jsx(Zy,{enabled:it&&W,...It,children:ne.jsx(fn,{ref:Oe,...xe,__vars:{...de,"--mb-z-index":($||Tc("modal")).toString(),"--mb-shadow":Xg(j),"--mb-padding":To(oe)},children:X})},_t)})})});ax.displayName="@mantine/core/ModalBase";function LS(){const i=fl();return U.useEffect(()=>(i.setBodyMounted(!0),()=>i.setBodyMounted(!1)),[]),i.getBodyId()}var Jd={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const ox=U.forwardRef(({className:i,...c},f)=>{const m=LS(),y=fl();return ne.jsx(fn,{ref:f,...c,id:m,className:Yi({[Jd.body]:!y.unstyled},i)})});ox.displayName="@mantine/core/ModalBaseBody";const sx=U.forwardRef(({className:i,onClick:c,...f},m)=>{const y=fl();return ne.jsx(gv,{ref:m,...f,onClick:b=>{y.onClose(),c==null||c(b)},className:Yi({[Jd.close]:!y.unstyled},i),unstyled:y.unstyled})});sx.displayName="@mantine/core/ModalBaseCloseButton";const lx=U.forwardRef(({transitionProps:i,className:c,innerProps:f,onKeyDown:m,style:y,...b},M)=>{const R=fl();return ne.jsx(tf,{mounted:R.opened,transition:"pop",...R.transitionProps,onExited:()=>{var L,N,I;(L=R.onExitTransitionEnd)==null||L.call(R),(I=(N=R.transitionProps)==null?void 0:N.onExited)==null||I.call(N)},onEntered:()=>{var L,N,I;(L=R.onEnterTransitionEnd)==null||L.call(R),(I=(N=R.transitionProps)==null?void 0:N.onEntered)==null||I.call(N)},...i,children:L=>ne.jsx("div",{...f,className:Yi({[Jd.inner]:!R.unstyled},f.className),children:ne.jsx(_m,{active:R.opened&&R.trapFocus,innerRef:M,children:ne.jsx(gm,{...b,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":R.bodyMounted?R.getBodyId():void 0,"aria-labelledby":R.titleMounted?R.getTitleId():void 0,style:[y,L],className:Yi({[Jd.content]:!R.unstyled},c),unstyled:R.unstyled,children:b.children})})})})});lx.displayName="@mantine/core/ModalBaseContent";const ux=U.forwardRef(({className:i,...c},f)=>{const m=fl();return ne.jsx(fn,{component:"header",ref:f,className:Yi({[Jd.header]:!m.unstyled},i),...c})});ux.displayName="@mantine/core/ModalBaseHeader";const AS={duration:200,timingFunction:"ease",transition:"fade"};function PS(i){const c=fl();return{...AS,...c.transitionProps,...i}}const cx=U.forwardRef(({onClick:i,transitionProps:c,style:f,visible:m,...y},b)=>{const M=fl(),R=PS(c);return ne.jsx(tf,{mounted:m!==void 0?m:M.opened,...R,transition:"fade",children:L=>ne.jsx(wm,{ref:b,fixed:!0,style:[f,L],zIndex:M.zIndex,unstyled:M.unstyled,onClick:N=>{i==null||i(N),M.closeOnClickOutside&&M.onClose()},...y})})});cx.displayName="@mantine/core/ModalBaseOverlay";function NS(){const i=fl();return U.useEffect(()=>(i.setTitleMounted(!0),()=>i.setTitleMounted(!1)),[]),i.getTitleId()}const dx=U.forwardRef(({className:i,...c},f)=>{const m=NS(),y=fl();return ne.jsx(fn,{component:"h2",ref:f,className:Yi({[Jd.title]:!y.unstyled},i),...c,id:m})});dx.displayName="@mantine/core/ModalBaseTitle";function OS({children:i}){return ne.jsx(ne.Fragment,{children:i})}var fx={root:"m_b6d8b162"};function DS(i){if(i==="start")return"start";if(i==="end"||i)return"end"}const IS={inherit:!1},kS=(i,{variant:c,lineClamp:f,gradient:m,size:y,color:b})=>({root:{"--text-fz":Th(y),"--text-lh":Yw(y),"--text-gradient":c==="gradient"?Pg(m,i):void 0,"--text-line-clamp":typeof f=="number"?f.toString():void 0,"--text-color":b?qd(b,i):void 0}}),pu=vu((i,c)=>{const f=hn("Text",IS,i),{lineClamp:m,truncate:y,inline:b,inherit:M,gradient:R,span:L,__staticSelector:N,vars:I,className:F,style:D,classNames:W,styles:X,unstyled:$,variant:j,mod:oe,size:de,...he}=f,fe=Wr({name:["Text",N],props:f,classes:fx,className:F,style:D,classNames:W,styles:X,unstyled:$,vars:I,varsResolver:kS});return ne.jsx(fn,{...fe("root",{focusable:!0}),ref:c,component:L?"span":"p",variant:j,mod:[{"data-truncate":DS(y),"data-line-clamp":typeof m=="number","data-inline":b,"data-inherit":M},oe],size:de,...he})});pu.classes=fx;pu.displayName="@mantine/core/Text";var hx={root:"m_849cf0da"};const zS={underline:"hover"},vv=vu((i,c)=>{const{underline:f,className:m,unstyled:y,mod:b,...M}=hn("Anchor",zS,i);return ne.jsx(pu,{component:"a",ref:c,className:Yi({[hx.root]:!y},m),...M,mod:[{underline:f},b],__staticSelector:"Anchor",unstyled:y})});vv.classes=hx;vv.displayName="@mantine/core/Anchor";var px={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const BS={},FS=(i,{color:c,size:f,lineSize:m,transitionDuration:y,transitionTimingFunction:b})=>({root:{"--burger-color":c?qd(c,i):void 0,"--burger-size":Xi(f,"burger-size"),"--burger-line-size":m?Ye(m):void 0,"--burger-transition-duration":y===void 0?void 0:`${y}ms`,"--burger-transition-timing-function":b}}),yv=_r((i,c)=>{const f=hn("Burger",BS,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,opened:N,children:I,transitionDuration:F,transitionTimingFunction:D,lineSize:W,...X}=f,$=Wr({name:"Burger",classes:px,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L,varsResolver:FS});return ne.jsxs(Mc,{...$("root"),ref:c,...X,children:[ne.jsx(fn,{mod:["reduce-motion",{opened:N}],...$("burger")}),I]})});yv.classes=px;yv.displayName="@mantine/core/Burger";var nf={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Cy={orientation:"horizontal"},HS=(i,{borderWidth:c})=>({group:{"--button-border-width":Ye(c)}}),xv=_r((i,c)=>{const f=hn("ButtonGroup",Cy,i),{className:m,style:y,classNames:b,styles:M,unstyled:R,orientation:L,vars:N,borderWidth:I,variant:F,mod:D,...W}=hn("ButtonGroup",Cy,i),X=Wr({name:"ButtonGroup",props:f,classes:nf,className:m,style:y,classNames:b,styles:M,unstyled:R,vars:N,varsResolver:HS,rootSelector:"group"});return ne.jsx(fn,{...X("group"),ref:c,variant:F,mod:[{"data-orientation":L},D],role:"group",...W})});xv.classes=nf;xv.displayName="@mantine/core/ButtonGroup";const Ly={},US=(i,{radius:c,color:f,gradient:m,variant:y,autoContrast:b,size:M})=>{const R=i.variantColorResolver({color:f||i.primaryColor,theme:i,gradient:m,variant:y||"filled",autoContrast:b});return{groupSection:{"--section-height":Xi(M,"section-height"),"--section-padding-x":Xi(M,"section-padding-x"),"--section-fz":M!=null&&M.includes("compact")?Th(M.replace("compact-","")):Th(M),"--section-radius":c===void 0?void 0:Rc(c),"--section-bg":f||y?R.background:void 0,"--section-color":R.color,"--section-bd":f||y?R.border:void 0}}},wv=_r((i,c)=>{const f=hn("ButtonGroupSection",Ly,i),{className:m,style:y,classNames:b,styles:M,unstyled:R,vars:L,variant:N,gradient:I,radius:F,autoContrast:D,...W}=hn("ButtonGroupSection",Ly,i),X=Wr({name:"ButtonGroupSection",props:f,classes:nf,className:m,style:y,classNames:b,styles:M,unstyled:R,vars:L,varsResolver:US,rootSelector:"groupSection"});return ne.jsx(fn,{...X("groupSection"),ref:c,variant:N,...W})});wv.classes=nf;wv.displayName="@mantine/core/ButtonGroupSection";const GS={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ye(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},jS={},VS=(i,{radius:c,color:f,gradient:m,variant:y,size:b,justify:M,autoContrast:R})=>{const L=i.variantColorResolver({color:f||i.primaryColor,theme:i,gradient:m,variant:y||"filled",autoContrast:R});return{root:{"--button-justify":M,"--button-height":Xi(b,"button-height"),"--button-padding-x":Xi(b,"button-padding-x"),"--button-fz":b!=null&&b.includes("compact")?Th(b.replace("compact-","")):Th(b),"--button-radius":c===void 0?void 0:Rc(c),"--button-bg":f||y?L.background:void 0,"--button-hover":f||y?L.hover:void 0,"--button-color":L.color,"--button-bd":f||y?L.border:void 0,"--button-hover-color":f||y?L.hoverColor:void 0}}},Co=vu((i,c)=>{const f=hn("Button",jS,i),{style:m,vars:y,className:b,color:M,disabled:R,children:L,leftSection:N,rightSection:I,fullWidth:F,variant:D,radius:W,loading:X,loaderProps:$,gradient:j,classNames:oe,styles:de,unstyled:he,"data-disabled":fe,autoContrast:xe,mod:Oe,...Ge}=f,ze=Wr({name:"Button",props:f,classes:nf,className:b,style:m,classNames:oe,styles:de,unstyled:he,vars:y,varsResolver:VS}),Xe=!!N,it=!!I;return ne.jsxs(Mc,{ref:c,...ze("root",{active:!R&&!X&&!fe}),unstyled:he,variant:D,disabled:R||X,mod:[{disabled:R||fe,loading:X,block:F,"with-left-section":Xe,"with-right-section":it},Oe],...Ge,children:[ne.jsx(tf,{mounted:!!X,transition:GS,duration:150,children:st=>ne.jsx(fn,{component:"span",...ze("loader",{style:st}),"aria-hidden":!0,children:ne.jsx(Sm,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...$})})}),ne.jsxs("span",{...ze("inner"),children:[N&&ne.jsx(fn,{component:"span",...ze("section"),mod:{position:"left"},children:N}),ne.jsx(fn,{component:"span",mod:{loading:X},...ze("label"),children:L}),I&&ne.jsx(fn,{component:"span",...ze("section"),mod:{position:"right"},children:I})]})]})});Co.classes=nf;Co.displayName="@mantine/core/Button";Co.Group=xv;Co.GroupSection=wv;var mx={root:"m_4451eb3a"};const WS={},rm=vu((i,c)=>{const f=hn("Center",WS,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,inline:N,mod:I,...F}=f,D=Wr({name:"Center",props:f,classes:mx,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L});return ne.jsx(fn,{ref:c,mod:[{inline:N},I],...D("root"),...F})});rm.classes=mx;rm.displayName="@mantine/core/Center";var gx={root:"m_3eebeb36",label:"m_9e365f20"};const $S={orientation:"horizontal"},qS=(i,{color:c,variant:f,size:m})=>({root:{"--divider-color":c?qd(c,i):void 0,"--divider-border-style":f,"--divider-size":Xi(m,"divider-size")}}),im=_r((i,c)=>{const f=hn("Divider",$S,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,color:N,orientation:I,label:F,labelPosition:D,mod:W,...X}=f,$=Wr({name:"Divider",classes:gx,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L,varsResolver:qS});return ne.jsx(fn,{ref:c,mod:[{orientation:I,"with-label":!!F},W],...$("root"),...X,role:"separator",children:F&&ne.jsx(fn,{component:"span",mod:{position:D},...$("label"),children:F})})});im.classes=gx;im.displayName="@mantine/core/Divider";const[XS,rf]=Qd("Drawer component was not found in tree");var hl={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const YS={},Mm=_r((i,c)=>{const f=hn("DrawerBody",YS,i),{classNames:m,className:y,style:b,styles:M,vars:R,...L}=f,N=rf();return ne.jsx(ox,{ref:c,...N.getStyles("body",{classNames:m,style:b,styles:M,className:y}),...L})});Mm.classes=hl;Mm.displayName="@mantine/core/DrawerBody";const ZS={},Em=_r((i,c)=>{const f=hn("DrawerCloseButton",ZS,i),{classNames:m,className:y,style:b,styles:M,vars:R,...L}=f,N=rf();return ne.jsx(sx,{ref:c,...N.getStyles("close",{classNames:m,style:b,styles:M,className:y}),...L})});Em.classes=hl;Em.displayName="@mantine/core/DrawerCloseButton";const JS={},Tm=_r((i,c)=>{const f=hn("DrawerContent",JS,i),{classNames:m,className:y,style:b,styles:M,vars:R,children:L,radius:N,__hidden:I,...F}=f,D=rf(),W=D.scrollAreaComponent||OS;return ne.jsx(lx,{...D.getStyles("content",{className:y,style:b,styles:M,classNames:m}),innerProps:D.getStyles("inner",{className:y,style:b,styles:M,classNames:m}),ref:c,...F,radius:N||D.radius||0,"data-hidden":I||void 0,children:ne.jsx(W,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:L})})});Tm.classes=hl;Tm.displayName="@mantine/core/DrawerContent";const QS={},Rm=_r((i,c)=>{const f=hn("DrawerHeader",QS,i),{classNames:m,className:y,style:b,styles:M,vars:R,...L}=f,N=rf();return ne.jsx(ux,{ref:c,...N.getStyles("header",{classNames:m,style:b,styles:M,className:y}),...L})});Rm.classes=hl;Rm.displayName="@mantine/core/DrawerHeader";const KS={},Cm=_r((i,c)=>{const f=hn("DrawerOverlay",KS,i),{classNames:m,className:y,style:b,styles:M,vars:R,...L}=f,N=rf();return ne.jsx(cx,{ref:c,...N.getStyles("overlay",{classNames:m,style:b,styles:M,className:y}),...L})});Cm.classes=hl;Cm.displayName="@mantine/core/DrawerOverlay";function eM(i){switch(i){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function tM(i){if(i==="top"||i==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const nM={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},rM={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},iM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tc("modal"),position:"left"},aM=(i,{position:c,size:f,offset:m})=>({root:{"--drawer-size":Xi(f,"drawer-size"),"--drawer-flex":tM(c),"--drawer-height":c==="left"||c==="right"?void 0:"var(--drawer-size)","--drawer-align":eM(c),"--drawer-justify":c==="right"?"flex-end":void 0,"--drawer-offset":Ye(m)}}),Lm=_r((i,c)=>{const f=hn("DrawerRoot",iM,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,scrollAreaComponent:N,position:I,transitionProps:F,radius:D,...W}=f,{dir:X}=fm(),$=Wr({name:"Drawer",classes:hl,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L,varsResolver:aM}),j=(X==="rtl"?rM:nM)[I];return ne.jsx(XS,{value:{scrollAreaComponent:N,getStyles:$,radius:D},children:ne.jsx(ax,{ref:c,...$("root"),transitionProps:{transition:j,...F},unstyled:R,...W})})});Lm.classes=hl;Lm.displayName="@mantine/core/DrawerRoot";const[oM,sM]=$w();function vx({children:i}){const[c,f]=U.useState([]),[m,y]=U.useState(Tc("modal"));return ne.jsx(oM,{value:{stack:c,addModal:(b,M)=>{f(R=>[...new Set([...R,b])]),y(R=>typeof M=="number"&&typeof R=="number"?Math.max(R,M):R)},removeModal:b=>f(M=>M.filter(R=>R!==b)),getZIndex:b=>`calc(${m} + ${c.indexOf(b)} + 1)`,currentId:c[c.length-1],maxZIndex:m},children:i})}vx.displayName="@mantine/core/DrawerStack";const lM={},Am=_r((i,c)=>{const f=hn("DrawerTitle",lM,i),{classNames:m,className:y,style:b,styles:M,vars:R,...L}=f,N=rf();return ne.jsx(dx,{ref:c,...N.getStyles("title",{classNames:m,style:b,styles:M,className:y}),...L})});Am.classes=hl;Am.displayName="@mantine/core/DrawerTitle";const uM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tc("modal"),withOverlay:!0,withCloseButton:!0},Oo=_r((i,c)=>{const{title:f,withOverlay:m,overlayProps:y,withCloseButton:b,closeButtonProps:M,children:R,opened:L,stackId:N,zIndex:I,...F}=hn("Drawer",uM,i),D=sM(),W=!!f||b,X=D&&N?{closeOnEscape:D.currentId===N,trapFocus:D.currentId===N,zIndex:D.getZIndex(N)}:{},$=m===!1?!1:N&&D?D.currentId===N:L;return U.useEffect(()=>{D&&N&&(L?D.addModal(N,I||Tc("modal")):D.removeModal(N))},[L,N,I]),ne.jsxs(Lm,{ref:c,opened:L,zIndex:D&&N?D.getZIndex(N):I,...F,...X,children:[m&&ne.jsx(Cm,{visible:$,transitionProps:D&&N?{duration:0}:void 0,...y}),ne.jsxs(Tm,{__hidden:D&&N&&L?N!==D.currentId:!1,children:[W&&ne.jsxs(Rm,{children:[f&&ne.jsx(Am,{children:f}),b&&ne.jsx(Em,{...M})]}),ne.jsx(Mm,{children:R})]})]})});Oo.classes=hl;Oo.displayName="@mantine/core/Drawer";Oo.Root=Lm;Oo.Overlay=Cm;Oo.Content=Tm;Oo.Body=Mm;Oo.Header=Rm;Oo.Title=Am;Oo.CloseButton=Em;Oo.Stack=vx;function cM({open:i,close:c,openDelay:f,closeDelay:m}){const y=U.useRef(-1),b=U.useRef(-1),M=()=>{window.clearTimeout(y.current),window.clearTimeout(b.current)},R=()=>{M(),f===0||f===void 0?i():y.current=window.setTimeout(i,f)},L=()=>{M(),m===0||m===void 0?c():b.current=window.setTimeout(c,m)};return U.useEffect(()=>M,[]),{openDropdown:R,closeDropdown:L}}const[dM,yx]=Qd("HoverCard component was not found in the tree"),fM={};function xx(i){const{children:c,onMouseEnter:f,onMouseLeave:m,...y}=hn("HoverCardDropdown",fM,i),b=yx(),M=Jp(f,b.openDropdown),R=Jp(m,b.closeDropdown);return ne.jsx(Lc.Dropdown,{onMouseEnter:M,onMouseLeave:R,...y,children:c})}xx.displayName="@mantine/core/HoverCardDropdown";const hM={refProp:"ref"},wx=U.forwardRef((i,c)=>{const{children:f,refProp:m,eventPropsWrapperName:y,...b}=hn("HoverCardTarget",hM,i);if(!qg(f))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const M=yx(),R=Jp(f.props.onMouseEnter,M.openDropdown),L=Jp(f.props.onMouseLeave,M.closeDropdown),N={onMouseEnter:R,onMouseLeave:L};return ne.jsx(Lc.Target,{refProp:m,ref:c,...b,children:U.cloneElement(f,y?{[y]:N}:N)})});wx.displayName="@mantine/core/HoverCardTarget";const pM={openDelay:0,closeDelay:150,initiallyOpened:!1};function _c(i){const{children:c,onOpen:f,onClose:m,openDelay:y,closeDelay:b,initiallyOpened:M,...R}=hn("HoverCard",pM,i),[L,{open:N,close:I}]=Ag(M,{onClose:m,onOpen:f}),{openDropdown:F,closeDropdown:D}=cM({open:N,close:I,openDelay:y,closeDelay:b});return ne.jsx(dM,{value:{openDropdown:F,closeDropdown:D},children:ne.jsx(Lc,{...R,opened:L,__staticSelector:"HoverCard",children:c})})}_c.displayName="@mantine/core/HoverCard";_c.Target=wx;_c.Dropdown=xx;_c.extend=i=>i;function mM({spacing:i,verticalSpacing:c,cols:f,selector:m}){var I;const y=gs(),b=c===void 0?i:c,M=Ah({"--sg-spacing-x":To(Vd(i)),"--sg-spacing-y":To(Vd(b)),"--sg-cols":(I=Vd(f))==null?void 0:I.toString()}),R=ha(y.breakpoints).reduce((F,D)=>(F[D]||(F[D]={}),typeof i=="object"&&i[D]!==void 0&&(F[D]["--sg-spacing-x"]=To(i[D])),typeof b=="object"&&b[D]!==void 0&&(F[D]["--sg-spacing-y"]=To(b[D])),typeof f=="object"&&f[D]!==void 0&&(F[D]["--sg-cols"]=f[D]),F),{}),N=Jw(ha(R),y.breakpoints).filter(F=>ha(R[F.value]).length>0).map(F=>({query:`(min-width: ${y.breakpoints[F.value]})`,styles:R[F.value]}));return ne.jsx(ev,{styles:M,media:N,selector:m})}function Mg(i){return typeof i=="object"&&i!==null?ha(i):[]}function gM(i){return i.sort((c,f)=>Eh(c)-Eh(f))}function vM({spacing:i,verticalSpacing:c,cols:f}){const m=Array.from(new Set([...Mg(i),...Mg(c),...Mg(f)]));return gM(m)}function yM({spacing:i,verticalSpacing:c,cols:f,selector:m}){var N;const y=c===void 0?i:c,b=Ah({"--sg-spacing-x":To(Vd(i)),"--sg-spacing-y":To(Vd(y)),"--sg-cols":(N=Vd(f))==null?void 0:N.toString()}),M=vM({spacing:i,verticalSpacing:c,cols:f}),R=M.reduce((I,F)=>(I[F]||(I[F]={}),typeof i=="object"&&i[F]!==void 0&&(I[F]["--sg-spacing-x"]=To(i[F])),typeof y=="object"&&y[F]!==void 0&&(I[F]["--sg-spacing-y"]=To(y[F])),typeof f=="object"&&f[F]!==void 0&&(I[F]["--sg-cols"]=f[F]),I),{}),L=M.map(I=>({query:`simple-grid (min-width: ${I})`,styles:R[I]}));return ne.jsx(ev,{styles:b,container:L,selector:m})}var bx={container:"m_925c2d2c",root:"m_2415a157"};const xM={cols:1,spacing:"md",type:"media"},bv=_r((i,c)=>{const f=hn("SimpleGrid",xM,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,cols:N,verticalSpacing:I,spacing:F,type:D,...W}=f,X=Wr({name:"SimpleGrid",classes:bx,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L}),$=f0();return D==="container"?ne.jsxs(ne.Fragment,{children:[ne.jsx(yM,{...f,selector:`.${$}`}),ne.jsx("div",{...X("container"),children:ne.jsx(fn,{ref:c,...X("root",{className:$}),...W})})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx(mM,{...f,selector:`.${$}`}),ne.jsx(fn,{ref:c,...X("root",{className:$}),...W})]})});bv.classes=bx;bv.displayName="@mantine/core/SimpleGrid";var _x={root:"m_7341320d"};const wM={},bM=(i,{size:c,radius:f,variant:m,gradient:y,color:b,autoContrast:M})=>{const R=i.variantColorResolver({color:b||i.primaryColor,theme:i,gradient:y,variant:m||"filled",autoContrast:M});return{root:{"--ti-size":Xi(c,"ti-size"),"--ti-radius":f===void 0?void 0:Rc(f),"--ti-bg":b||m?R.background:void 0,"--ti-color":b||m?R.color:void 0,"--ti-bd":b||m?R.border:void 0}}},_v=_r((i,c)=>{const f=hn("ThemeIcon",wM,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,vars:L,autoContrast:N,...I}=f,F=Wr({name:"ThemeIcon",classes:_x,props:f,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:L,varsResolver:bM});return ne.jsx(fn,{ref:c,...F("root"),...I})});_v.classes=_x;_v.displayName="@mantine/core/ThemeIcon";const _M=["h1","h2","h3","h4","h5","h6"],SM=["xs","sm","md","lg","xl"];function MM(i,c){const f=c!==void 0?c:`h${i}`;return _M.includes(f)?{fontSize:`var(--mantine-${f}-font-size)`,fontWeight:`var(--mantine-${f}-font-weight)`,lineHeight:`var(--mantine-${f}-line-height)`}:SM.includes(f)?{fontSize:`var(--mantine-font-size-${f})`,fontWeight:`var(--mantine-h${i}-font-weight)`,lineHeight:`var(--mantine-h${i}-line-height)`}:{fontSize:Ye(f),fontWeight:`var(--mantine-h${i}-font-weight)`,lineHeight:`var(--mantine-h${i}-line-height)`}}var Sx={root:"m_8a5d1357"};const EM={order:1},TM=(i,{order:c,size:f,lineClamp:m,textWrap:y})=>{const b=MM(c,f);return{root:{"--title-fw":b.fontWeight,"--title-lh":b.lineHeight,"--title-fz":b.fontSize,"--title-line-clamp":typeof m=="number"?m.toString():void 0,"--title-text-wrap":y}}},Sv=_r((i,c)=>{const f=hn("Title",EM,i),{classNames:m,className:y,style:b,styles:M,unstyled:R,order:L,vars:N,size:I,variant:F,lineClamp:D,textWrap:W,mod:X,...$}=f,j=Wr({name:"Title",props:f,classes:Sx,className:y,style:b,classNames:m,styles:M,unstyled:R,vars:N,varsResolver:TM});return[1,2,3,4,5,6].includes(L)?ne.jsx(fn,{...j("root"),component:`h${L}`,variant:F,ref:c,mod:[{order:L,"data-line-clamp":typeof D=="number"},X],size:I,...$}):null});Sv.classes=Sx;Sv.displayName="@mantine/core/Title";var _h={},Ay;function RM(){if(Ay)return _h;Ay=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.parse=M,_h.serialize=N;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c=/^[\u0021-\u003A\u003C-\u007E]*$/,f=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,m=/^[\u0020-\u003A\u003D-\u007E]*$/,y=Object.prototype.toString,b=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function M(D,W){const X=new b,$=D.length;if($<2)return X;const j=(W==null?void 0:W.decode)||I;let oe=0;do{const de=D.indexOf("=",oe);if(de===-1)break;const he=D.indexOf(";",oe),fe=he===-1?$:he;if(de>fe){oe=D.lastIndexOf(";",de-1)+1;continue}const xe=R(D,oe,de),Oe=L(D,de,xe),Ge=D.slice(xe,Oe);if(X[Ge]===void 0){let ze=R(D,de+1,fe),Xe=L(D,fe,ze);const it=j(D.slice(ze,Xe));X[Ge]=it}oe=fe+1}while(oe<$);return X}function R(D,W,X){do{const $=D.charCodeAt(W);if($!==32&&$!==9)return W}while(++W<X);return X}function L(D,W,X){for(;W>X;){const $=D.charCodeAt(--W);if($!==32&&$!==9)return W+1}return X}function N(D,W,X){const $=(X==null?void 0:X.encode)||encodeURIComponent;if(!i.test(D))throw new TypeError(`argument name is invalid: ${D}`);const j=$(W);if(!c.test(j))throw new TypeError(`argument val is invalid: ${W}`);let oe=D+"="+j;if(!X)return oe;if(X.maxAge!==void 0){if(!Number.isInteger(X.maxAge))throw new TypeError(`option maxAge is invalid: ${X.maxAge}`);oe+="; Max-Age="+X.maxAge}if(X.domain){if(!f.test(X.domain))throw new TypeError(`option domain is invalid: ${X.domain}`);oe+="; Domain="+X.domain}if(X.path){if(!m.test(X.path))throw new TypeError(`option path is invalid: ${X.path}`);oe+="; Path="+X.path}if(X.expires){if(!F(X.expires)||!Number.isFinite(X.expires.valueOf()))throw new TypeError(`option expires is invalid: ${X.expires}`);oe+="; Expires="+X.expires.toUTCString()}if(X.httpOnly&&(oe+="; HttpOnly"),X.secure&&(oe+="; Secure"),X.partitioned&&(oe+="; Partitioned"),X.priority)switch(typeof X.priority=="string"?X.priority.toLowerCase():void 0){case"low":oe+="; Priority=Low";break;case"medium":oe+="; Priority=Medium";break;case"high":oe+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${X.priority}`)}if(X.sameSite)switch(typeof X.sameSite=="string"?X.sameSite.toLowerCase():X.sameSite){case!0:case"strict":oe+="; SameSite=Strict";break;case"lax":oe+="; SameSite=Lax";break;case"none":oe+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${X.sameSite}`)}return oe}function I(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function F(D){return y.call(D)==="[object Date]"}return _h}RM();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Py="popstate";function CM(i={}){function c(m,y){let{pathname:b,search:M,hash:R}=m.location;return Hg("",{pathname:b,search:M,hash:R},y.state&&y.state.usr||null,y.state&&y.state.key||"default")}function f(m,y){return typeof y=="string"?y:Lh(y)}return AM(c,f,null,i)}function br(i,c){if(i===!1||i===null||typeof i>"u")throw new Error(c)}function ms(i,c){if(!i){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function LM(){return Math.random().toString(36).substring(2,10)}function Ny(i,c){return{usr:i.state,key:i.key,idx:c}}function Hg(i,c,f=null,m){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof c=="string"?af(c):c,state:f,key:c&&c.key||m||LM()}}function Lh({pathname:i="/",search:c="",hash:f=""}){return c&&c!=="?"&&(i+=c.charAt(0)==="?"?c:"?"+c),f&&f!=="#"&&(i+=f.charAt(0)==="#"?f:"#"+f),i}function af(i){let c={};if(i){let f=i.indexOf("#");f>=0&&(c.hash=i.substring(f),i=i.substring(0,f));let m=i.indexOf("?");m>=0&&(c.search=i.substring(m),i=i.substring(0,m)),i&&(c.pathname=i)}return c}function AM(i,c,f,m={}){let{window:y=document.defaultView,v5Compat:b=!1}=m,M=y.history,R="POP",L=null,N=I();N==null&&(N=0,M.replaceState({...M.state,idx:N},""));function I(){return(M.state||{idx:null}).idx}function F(){R="POP";let j=I(),oe=j==null?null:j-N;N=j,L&&L({action:R,location:$.location,delta:oe})}function D(j,oe){R="PUSH";let de=Hg($.location,j,oe);N=I()+1;let he=Ny(de,N),fe=$.createHref(de);try{M.pushState(he,"",fe)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;y.location.assign(fe)}b&&L&&L({action:R,location:$.location,delta:1})}function W(j,oe){R="REPLACE";let de=Hg($.location,j,oe);N=I();let he=Ny(de,N),fe=$.createHref(de);M.replaceState(he,"",fe),b&&L&&L({action:R,location:$.location,delta:0})}function X(j){let oe=y.location.origin!=="null"?y.location.origin:y.location.href,de=typeof j=="string"?j:Lh(j);return de=de.replace(/ $/,"%20"),br(oe,`No window.location.(origin|href) available to create URL for href: ${de}`),new URL(de,oe)}let $={get action(){return R},get location(){return i(y,M)},listen(j){if(L)throw new Error("A history only accepts one active listener");return y.addEventListener(Py,F),L=j,()=>{y.removeEventListener(Py,F),L=null}},createHref(j){return c(y,j)},createURL:X,encodeLocation(j){let oe=X(j);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:D,replace:W,go(j){return M.go(j)}};return $}function Mx(i,c,f="/"){return PM(i,c,f,!1)}function PM(i,c,f,m){let y=typeof c=="string"?af(c):c,b=gu(y.pathname||"/",f);if(b==null)return null;let M=Ex(i);NM(M);let R=null;for(let L=0;R==null&&L<M.length;++L){let N=jM(b);R=UM(M[L],N,m)}return R}function Ex(i,c=[],f=[],m=""){let y=(b,M,R)=>{let L={relativePath:R===void 0?b.path||"":R,caseSensitive:b.caseSensitive===!0,childrenIndex:M,route:b};L.relativePath.startsWith("/")&&(br(L.relativePath.startsWith(m),`Absolute route path "${L.relativePath}" nested under path "${m}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),L.relativePath=L.relativePath.slice(m.length));let N=ll([m,L.relativePath]),I=f.concat(L);b.children&&b.children.length>0&&(br(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),Ex(b.children,c,I,N)),!(b.path==null&&!b.index)&&c.push({path:N,score:FM(N,b.index),routesMeta:I})};return i.forEach((b,M)=>{var R;if(b.path===""||!((R=b.path)!=null&&R.includes("?")))y(b,M);else for(let L of Tx(b.path))y(b,M,L)}),c}function Tx(i){let c=i.split("/");if(c.length===0)return[];let[f,...m]=c,y=f.endsWith("?"),b=f.replace(/\?$/,"");if(m.length===0)return y?[b,""]:[b];let M=Tx(m.join("/")),R=[];return R.push(...M.map(L=>L===""?b:[b,L].join("/"))),y&&R.push(...M),R.map(L=>i.startsWith("/")&&L===""?"/":L)}function NM(i){i.sort((c,f)=>c.score!==f.score?f.score-c.score:HM(c.routesMeta.map(m=>m.childrenIndex),f.routesMeta.map(m=>m.childrenIndex)))}var OM=/^:[\w-]+$/,DM=3,IM=2,kM=1,zM=10,BM=-2,Oy=i=>i==="*";function FM(i,c){let f=i.split("/"),m=f.length;return f.some(Oy)&&(m+=BM),c&&(m+=IM),f.filter(y=>!Oy(y)).reduce((y,b)=>y+(OM.test(b)?DM:b===""?kM:zM),m)}function HM(i,c){return i.length===c.length&&i.slice(0,-1).every((m,y)=>m===c[y])?i[i.length-1]-c[c.length-1]:0}function UM(i,c,f=!1){let{routesMeta:m}=i,y={},b="/",M=[];for(let R=0;R<m.length;++R){let L=m[R],N=R===m.length-1,I=b==="/"?c:c.slice(b.length)||"/",F=am({path:L.relativePath,caseSensitive:L.caseSensitive,end:N},I),D=L.route;if(!F&&N&&f&&!m[m.length-1].route.index&&(F=am({path:L.relativePath,caseSensitive:L.caseSensitive,end:!1},I)),!F)return null;Object.assign(y,F.params),M.push({params:y,pathname:ll([b,F.pathname]),pathnameBase:qM(ll([b,F.pathnameBase])),route:D}),F.pathnameBase!=="/"&&(b=ll([b,F.pathnameBase]))}return M}function am(i,c){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[f,m]=GM(i.path,i.caseSensitive,i.end),y=c.match(f);if(!y)return null;let b=y[0],M=b.replace(/(.)\/+$/,"$1"),R=y.slice(1);return{params:m.reduce((N,{paramName:I,isOptional:F},D)=>{if(I==="*"){let X=R[D]||"";M=b.slice(0,b.length-X.length).replace(/(.)\/+$/,"$1")}const W=R[D];return F&&!W?N[I]=void 0:N[I]=(W||"").replace(/%2F/g,"/"),N},{}),pathname:b,pathnameBase:M,pattern:i}}function GM(i,c=!1,f=!0){ms(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let m=[],y="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,R,L)=>(m.push({paramName:R,isOptional:L!=null}),L?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(m.push({paramName:"*"}),y+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):f?y+="\\/*$":i!==""&&i!=="/"&&(y+="(?:(?=\\/|$))"),[new RegExp(y,c?void 0:"i"),m]}function jM(i){try{return i.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return ms(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),i}}function gu(i,c){if(c==="/")return i;if(!i.toLowerCase().startsWith(c.toLowerCase()))return null;let f=c.endsWith("/")?c.length-1:c.length,m=i.charAt(f);return m&&m!=="/"?null:i.slice(f)||"/"}function VM(i,c="/"){let{pathname:f,search:m="",hash:y=""}=typeof i=="string"?af(i):i;return{pathname:f?f.startsWith("/")?f:WM(f,c):c,search:XM(m),hash:YM(y)}}function WM(i,c){let f=c.replace(/\/+$/,"").split("/");return i.split("/").forEach(y=>{y===".."?f.length>1&&f.pop():y!=="."&&f.push(y)}),f.length>1?f.join("/"):"/"}function Eg(i,c,f,m){return`Cannot include a '${i}' character in a manually specified \`to.${c}\` field [${JSON.stringify(m)}].  Please separate it out to the \`to.${f}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $M(i){return i.filter((c,f)=>f===0||c.route.path&&c.route.path.length>0)}function Rx(i){let c=$M(i);return c.map((f,m)=>m===c.length-1?f.pathname:f.pathnameBase)}function Cx(i,c,f,m=!1){let y;typeof i=="string"?y=af(i):(y={...i},br(!y.pathname||!y.pathname.includes("?"),Eg("?","pathname","search",y)),br(!y.pathname||!y.pathname.includes("#"),Eg("#","pathname","hash",y)),br(!y.search||!y.search.includes("#"),Eg("#","search","hash",y)));let b=i===""||y.pathname==="",M=b?"/":y.pathname,R;if(M==null)R=f;else{let F=c.length-1;if(!m&&M.startsWith("..")){let D=M.split("/");for(;D[0]==="..";)D.shift(),F-=1;y.pathname=D.join("/")}R=F>=0?c[F]:"/"}let L=VM(y,R),N=M&&M!=="/"&&M.endsWith("/"),I=(b||M===".")&&f.endsWith("/");return!L.pathname.endsWith("/")&&(N||I)&&(L.pathname+="/"),L}var ll=i=>i.join("/").replace(/\/\/+/g,"/"),qM=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),XM=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YM=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZM(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Lx=["POST","PUT","PATCH","DELETE"];new Set(Lx);var JM=["GET",...Lx];new Set(JM);var of=U.createContext(null);of.displayName="DataRouter";var Pm=U.createContext(null);Pm.displayName="DataRouterState";var Ax=U.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var QM=U.createContext(new Map);QM.displayName="Fetchers";var KM=U.createContext(null);KM.displayName="Await";var ys=U.createContext(null);ys.displayName="Navigation";var Ih=U.createContext(null);Ih.displayName="Location";var pl=U.createContext({outlet:null,matches:[],isDataRoute:!1});pl.displayName="Route";var Mv=U.createContext(null);Mv.displayName="RouteError";function eE(i,{relative:c}={}){br(kh(),"useHref() may be used only in the context of a <Router> component.");let{basename:f,navigator:m}=U.useContext(ys),{hash:y,pathname:b,search:M}=zh(i,{relative:c}),R=b;return f!=="/"&&(R=b==="/"?f:ll([f,b])),m.createHref({pathname:R,search:M,hash:y})}function kh(){return U.useContext(Ih)!=null}function Ac(){return br(kh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ih).location}var Px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(i){U.useContext(ys).static||U.useLayoutEffect(i)}function tE(){let{isDataRoute:i}=U.useContext(pl);return i?pE():nE()}function nE(){br(kh(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(of),{basename:c,navigator:f}=U.useContext(ys),{matches:m}=U.useContext(pl),{pathname:y}=Ac(),b=JSON.stringify(Rx(m)),M=U.useRef(!1);return Nx(()=>{M.current=!0}),U.useCallback((L,N={})=>{if(ms(M.current,Px),!M.current)return;if(typeof L=="number"){f.go(L);return}let I=Cx(L,JSON.parse(b),y,N.relative==="path");i==null&&c!=="/"&&(I.pathname=I.pathname==="/"?c:ll([c,I.pathname])),(N.replace?f.replace:f.push)(I,N.state,N)},[c,f,b,y,i])}U.createContext(null);function zh(i,{relative:c}={}){let{matches:f}=U.useContext(pl),{pathname:m}=Ac(),y=JSON.stringify(Rx(f));return U.useMemo(()=>Cx(i,JSON.parse(y),m,c==="path"),[i,y,m,c])}function rE(i,c){return Ox(i,c)}function Ox(i,c,f,m){var oe;br(kh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:y}=U.useContext(ys),{matches:b}=U.useContext(pl),M=b[b.length-1],R=M?M.params:{},L=M?M.pathname:"/",N=M?M.pathnameBase:"/",I=M&&M.route;{let de=I&&I.path||"";Dx(L,!I||de.endsWith("*")||de.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${L}" (under <Route path="${de}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${de}"> to <Route path="${de==="/"?"*":`${de}/*`}">.`)}let F=Ac(),D;if(c){let de=typeof c=="string"?af(c):c;br(N==="/"||((oe=de.pathname)==null?void 0:oe.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${de.pathname}" was given in the \`location\` prop.`),D=de}else D=F;let W=D.pathname||"/",X=W;if(N!=="/"){let de=N.replace(/^\//,"").split("/");X="/"+W.replace(/^\//,"").split("/").slice(de.length).join("/")}let $=Mx(i,{pathname:X});ms(I||$!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ms($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=lE($&&$.map(de=>Object.assign({},de,{params:Object.assign({},R,de.params),pathname:ll([N,y.encodeLocation?y.encodeLocation(de.pathname).pathname:de.pathname]),pathnameBase:de.pathnameBase==="/"?N:ll([N,y.encodeLocation?y.encodeLocation(de.pathnameBase).pathname:de.pathnameBase])})),b,f,m);return c&&j?U.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},j):j}function iE(){let i=hE(),c=ZM(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),f=i instanceof Error?i.stack:null,m="rgba(200,200,200, 0.5)",y={padding:"0.5rem",backgroundColor:m},b={padding:"2px 4px",backgroundColor:m},M=null;return console.error("Error handled by React Router default ErrorBoundary:",i),M=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:b},"ErrorBoundary")," or"," ",U.createElement("code",{style:b},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},c),f?U.createElement("pre",{style:y},f):null,M)}var aE=U.createElement(iE,null),oE=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,c){return c.location!==i.location||c.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:c.error,location:c.location,revalidation:i.revalidation||c.revalidation}}componentDidCatch(i,c){console.error("React Router caught the following error during render",i,c)}render(){return this.state.error!==void 0?U.createElement(pl.Provider,{value:this.props.routeContext},U.createElement(Mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sE({routeContext:i,match:c,children:f}){let m=U.useContext(of);return m&&m.static&&m.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=c.route.id),U.createElement(pl.Provider,{value:i},f)}function lE(i,c=[],f=null,m=null){if(i==null){if(!f)return null;if(f.errors)i=f.matches;else if(c.length===0&&!f.initialized&&f.matches.length>0)i=f.matches;else return null}let y=i,b=f==null?void 0:f.errors;if(b!=null){let L=y.findIndex(N=>N.route.id&&(b==null?void 0:b[N.route.id])!==void 0);br(L>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),y=y.slice(0,Math.min(y.length,L+1))}let M=!1,R=-1;if(f)for(let L=0;L<y.length;L++){let N=y[L];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(R=L),N.route.id){let{loaderData:I,errors:F}=f,D=N.route.loader&&!I.hasOwnProperty(N.route.id)&&(!F||F[N.route.id]===void 0);if(N.route.lazy||D){M=!0,R>=0?y=y.slice(0,R+1):y=[y[0]];break}}}return y.reduceRight((L,N,I)=>{let F,D=!1,W=null,X=null;f&&(F=b&&N.route.id?b[N.route.id]:void 0,W=N.route.errorElement||aE,M&&(R<0&&I===0?(Dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,X=null):R===I&&(D=!0,X=N.route.hydrateFallbackElement||null)));let $=c.concat(y.slice(0,I+1)),j=()=>{let oe;return F?oe=W:D?oe=X:N.route.Component?oe=U.createElement(N.route.Component,null):N.route.element?oe=N.route.element:oe=L,U.createElement(sE,{match:N,routeContext:{outlet:L,matches:$,isDataRoute:f!=null},children:oe})};return f&&(N.route.ErrorBoundary||N.route.errorElement||I===0)?U.createElement(oE,{location:f.location,revalidation:f.revalidation,component:W,error:F,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Ev(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(i){let c=U.useContext(of);return br(c,Ev(i)),c}function cE(i){let c=U.useContext(Pm);return br(c,Ev(i)),c}function dE(i){let c=U.useContext(pl);return br(c,Ev(i)),c}function Tv(i){let c=dE(i),f=c.matches[c.matches.length-1];return br(f.route.id,`${i} can only be used on routes that contain a unique "id"`),f.route.id}function fE(){return Tv("useRouteId")}function hE(){var m;let i=U.useContext(Mv),c=cE("useRouteError"),f=Tv("useRouteError");return i!==void 0?i:(m=c.errors)==null?void 0:m[f]}function pE(){let{router:i}=uE("useNavigate"),c=Tv("useNavigate"),f=U.useRef(!1);return Nx(()=>{f.current=!0}),U.useCallback(async(y,b={})=>{ms(f.current,Px),f.current&&(typeof y=="number"?i.navigate(y):await i.navigate(y,{fromRouteId:c,...b}))},[i,c])}var Dy={};function Dx(i,c,f){!c&&!Dy[i]&&(Dy[i]=!0,ms(!1,f))}U.memo(mE);function mE({routes:i,future:c,state:f}){return Ox(i,void 0,f,c)}function Ug(i){br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gE({basename:i="/",children:c=null,location:f,navigationType:m="POP",navigator:y,static:b=!1}){br(!kh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let M=i.replace(/^\/*/,"/"),R=U.useMemo(()=>({basename:M,navigator:y,static:b,future:{}}),[M,y,b]);typeof f=="string"&&(f=af(f));let{pathname:L="/",search:N="",hash:I="",state:F=null,key:D="default"}=f,W=U.useMemo(()=>{let X=gu(L,M);return X==null?null:{location:{pathname:X,search:N,hash:I,state:F,key:D},navigationType:m}},[M,L,N,I,F,D,m]);return ms(W!=null,`<Router basename="${M}"> is not able to match the URL "${L}${N}${I}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:U.createElement(ys.Provider,{value:R},U.createElement(Ih.Provider,{children:c,value:W}))}function vE({children:i,location:c}){return rE(Gg(i),c)}function Gg(i,c=[]){let f=[];return U.Children.forEach(i,(m,y)=>{if(!U.isValidElement(m))return;let b=[...c,y];if(m.type===U.Fragment){f.push.apply(f,Gg(m.props.children,b));return}br(m.type===Ug,`[${typeof m.type=="string"?m.type:m.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),br(!m.props.index||!m.props.children,"An index route cannot have child routes.");let M={id:m.props.id||b.join("-"),caseSensitive:m.props.caseSensitive,element:m.props.element,Component:m.props.Component,index:m.props.index,path:m.props.path,loader:m.props.loader,action:m.props.action,hydrateFallbackElement:m.props.hydrateFallbackElement,HydrateFallback:m.props.HydrateFallback,errorElement:m.props.errorElement,ErrorBoundary:m.props.ErrorBoundary,hasErrorBoundary:m.props.hasErrorBoundary===!0||m.props.ErrorBoundary!=null||m.props.errorElement!=null,shouldRevalidate:m.props.shouldRevalidate,handle:m.props.handle,lazy:m.props.lazy};m.props.children&&(M.children=Gg(m.props.children,b)),f.push(M)}),f}var Xp="get",Yp="application/x-www-form-urlencoded";function Nm(i){return i!=null&&typeof i.tagName=="string"}function yE(i){return Nm(i)&&i.tagName.toLowerCase()==="button"}function xE(i){return Nm(i)&&i.tagName.toLowerCase()==="form"}function wE(i){return Nm(i)&&i.tagName.toLowerCase()==="input"}function bE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _E(i,c){return i.button===0&&(!c||c==="_self")&&!bE(i)}var Vp=null;function SE(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch{Vp=!0}return Vp}var ME=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(i){return i!=null&&!ME.has(i)?(ms(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):i}function EE(i,c){let f,m,y,b,M;if(xE(i)){let R=i.getAttribute("action");m=R?gu(R,c):null,f=i.getAttribute("method")||Xp,y=Tg(i.getAttribute("enctype"))||Yp,b=new FormData(i)}else if(yE(i)||wE(i)&&(i.type==="submit"||i.type==="image")){let R=i.form;if(R==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let L=i.getAttribute("formaction")||R.getAttribute("action");if(m=L?gu(L,c):null,f=i.getAttribute("formmethod")||R.getAttribute("method")||Xp,y=Tg(i.getAttribute("formenctype"))||Tg(R.getAttribute("enctype"))||Yp,b=new FormData(R,i),!SE()){let{name:N,type:I,value:F}=i;if(I==="image"){let D=N?`${N}.`:"";b.append(`${D}x`,"0"),b.append(`${D}y`,"0")}else N&&b.append(N,F)}}else{if(Nm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');f=Xp,m=null,y=Yp,M=i}return b&&y==="text/plain"&&(M=b,b=void 0),{action:m,method:f.toLowerCase(),encType:y,formData:b,body:M}}function Rv(i,c){if(i===!1||i===null||typeof i>"u")throw new Error(c)}async function TE(i,c){if(i.id in c)return c[i.id];try{let f=await import(i.module);return c[i.id]=f,f}catch(f){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(f),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function CE(i,c,f){let m=await Promise.all(i.map(async y=>{let b=c.routes[y.route.id];if(b){let M=await TE(b,f);return M.links?M.links():[]}return[]}));return NE(m.flat(1).filter(RE).filter(y=>y.rel==="stylesheet"||y.rel==="preload").map(y=>y.rel==="stylesheet"?{...y,rel:"prefetch",as:"style"}:{...y,rel:"prefetch"}))}function Iy(i,c,f,m,y,b){let M=(L,N)=>f[N]?L.route.id!==f[N].route.id:!0,R=(L,N)=>{var I;return f[N].pathname!==L.pathname||((I=f[N].route.path)==null?void 0:I.endsWith("*"))&&f[N].params["*"]!==L.params["*"]};return b==="assets"?c.filter((L,N)=>M(L,N)||R(L,N)):b==="data"?c.filter((L,N)=>{var F;let I=m.routes[L.route.id];if(!I||!I.hasLoader)return!1;if(M(L,N)||R(L,N))return!0;if(L.route.shouldRevalidate){let D=L.route.shouldRevalidate({currentUrl:new URL(y.pathname+y.search+y.hash,window.origin),currentParams:((F=f[0])==null?void 0:F.params)||{},nextUrl:new URL(i,window.origin),nextParams:L.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function LE(i,c){return AE(i.map(f=>{let m=c.routes[f.route.id];if(!m)return[];let y=[m.module];return m.imports&&(y=y.concat(m.imports)),y}).flat(1))}function AE(i){return[...new Set(i)]}function PE(i){let c={},f=Object.keys(i).sort();for(let m of f)c[m]=i[m];return c}function NE(i,c){let f=new Set;return new Set(c),i.reduce((m,y)=>{let b=JSON.stringify(PE(y));return f.has(b)||(f.add(b),m.push({key:b,link:y})),m},[])}function OE(i){let c=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return c.pathname==="/"?c.pathname="_root.data":c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function DE(){let i=U.useContext(of);return Rv(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function IE(){let i=U.useContext(Pm);return Rv(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cv=U.createContext(void 0);Cv.displayName="FrameworkContext";function Ix(){let i=U.useContext(Cv);return Rv(i,"You must render this element inside a <HydratedRouter> element"),i}function kE(i,c){let f=U.useContext(Cv),[m,y]=U.useState(!1),[b,M]=U.useState(!1),{onFocus:R,onBlur:L,onMouseEnter:N,onMouseLeave:I,onTouchStart:F}=c,D=U.useRef(null);U.useEffect(()=>{if(i==="render"&&M(!0),i==="viewport"){let $=oe=>{oe.forEach(de=>{M(de.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return D.current&&j.observe(D.current),()=>{j.disconnect()}}},[i]),U.useEffect(()=>{if(m){let $=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout($)}}},[m]);let W=()=>{y(!0)},X=()=>{y(!1),M(!1)};return f?i!=="intent"?[b,D,{}]:[b,D,{onFocus:Sh(R,W),onBlur:Sh(L,X),onMouseEnter:Sh(N,W),onMouseLeave:Sh(I,X),onTouchStart:Sh(F,W)}]:[!1,D,{}]}function Sh(i,c){return f=>{i&&i(f),f.defaultPrevented||c(f)}}function zE({page:i,...c}){let{router:f}=DE(),m=U.useMemo(()=>Mx(f.routes,i,f.basename),[f.routes,i,f.basename]);return m?U.createElement(FE,{page:i,matches:m,...c}):null}function BE(i){let{manifest:c,routeModules:f}=Ix(),[m,y]=U.useState([]);return U.useEffect(()=>{let b=!1;return CE(i,c,f).then(M=>{b||y(M)}),()=>{b=!0}},[i,c,f]),m}function FE({page:i,matches:c,...f}){let m=Ac(),{manifest:y,routeModules:b}=Ix(),{loaderData:M,matches:R}=IE(),L=U.useMemo(()=>Iy(i,c,R,y,m,"data"),[i,c,R,y,m]),N=U.useMemo(()=>Iy(i,c,R,y,m,"assets"),[i,c,R,y,m]),I=U.useMemo(()=>{if(i===m.pathname+m.search+m.hash)return[];let W=new Set,X=!1;if(c.forEach(j=>{var de;let oe=y.routes[j.route.id];!oe||!oe.hasLoader||(!L.some(he=>he.route.id===j.route.id)&&j.route.id in M&&((de=b[j.route.id])!=null&&de.shouldRevalidate)||oe.hasClientLoader?X=!0:W.add(j.route.id))}),W.size===0)return[];let $=OE(i);return X&&W.size>0&&$.searchParams.set("_routes",c.filter(j=>W.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[M,m,y,L,c,i,b]),F=U.useMemo(()=>LE(N,y),[N,y]),D=BE(N);return U.createElement(U.Fragment,null,I.map(W=>U.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...f})),F.map(W=>U.createElement("link",{key:W,rel:"modulepreload",href:W,...f})),D.map(({key:W,link:X})=>U.createElement("link",{key:W,...X})))}function HE(...i){return c=>{i.forEach(f=>{typeof f=="function"?f(c):f!=null&&(f.current=c)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.1.3")}catch{}function UE({basename:i,children:c,window:f}){let m=U.useRef();m.current==null&&(m.current=CM({window:f,v5Compat:!0}));let y=m.current,[b,M]=U.useState({action:y.action,location:y.location}),R=U.useCallback(L=>{U.startTransition(()=>M(L))},[M]);return U.useLayoutEffect(()=>y.listen(R),[y,R]),U.createElement(gE,{basename:i,children:c,location:b.location,navigationType:b.action,navigator:y})}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bx=U.forwardRef(function({onClick:c,discover:f="render",prefetch:m="none",relative:y,reloadDocument:b,replace:M,state:R,target:L,to:N,preventScrollReset:I,viewTransition:F,...D},W){let{basename:X}=U.useContext(ys),$=typeof N=="string"&&zx.test(N),j,oe=!1;if(typeof N=="string"&&$&&(j=N,kx))try{let Xe=new URL(window.location.href),it=N.startsWith("//")?new URL(Xe.protocol+N):new URL(N),st=gu(it.pathname,X);it.origin===Xe.origin&&st!=null?N=st+it.search+it.hash:oe=!0}catch{ms(!1,`<Link to="${N}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let de=eE(N,{relative:y}),[he,fe,xe]=kE(m,D),Oe=VE(N,{replace:M,state:R,target:L,preventScrollReset:I,relative:y,viewTransition:F});function Ge(Xe){c&&c(Xe),Xe.defaultPrevented||Oe(Xe)}let ze=U.createElement("a",{...D,...xe,href:j||de,onClick:oe||b?c:Ge,ref:HE(W,fe),target:L,"data-discover":!$&&f==="render"?"true":void 0});return he&&!$?U.createElement(U.Fragment,null,ze,U.createElement(zE,{page:de})):ze});Bx.displayName="Link";var Zp=U.forwardRef(function({"aria-current":c="page",caseSensitive:f=!1,className:m="",end:y=!1,style:b,to:M,viewTransition:R,children:L,...N},I){let F=zh(M,{relative:N.relative}),D=Ac(),W=U.useContext(Pm),{navigator:X,basename:$}=U.useContext(ys),j=W!=null&&YE(F)&&R===!0,oe=X.encodeLocation?X.encodeLocation(F).pathname:F.pathname,de=D.pathname,he=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;f||(de=de.toLowerCase(),he=he?he.toLowerCase():null,oe=oe.toLowerCase()),he&&$&&(he=gu(he,$)||he);const fe=oe!=="/"&&oe.endsWith("/")?oe.length-1:oe.length;let xe=de===oe||!y&&de.startsWith(oe)&&de.charAt(fe)==="/",Oe=he!=null&&(he===oe||!y&&he.startsWith(oe)&&he.charAt(oe.length)==="/"),Ge={isActive:xe,isPending:Oe,isTransitioning:j},ze=xe?c:void 0,Xe;typeof m=="function"?Xe=m(Ge):Xe=[m,xe?"active":null,Oe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let it=typeof b=="function"?b(Ge):b;return U.createElement(Bx,{...N,"aria-current":ze,className:Xe,ref:I,style:it,to:M,viewTransition:R},typeof L=="function"?L(Ge):L)});Zp.displayName="NavLink";var GE=U.forwardRef(({discover:i="render",fetcherKey:c,navigate:f,reloadDocument:m,replace:y,state:b,method:M=Xp,action:R,onSubmit:L,relative:N,preventScrollReset:I,viewTransition:F,...D},W)=>{let X=qE(),$=XE(R,{relative:N}),j=M.toLowerCase()==="get"?"get":"post",oe=typeof R=="string"&&zx.test(R),de=he=>{if(L&&L(he),he.defaultPrevented)return;he.preventDefault();let fe=he.nativeEvent.submitter,xe=(fe==null?void 0:fe.getAttribute("formmethod"))||M;X(fe||he.currentTarget,{fetcherKey:c,method:xe,navigate:f,replace:y,state:b,relative:N,preventScrollReset:I,viewTransition:F})};return U.createElement("form",{ref:W,method:j,action:$,onSubmit:m?L:de,...D,"data-discover":!oe&&i==="render"?"true":void 0})});GE.displayName="Form";function jE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fx(i){let c=U.useContext(of);return br(c,jE(i)),c}function VE(i,{target:c,replace:f,state:m,preventScrollReset:y,relative:b,viewTransition:M}={}){let R=tE(),L=Ac(),N=zh(i,{relative:b});return U.useCallback(I=>{if(_E(I,c)){I.preventDefault();let F=f!==void 0?f:Lh(L)===Lh(N);R(i,{replace:F,state:m,preventScrollReset:y,relative:b,viewTransition:M})}},[L,R,N,f,m,c,i,y,b,M])}var WE=0,$E=()=>`__${String(++WE)}__`;function qE(){let{router:i}=Fx("useSubmit"),{basename:c}=U.useContext(ys),f=fE();return U.useCallback(async(m,y={})=>{let{action:b,method:M,encType:R,formData:L,body:N}=EE(m,c);if(y.navigate===!1){let I=y.fetcherKey||$E();await i.fetch(I,f,y.action||b,{preventScrollReset:y.preventScrollReset,formData:L,body:N,formMethod:y.method||M,formEncType:y.encType||R,flushSync:y.flushSync})}else await i.navigate(y.action||b,{preventScrollReset:y.preventScrollReset,formData:L,body:N,formMethod:y.method||M,formEncType:y.encType||R,replace:y.replace,state:y.state,fromRouteId:f,flushSync:y.flushSync,viewTransition:y.viewTransition})},[i,c,f])}function XE(i,{relative:c}={}){let{basename:f}=U.useContext(ys),m=U.useContext(pl);br(m,"useFormAction must be used inside a RouteContext");let[y]=m.matches.slice(-1),b={...zh(i||".",{relative:c})},M=Ac();if(i==null){b.search=M.search;let R=new URLSearchParams(b.search),L=R.getAll("index");if(L.some(I=>I==="")){R.delete("index"),L.filter(F=>F).forEach(F=>R.append("index",F));let I=R.toString();b.search=I?`?${I}`:""}}return(!i||i===".")&&y.route.index&&(b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index"),f!=="/"&&(b.pathname=b.pathname==="/"?f:ll([f,b.pathname])),Lh(b)}function YE(i,c={}){let f=U.useContext(Ax);br(f!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:m}=Fx("useViewTransitionState"),y=zh(i,{relative:c.relative});if(!f.isTransitioning)return!1;let b=gu(f.currentLocation.pathname,m)||f.currentLocation.pathname,M=gu(f.nextLocation.pathname,m)||f.nextLocation.pathname;return am(y.pathname,M)!=null||am(y.pathname,b)!=null}new TextEncoder;const ZE={};var Hx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ky=Lo.createContext&&Lo.createContext(Hx),JE=["attr","size","title"];function QE(i,c){if(i==null)return{};var f=KE(i,c),m,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(i);for(y=0;y<b.length;y++)m=b[y],!(c.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(i,m)&&(f[m]=i[m])}return f}function KE(i,c){if(i==null)return{};var f={};for(var m in i)if(Object.prototype.hasOwnProperty.call(i,m)){if(c.indexOf(m)>=0)continue;f[m]=i[m]}return f}function om(){return om=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(i[m]=f[m])}return i},om.apply(this,arguments)}function zy(i,c){var f=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);c&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(i,y).enumerable})),f.push.apply(f,m)}return f}function sm(i){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?zy(Object(f),!0).forEach(function(m){eT(i,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(f)):zy(Object(f)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(f,m))})}return i}function eT(i,c,f){return c=tT(c),c in i?Object.defineProperty(i,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):i[c]=f,i}function tT(i){var c=nT(i,"string");return typeof c=="symbol"?c:c+""}function nT(i,c){if(typeof i!="object"||!i)return i;var f=i[Symbol.toPrimitive];if(f!==void 0){var m=f.call(i,c||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function Ux(i){return i&&i.map((c,f)=>Lo.createElement(c.tag,sm({key:f},c.attr),Ux(c.child)))}function Om(i){return c=>Lo.createElement(rT,om({attr:sm({},i.attr)},c),Ux(i.child))}function rT(i){var c=f=>{var{attr:m,size:y,title:b}=i,M=QE(i,JE),R=y||f.size||"1em",L;return f.className&&(L=f.className),i.className&&(L=(L?L+" ":"")+i.className),Lo.createElement("svg",om({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},f.attr,m,M,{className:L,style:sm(sm({color:i.color||f.color},f.style),i.style),height:R,width:R,xmlns:"http://www.w3.org/2000/svg"}),b&&Lo.createElement("title",null,b),i.children)};return ky!==void 0?Lo.createElement(ky.Consumer,null,f=>c(f)):c(Hx)}function iT(i){return Om({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18.25 7.6-5.5-3.18a1.49 1.49 0 0 0-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3zM7 14.96v-4.62l4 2.32v4.61l-4-2.31zm5-4.03L8 8.61l4-2.31 4 2.31-4 2.32zm1 6.34v-4.61l4-2.32v4.62l-4 2.31zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3V2zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3V2zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3v2zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3v2z"},child:[]}]})(i)}function aT(i){return Om({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(i)}const oT="_header_u500m_1",sT="_link_u500m_15",lT="_subLink_u500m_57",uT="_dropdownFooter_u500m_77",us={header:oT,link:sT,subLink:lT,dropdownFooter:uT};function By(i){return Om({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(i)}function cT(i){return Om({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M392 105c.9-27 .2-56 .1-57H119.3c0 1-.8 30 .1 57H48c0 68 9.9 102.3 21 126.7S95.4 277 127.7 302c30.1 23.3 95.5 53.6 104.3 57.6v28.3c-4.6 10-23.5 28.2-83.3 28.2H128v48h256v-48h-25.7c-60.7 0-75-19.1-78.3-28.2v-28.3c9.3-4.6 80.9-40.3 104.4-57.5 25.2-18.4 50.9-51.5 58.7-70.3S464 167 464 105h-72zM109.6 211.9c-8.8-18.2-14-37.9-15.7-61.9h28.7c.7 6 1.4 11.3 2.3 16.3 6.6 39.2 14.8 70.2 25.7 96.5-17.3-13.5-31.3-30.8-41-50.9zm292.8 0c-9.9 20.3-24 37.7-41.6 51.3 11-26.2 19-56.8 25.8-96.9.8-5 1.6-10.3 2.3-16.3h29.3c-1.8 24-6.9 43.7-15.8 61.9z"},child:[]}]})(i)}const dT=[{icon:iT,title:"Model Viewer",description:"View models in 3D",link:"/"},{icon:aT,title:"Upload Model",description:"Upload your own model",link:"/"},{icon:cT,title:"My Designs",description:"A collection of some of my blender projects used for 3D printing",link:"/models"}],fT=()=>{const[i,{toggle:c,close:f}]=Ag(!1),[m,{toggle:y}]=Ag(!1),b=dT.map(M=>ne.jsx(Zp,{to:M.link,children:ne.jsx(Mc,{className:us.subLink,children:ne.jsxs(ds,{wrap:"nowrap",align:"center",children:[ne.jsx(_v,{size:34,variant:"default",radius:"md",children:ne.jsx(M.icon,{size:22,color:"#fff"})}),ne.jsxs("div",{children:[ne.jsx(pu,{size:"sm",fw:500,children:M.title}),ne.jsx(pu,{size:"xs",c:"dimmed",children:M.description})]})]})},M.title)}));return ne.jsxs(fn,{pb:120,children:[ne.jsx("header",{className:us.header,children:ne.jsxs(ds,{justify:"right",h:"100%",children:[ne.jsxs(ds,{h:"100%",gap:0,visibleFrom:"sm",children:[ne.jsx(Zp,{to:"/",className:us.link,children:"Home"}),ne.jsxs(_c,{width:600,position:"bottom",radius:"md",shadow:"md",withinPortal:!0,children:[ne.jsx(_c.Target,{children:ne.jsx("a",{href:"#",className:us.link,children:ne.jsxs(rm,{inline:!0,children:[ne.jsx(fn,{component:"span",mr:5,children:"3D Models"}),ne.jsx(By,{size:16})]})})}),ne.jsxs(_c.Dropdown,{style:{overflow:"hidden"},children:[ne.jsx(ds,{justify:"space-between",px:"md",children:ne.jsx(pu,{fw:500,children:"3D Models"})}),ne.jsx(im,{my:"sm"}),ne.jsx(bv,{cols:2,spacing:0,children:b}),ne.jsx("div",{className:us.dropdownFooter,children:ne.jsx(ds,{justify:"space-between",children:ne.jsx("div",{})})})]})]}),ne.jsx(Zp,{to:"/about",className:us.link,children:"About"})]}),ne.jsx(im,{orientation:"vertical"}),ne.jsxs(ds,{visibleFrom:"sm",children:[ne.jsx(Co,{variant:"default",children:"Log in"}),ne.jsx(Co,{children:"Sign up"})]}),ne.jsx(yv,{opened:i,onClick:c,hiddenFrom:"sm"})]})}),ne.jsx(Oo,{opened:i,onClose:f,size:"100%",padding:"md",title:"Navigation",hiddenFrom:"sm",zIndex:1e6,children:ne.jsxs(Oh,{h:"calc(100vh - 80px",mx:"-md",children:[ne.jsx("a",{href:"#",className:us.link,children:"Home"}),ne.jsx(Mc,{className:us.link,onClick:y,children:ne.jsxs(rm,{inline:!0,children:[ne.jsx(fn,{component:"span",mr:5,children:"Features"}),ne.jsx(By,{size:16})]})}),ne.jsx(y0,{in:m,children:b}),ne.jsx("a",{href:"#",className:us.link,children:"Learn"}),ne.jsx("a",{href:"#",className:us.link,children:"Academy"}),ne.jsxs(ds,{justify:"center",grow:!0,pb:"xl",px:"md",children:[ne.jsx(Co,{variant:"default",children:"Log in"}),ne.jsx(Co,{children:"Sign up"})]})]})})]})};function hT(){return ne.jsxs(ne.Fragment,{children:[ne.jsxs(Sv,{ta:"center",mt:100,children:["Welcome to"," ",ne.jsx(pu,{inherit:!0,variant:"gradient",component:"span",gradient:{from:"pink",to:"yellow"},children:"Mantine"})]}),ne.jsxs(pu,{c:"dimmed",ta:"center",size:"lg",maw:580,mx:"auto",mt:"xl",children:["This starter Vite project includes a minimal setup, if you want to learn more on Mantine + Vite integration follow"," ",ne.jsx(vv,{href:"https://mantine.dev/guides/vite/",size:"lg",children:"this guide"}),". To get started edit pages/Home.page.tsx file."]})]})}function pT(){const{setColorScheme:i}=ob();return ne.jsxs(ds,{justify:"center",mt:"xl",children:[ne.jsx(Co,{onClick:()=>i("light"),children:"Light"}),ne.jsx(Co,{onClick:()=>i("dark"),children:"Dark"}),ne.jsx(Co,{onClick:()=>i("auto"),children:"Auto"})]})}function mT(){return ne.jsxs(ne.Fragment,{children:[ne.jsx(hT,{}),ne.jsx(pT,{})]})}function gT(){const i=U.useRef(!1);return U.useEffect(()=>{i.current||(window.StlViewer&&new window.StlViewer(document.getElementById("stl_cont"),{auto_resize:!1,zoom:-5e3,models:[{id:0,filename:"/models/prometheus_award.stl",rotationx:-90}]}),i.current=!0)},[]),ne.jsx("div",{id:"stl_cont",style:{width:"600px",height:"400px"}})}function vT(){return ne.jsx(gm,{withBorder:!0,children:ne.jsx(gT,{})})}function yT(){return ne.jsx(d0,{theme:ZE,children:ne.jsxs(UE,{children:[ne.jsx("div",{className:"app"}),ne.jsx(fT,{}),ne.jsxs(vE,{children:[ne.jsx(Ug,{path:"/",element:ne.jsx(mT,{})}),ne.jsx(Ug,{path:"/models",element:ne.jsx(vT,{})})]})]})})}const Gx=new Worker(new URL("/CritWat.github.io/assets/worker-wDsX_GB0.js",import.meta.url));Gx.onmessage=function(i){console.log("Message received from worker",i.data)};Gx.postMessage({msg_type:0,data:{filename:"example.stl"}});sw.createRoot(document.getElementById("root")).render(ne.jsx(U.StrictMode,{children:ne.jsx(yT,{})}));
